(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/Wbu":function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,"input[type=file][data-v-2250d040]{opacity:0;width:100%;height:200px;position:absolute;cursor:pointer}.filezone[data-v-2250d040]{outline:2px dashed grey;outline-offset:-10px;background:#ccc;color:#696969;padding:10px;min-height:200px;position:relative;cursor:pointer}.filezone[data-v-2250d040]:hover{background:silver}.filezone p[data-v-2250d040]{font-size:1.2em;text-align:center;padding:50px}div.file-listing img[data-v-2250d040]{max-width:90%}div.file-listing[data-v-2250d040]{margin:auto;padding:10px;border-bottom:1px solid #ddd}.preview[data-v-2250d040],div.file-listing img[data-v-2250d040]{height:100px}.preview[data-v-2250d040]{max-width:90%}div.success-container[data-v-2250d040]{text-align:center;color:green}div.remove-container[data-v-2250d040]{text-align:center}div.remove-container a[data-v-2250d040]{color:red;cursor:pointer}a.submit-button[data-v-2250d040]{display:block;text-align:center;width:200px;padding:10px;text-transform:uppercase;background-color:green;color:#fff;font-weight:700;margin:20px auto auto}",""])},"1/6K":function(t,e,i){"use strict";i("uteR")},"7kam":function(t,e,i){var o=i("/Wbu");"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(o,n);o.locals&&(t.exports=o.locals)},Bn6p:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,'.btn-travel{color:#fff!important;background:linear-gradient(0deg,#ffbf00,#f08b23);background-color:transparent;background-color:#f08b23!important;border-color:#f08b23!important;box-shadow:0 2px 2px 0 rgba(156,39,176,.14),0 3px 1px -2px rgba(156,39,176,.2),0 1px 5px 0 rgba(156,39,176,.12)!important}@media only screen and (max-width:767.98px){.vdp-container:not(.desktop) .vdp-picker{width:100%!important;padding:8px}.tour-module .cont .row{width:100%!important}.qty input{border:0;width:50%}}@media screen and (max-width:477px){.vdp-input{min-width:100%!important}.vdp-container{width:100%!important}}@media screen and (max-width:576px){.tour-module .cont{height:100%!important}}.vdp-datepicker__calendar{position:absolute;z-index:2!important;padding:18px!important;background:#fff;width:300px;border:1px solid #ccc}.vdp-datepicker input{padding:8px;border:1px solid orange!important;color:#062348!important;font-size:16px;line-height:32px;outline:none;border-radius:20px;min-height:40px;height:40px!important;font-family:Open Sans!important;font-weight:900;width:100%}.vdp-datepicker input::-moz-placeholder{color:#062348!important}.vdp-datepicker input:-ms-input-placeholder{color:#062348!important}.vdp-datepicker input::placeholder{color:#062348!important}.vdp-datepicker__calendar .day-header{color:#062348;font-family:Open Sans!important;font-weight:900!important}.vdp-datepicker__clear-button{position:absolute;right:20px;top:-11px;color:#0f213d;font-size:36px}.vdp-datepicker__calendar .cell{height:30px;line-height:30px}.vdp-datepicker__calendar .day{font-size:16px;font-weight:500;line-height:30px;color:#0f213d;text-align:center;cursor:pointer;background-image:none!important;height:30px!important}.vdp-datepicker__calendar .cell{display:inline-block;padding:0 5px;width:14.285714285714286%;height:30px!important;line-height:30px!important;text-align:center;vertical-align:middle;border:1px solid transparent}.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).day:hover,.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).month:hover,.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).year:hover{border:1px solid orange!important}.vdp-datepicker__calendar .cell.selected,.vdp-datepicker__calendar .cell.selected:hover{background:rgba(255,165,0,.4392156862745098)!important;background-image:none}.vdp-calendar .calendar-date .week .day.end-date:after,.vdp-calendar .calendar-date .week .day.start-date:before{background-color:orange!important}.vdp-calendar .calendar-date .week .day.end-date,.vdp-calendar .calendar-date .week .day.in-date-range,.vdp-calendar .calendar-date .week .day.start-date{background-color:rgba(255,165,0,.4392156862745098)!important}.vdp-calendar .calendar-date .week .day.today{border:1px solid orange!important}.vdp-calendar-footer .confirm,.vdp-calendar-footer .reset{font-family:Open Sans!important;font-weight:900!important}.vdp-calendar-footer .reset{color:#062348!important}.vdp-calendar-footer .confirm{color:orange!important}.vdp-calendar .calendar-month-title,.vdp-calendar .calendar-week-item{color:#062348!important;font-family:Open Sans!important;font-weight:900!important}.values__hotel-rating:after{content:"";display:inline-block;margin-left:2px;width:13px;height:12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAMAAACOacfrAAAAXVBMVEVMaXH3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD4VMltAAAAHnRSTlMAJsstyPUCQnwB8Pl5osal+yqV2VVFVNp4e/MU8RdBDXhlAAAAV0lEQVR4AUXMNRLAMAADQYU5hjDp/8+Mxyq83TWHaGuQdHnepVrJHZA6O8glqxG0ZcWoKlug6CnsCwDNoBj0HVUnoks1qibyvclJNVv/fN7OKuMQOAPgBw0TBxaiVo4AAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:50%}.multiselect__tags .price{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .price:focus{outline:none!important;box-shadow:none!important}.multiselect-title{color:#062348!important;font-family:Bello Pro}.multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tag{background:#062348}.multiselect__tag-icon:after{color:#fff}.multiselect__option--highlight,.multiselect__option--highlight:after,.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#f08b23}.multiselect{font-family:Open Sans!important;font-weight:900}.multiselect,.multiselect__placeholder{color:#062348}.multiselect__input:focus,.multiselect__single:focus{border-color:#062348}.multiselect__input::-moz-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input:-ms-input-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input::placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect--disabled{background:#fff}.multiselect--disabled .multiselect__select{background:transparent}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:3px solid transparent;border-top-color:orange;box-shadow:0 0 0 1px transparent;background:transparent}.multiselect__spinner{border-radius:50px}.qty .count{font-size:25px;font-weight:700;line-height:30px;padding:0 2px;min-width:35px;font-family:Open Sans;color:#0f213d!important}.qty .count,.qty button{display:inline-block;vertical-align:top;text-align:center}.qty button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;cursor:pointer;color:#fff;width:30px;height:30px;font:30px/1 Arial,sans-serif;border-radius:50%;padding:0;background:#f08b23;border:0}.qty div{text-align:center}.qty .minus:hover,.qty .plus:hover{background:#0f213d!important;color:#fff}.qty input{border:0;width:60%}.qty input::-webkit-inner-spin-button,.qty input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.qty input:disabled{background-color:#fff}',""])},HO8Y:function(t,e,i){var o=i("gof+");"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(o,n);o.locals&&(t.exports=o.locals)},Hcw4:function(t,e,i){"use strict";i.r(e);var o=i("o0o1"),n=i.n(o),a=i("OmDE"),r=i("wd/R"),s=i.n(r);function l(t,e,i,o,n,a,r){try{var s=t[a](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(o,n)}var d={name:"Edit",data:function(){return{meals:[{Id:"115",Name:"AI",desc:"завтраки, обеды, ужины, напитки"},{Id:"114",Name:"BB",desc:"завтраки"},{Id:"112",Name:"FB",desc:"завтраки, обеды, ужины"},{Id:"121",Name:"FB+",desc:"завтраки, обеды, ужины - расширенное меню"},{Id:"113",Name:"HB",desc:"завтраки, ужины"},{Id:"122",Name:"HB+",desc:"завтраки, ужины - расширенное меню"},{Id:"117",Name:"RO",desc:"без питания"},{Id:"116",Name:"UAI",desc:"завтраки, обеды, ужины, напитки - расширенное меню"},{Id:"129",Name:"SC",desc:"самообслуживание"}],loading:!1,load:!1,start:void 0,end:void 0,new_files:[],seconds:0,interval:"",flag:!1,edit_tour:"",minDate:"01/01/2000"}},computed:{menu:function(){return this.$store.getters.menu},clients:function(){return this.$store.getters.clients},isAdmin:function(){return this.$store.getters.isAdmin},isManager:function(){return this.$store.getters.isManager},tourModule:function(){return this.$store.getters.tourModule},countries:function(){return this.$store.getters.countries},cities:function(){return this.$store.getters.cities},hotels:function(){return this.$store.getters.hotels},branches:function(){return this.$store.getters.branches},isCountriesLoading:function(){return this.$store.getters.isCountriesLoading},isCitiesLoading:function(){return this.$store.getters.isCitiesLoading},isHotelsLoading:function(){return this.$store.getters.isHotelsLoading}},created:function(){0===this.countries.length&&this.$store.dispatch("getCountries",{town_id:0})},mounted:function(){var t=this;if(this.clients.length>0){this.load=!0;var e=this.clients.find((function(e){return e.id==t.$route.params.client_id}));this.edit_tour=e.tours.find((function(e){return e.id==t.$route.params.id})),this.loadAdditionalData(),this.load=!1}else this.getClient()},methods:{back:function(){this.isAdmin&&this.$router.push("/admin/client-tours/"+this.$route.params.client_id),this.isManager&&this.$router.push("/manager/client-tours/"+this.$route.params.client_id)},loadAdditionalData:function(){var t=this;if(this.$store.dispatch("getCities",this.edit_tour.TourInfo.country.Id),"Любой"!=this.edit_tour.TourInfo.resort.Name){var e=this.edit_tour.TourInfo.resort.Id;this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:e,star_id:"0"}).then((function(){-1==t.hotels.findIndex((function(e){return e.Id==t.edit_tour.TourInfo.hotel.Id}))&&(t.edit_tour.TourInfo.hotel={Name:"Любой"})}))}else this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:"0",star_id:"0"});this.edit_tour.TourInfo.start=s()(this.edit_tour.TourInfo.date_range.start,"DD/MM/YYYY").toDate(),this.edit_tour.TourInfo.end=s()(this.edit_tour.TourInfo.date_range.end,"DD/MM/YYYY").toDate(),this.edit_tour.TourInfo.delete_files=[],this.edit_tour.TourInfo.new_files=[],this.edit_tour.new_files=[]},getClient:function(){var t,e=this;return(t=n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.load=!0,t.next=3,e.$store.dispatch("setClients").then((function(t){e.$store.commit("setClients",t.data.users),e.$store.commit("setDeletedClients",t.data.deleted_users);var i=e.clients.find((function(t){return t.id==e.$route.params.client_id}));e.edit_tour=i.tours.find((function(t){return t.id==e.$route.params.id})),e.loadAdditionalData(),e.load=!1}));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(o,n){var a=t.apply(e,i);function r(t){l(a,o,n,r,s,"next",t)}function s(t){l(a,o,n,r,s,"throw",t)}r(void 0)}))})()},chooseEditResortCountry:function(t){this.edit_tour.TourInfo.resort={Name:"Любой"},this.edit_tour.TourInfo.hotel={Name:"Любой"},this.edit_tour.TourInfo.country=t,this.$store.dispatch("getCities",this.edit_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseEditResort:function(t){var e=this;if(this.edit_tour.TourInfo.resort=t,"Любой"!=this.edit_tour.TourInfo.resort.Name){var i=this.edit_tour.TourInfo.resort.Id;this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:i,star_id:"0"}).then((function(){-1==e.hotels.findIndex((function(t){return t.Id==e.edit_tour.TourInfo.hotel.Id}))&&(e.edit_tour.TourInfo.hotel={Name:"Любой"})}))}else this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseEditHotel:function(t){this.edit_tour.TourInfo.hotel=t},changeEditDateRange:function(t){this.edit_tour.TourInfo.date_range=t},chooseEditMeal:function(t){this.edit_tour.TourInfo.meal=t},changeEditPrice:function(){this.edit_tour.TourInfo.left=this.edit_tour.TourInfo.price-this.edit_tour.TourInfo.paid},handleEditFiles:function(){for(var t=this.$refs.edit_tour_files.files,e=0;e<t.length&&/\.(jpe?g|png|svg|pdf|txt|docx|doc)$/i.test(t[e].name);e++){var i=new Date;this.new_files.push({type:"file",name:t[e].name,data:t[e],date:i}),this.getImagePreviews(this.new_files)}},onEditResult:function(t){var e=Date.now(),i=new Date;this.new_files.push({type:"audio",name:"record-"+e+".mp3",src:window.URL.createObjectURL(t),data:t,date:i,seconds:this.seconds}),this.countSeconds(),this.getImagePreviews(this.new_files)},deleteFile:function(t,e){this.edit_tour.TourInfo.delete_files.push(t),this.edit_tour.TourInfo.files.splice(e,1)},updateClientTour:function(){var t=this;this.loading=!0,this.edit_tour.StartAt=s()(this.edit_tour.TourInfo.date_range.start,"DD-MM-YYYY"),this.edit_tour.EndAt=s()(this.edit_tour.TourInfo.date_range.end,"DD-MM-YYYY"),console.log(this.edit_tour.EndAt),this.edit_tour.new_files=this.new_files;var e=new FormData;e.append("UserTour",JSON.stringify(this.edit_tour));for(var i=0;i<this.new_files.length;i++){var o=this.new_files[i].data;e.append("new_files["+i+"]",o)}this.$store.dispatch("updateClientTour",e).then((function(e){console.log("response",e),t.edit_tour.TourInfo.delete_files=[],t.edit_tour.TourInfo.new_files=[],t.edit_tour.TourInfo.files=e.TourInfo.files,t.sendMessage("Тур клиента успешно обновлён"),t.loading=!1}))},getImagePreviews:function(t){for(var e=this,i=function(i){if(/\.(jpe?g|png|svg)$/i.test(t[i].name)){var o=new FileReader;o.addEventListener("load",function(){this.$refs["preview"+parseInt(i)][0].src=o.result}.bind(e),!1),o.readAsDataURL(t[i].data)}else e.$nextTick((function(){this.$refs["preview"+parseInt(i)][0].src="/images/LOGO-1.png"}))},o=0;o<t.length;o++)i(o)},removeFile:function(t,e){t.splice(e,1),this.getImagePreviews(t)},onStream:function(t){this.countSeconds(),console.log("Got a stream object:",t)},countSeconds:function(){this.flag=!this.flag,1==this.flag?(this.seconds=0,this.interval=setInterval(this.incrementSeconds,1e3)):clearInterval(this.interval)},incrementSeconds:function(){this.seconds+=1},sendMessage:function(t){this.$notify({group:"info",type:"travel",title:"Сообщение от TravelClub",text:t})}},filters:{pluralizeResorts:function(t){if(1===t)return"курорт";if(t>1&&t<5)return"курорта";if(t>4&&t<20)return"курортов";if(t>19){var e=t%10;return 1===e?"курорт":e>1&&e<5?"курорта":"курортов"}return"курортов"},pluralizeHotels:function(t){if(1===t)return"отель";if(t>1&&t<5)return"отеля";if(t>4&&t<20)return"отелей";if(t>19){var e=t%10;return 1===e?"отель":e>1&&e<5?"отеля":"отелей"}return"отелей"},pluralizeChoose:function(t){return 1===t?"выбран":"выбрано"}},directives:{mask:a.mask}},c=(i("1/6K"),i("Ks1v"),i("NICw"),i("KHd+")),u=Object(c.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[t.load?t._e():i("div",{staticClass:"row mb-5 mx-auto"},[i("div",{staticClass:"col-md-6 col-12"},[i("label",{staticClass:"travel-label"},[t._v("Куда")]),t._v(" "),i("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"country",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[i("multiselect",{attrs:{options:t.countries,"option-height":25,placeholder:"Выберите страну","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name",loading:t.isCountriesLoading,disabled:t.isCountriesLoading,"allow-empty":!1},on:{input:t.chooseEditResortCountry},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[i("b",{class:"slsf-country-to__select-flag flag-ui_narrowtpl_flags_20x13_"+e.option.Id}),t._v(" "),i("span",{staticClass:"option__desc"},[i("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])])]}},{key:"option",fn:function(e){return[i("b",{class:"slsf-country-to__select-flag flag-ui_narrowtpl_flags_20x13_"+e.option.Id}),t._v(" "),i("span",{staticClass:"option__desc"},[i("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])])]}}],null,!0),model:{value:t.edit_tour.TourInfo.country,callback:function(e){t.$set(t.edit_tour.TourInfo,"country",e)},expression:"edit_tour.TourInfo.country"}}),t._v(" "),i("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),i("div",{staticClass:"col-md-6 col-12"},[i("label",{staticClass:"travel-label"},[t._v("Курорт")]),t._v(" "),i("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"resort",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[i("multiselect",{attrs:{value:t.edit_tour.TourInfo.resort,options:t.cities,placeholder:"Введите название курорта","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,loading:t.isCountriesLoading||t.isCitiesLoading,disabled:t.isCountriesLoading||t.isCitiesLoading,"allow-empty":!1,preselectFirst:!0},on:{input:t.chooseEditResort},scopedSlots:t._u([{key:"selection",fn:function(e){var o=e.values,n=(e.search,e.isOpen);return[o.length>3&&!n?i("span",{staticClass:"multiselect__single"},[t._v(t._s(o.length)+" "+t._s(t._f("pluralizeResorts")(o.length))+" "+t._s(t._f("pluralizeChoose")(o.length)))]):t._e()]}}],null,!0)}),t._v(" "),i("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),i("div",{staticClass:"col-md-6 col-12"},[i("label",{staticClass:"travel-label"},[t._v("Отель")]),t._v(" "),i("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"hotel",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[i("multiselect",{attrs:{value:t.edit_tour.TourInfo.hotel,options:t.hotels,placeholder:"Введите название отеля","show-labels":!1,limit:2,maxHeight:200,label:"Name","track-by":"Name","allow-empty":!1,"close-on-select":!0,"clear-on-select":!0,loading:t.isCountriesLoading||t.isHotelsLoading,disabled:t.isCountriesLoading||t.isHotelsLoading},on:{input:t.chooseEditHotel},scopedSlots:t._u([{key:"selection",fn:function(e){var o=e.values,n=(e.search,e.isOpen);return[o.length>3&&!n?i("span",{staticClass:"multiselect__single"},[t._v(t._s(o.length)+" "+t._s(t._f("pluralizeHotels")(o.length))+" "+t._s(t._f("pluralizeChoose")(o.length))+"\n                                ")]):t._e()]}},{key:"singleLabel",fn:function(e){return[i("span",{staticClass:"option__desc"},[i("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))]),t._v(" "),0!=e.option.CommonRate?i("span",{staticClass:"option__title",staticStyle:{float:"right"}},[t._v(t._s(e.option.CommonRate))]):t._e(),t._v(" "),e.option.StarName?i("span",{staticClass:"values__hotel-rating",staticStyle:{float:"right"}},[t._v(t._s(e.option.StarName))]):t._e()])]}},{key:"option",fn:function(e){return[i("div",{staticClass:"option__desc"},[i("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))]),t._v(" "),0!=e.option.CommonRate?i("span",{staticClass:"option__title",staticStyle:{float:"right"}},[t._v(t._s(e.option.CommonRate))]):t._e(),t._v(" "),e.option.StarName?i("span",{staticClass:"values__hotel-rating",staticStyle:{float:"right"}},[t._v(t._s(e.option.StarName))]):t._e()])]}}],null,!0)}),t._v(" "),i("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),i("div",{staticClass:"col-md-6 col-12"},[i("label",{staticClass:"travel-label"},[t._v("Категория номера")]),t._v(" "),i("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"room_type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[i("div",{staticClass:"row multiselect__tags align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.edit_tour.TourInfo.room_type,expression:"edit_tour.TourInfo.room_type"}],staticClass:" multiselect__input price",attrs:{type:"text",placeholder:"Категория номера"},domProps:{value:t.edit_tour.TourInfo.room_type},on:{input:function(e){e.target.composing||t.$set(t.edit_tour.TourInfo,"room_type",e.target.value)}}})]),t._v(" "),i("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),i("div",{staticClass:"col-md-6 col-12"},[i("label",{staticClass:"travel-label"},[t._v("Питание")]),t._v(" "),i("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"meal",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[i("multiselect",{attrs:{options:t.meals,"option-height":25,placeholder:"Выберите питание","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,"allow-empty":!1},on:{input:t.chooseEditMeal},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[i("span",{staticClass:"option__desc"},[i("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])])]}},{key:"option",fn:function(e){return[i("div",[i("div",{staticClass:"option__desc"},[i("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])]),t._v(" "),i("div",{staticClass:"row align-items-center m-auto",staticStyle:{width:"100%",height:"100%"}},[i("p",{staticStyle:{"font-size":"12px",margin:"0px"}},[t._v(t._s(e.option.desc))])])])]}}],null,!0),model:{value:t.edit_tour.TourInfo.meal,callback:function(e){t.$set(t.edit_tour.TourInfo,"meal",e)},expression:"edit_tour.TourInfo.meal"}}),t._v(" "),i("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),i("div",{staticClass:"col-md-6 col-12"},[i("div",{staticClass:"row align-items-center w-100 mx-auto",staticStyle:{width:"100%"}},[i("label",{staticClass:"travel-label"},[t._v("Даты тура")]),t._v(" "),i("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"date_range",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[i("div",{staticClass:"row align-items-center justify-content-center m-auto w-100",staticStyle:{width:"100%"}},[i("VueHotelDatepicker",{ref:"datepickerId",staticClass:"w-100",attrs:{startDate:t.edit_tour.TourInfo.start,endDate:t.edit_tour.TourInfo.end,minDate:t.minDate,placeholder:"Даты тура",format:"DD/MM/YYYY",weekList:["Вс.","Пн.","Вт.","Ср.","Чт.","Пт.","Сб."],monthList:["Янв.","Фев.","Мар.","Апр.","Май.","Июн.","Июл.","Авг.","Сен.","Окт","Ноя.","Дек."],fromText:"С",toText:"По",resetText:"Очистить",confirmText:"Подтвердить",mobile:"mobile"},on:{update:t.changeEditDateRange}})],1),t._v(" "),i("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),t._v(" "),i("div",{staticClass:"col-md-6 col-12"},[i("div",{staticClass:"row align-items-center w-100 m-auto"},[i("label",{staticClass:"travel-label"},[t._v("Цена")]),t._v(" "),i("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"price",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[i("b-form-input",{staticClass:"travel-input",attrs:{type:"number",step:"1",min:"0"},on:{input:t.changeEditPrice},model:{value:t.edit_tour.TourInfo.price,callback:function(e){t.$set(t.edit_tour.TourInfo,"price",e)},expression:"edit_tour.TourInfo.price"}}),t._v(" "),i("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),t._v(" "),i("div",{staticClass:"col-md-6 col-12"},[i("div",{staticClass:"row align-items-center w-100 m-auto"},[i("label",{staticClass:"travel-label"},[t._v("Выплачено")]),t._v(" "),i("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"paid",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[i("b-form-input",{staticClass:"travel-input",attrs:{type:"number",step:"1",min:"0"},on:{input:t.changeEditPrice},model:{value:t.edit_tour.TourInfo.paid,callback:function(e){t.$set(t.edit_tour.TourInfo,"paid",e)},expression:"edit_tour.TourInfo.paid"}}),t._v(" "),i("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),t._v(" "),i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row align-items-center w-100 mx-auto mt-3",staticStyle:{width:"100%"}},[i("label",{staticClass:"travel-label"},[t._v("Дополнительные услуги")]),t._v(" "),i("b-form-textarea",{staticClass:"travel-input",staticStyle:{padding:"5px 15px",border:"1px solid #f08b23","border-radius":"20px !important"},attrs:{rows:"4",cols:"80",placeholder:"Дополнительные услуги"},model:{value:t.edit_tour.TourInfo.services,callback:function(e){t.$set(t.edit_tour.TourInfo,"services",e)},expression:"edit_tour.TourInfo.services"}})],1)]),t._v(" "),i("div",{staticClass:"col-md-12"},[i("label",{staticClass:"travel-label"},[t._v("Авиабилеты")]),t._v(" "),i("avia-tickets-list",{attrs:{avia_tickets:t.edit_tour.TourInfo.avia_tickets}})],1),t._v(" "),i("div",{staticClass:"col-md-12"},[i("label",{staticClass:"travel-label"},[t._v("Пассажиры")]),t._v(" "),i("passengers-list",{attrs:{passengers:t.edit_tour.TourInfo.passengers}})],1),t._v(" "),i("div",{staticClass:"col-md-12"},[i("label",{staticClass:"travel-label"},[t._v("Файлы для клиента")]),t._v(" "),i("div",{staticClass:"form-group row mt-2"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"large-12 medium-12 small-12 filezone"},[i("input",{ref:"edit_tour_files",attrs:{type:"file",id:"files",multiple:""},on:{change:function(e){return t.handleEditFiles()}}}),t._v(" "),i("p",[t._v("\n                                Перетащите файл(ы) сюда"),i("br"),t._v("или нажмите для поиска\n                            ")])]),t._v(" "),i("label",{staticClass:"travel-label"},[t._v("Или запишите голосовое сообщение")]),t._v(" "),i("div",{staticClass:"d-flex justify-content-center mt-2"},[i("vue-record-audio",{attrs:{mode:"press"},on:{stream:t.onStream,result:t.onEditResult}})],1),t._v(" "),i("div",{staticClass:"file-listing"},t._l(t.edit_tour.TourInfo.files,(function(e,o){return i("div",{key:e.name,staticClass:"list-group-item"},[i("div",{staticClass:"row m-auto w-100 align-items-center justify-content-center"},[i("div",{staticClass:"col-4 text-center"},[/\.(jpe?g|png|svg)$/i.test(e.name)?i("img",{staticClass:"preview",attrs:{src:e.path}}):i("img",{staticClass:"preview",attrs:{src:"/images/LOGO-1.png"}})]),t._v(" "),i("div",{staticClass:"col-8"},["file"==e.type?i("div",[i("p",{staticClass:"travel-label"},[t._v(t._s(e.name))])]):t._e(),t._v(" "),"audio"==e.type?i("div",[i("audio-player",{attrs:{audio:e}})],1):t._e()])]),t._v(" "),i("div",{staticClass:"remove-container"},[0==t.loading?i("a",{staticClass:"remove",on:{click:function(i){return t.deleteFile(e,o)}}},[t._v("Удалить")]):t._e()])])})),0),t._v(" "),i("div",{staticClass:"file-listing"},t._l(t.new_files,(function(e,o){return i("div",{staticClass:"list-group-item"},[i("div",{staticClass:"row m-auto w-100 align-items-center justify-content-center"},[i("div",{staticClass:"col-4 text-center"},[i("img",{ref:"preview"+parseInt(o),refInFor:!0,staticClass:"preview"})]),t._v(" "),i("div",{staticClass:"col-8"},["file"==e.type?i("div",[i("p",{staticClass:"travel-label"},[t._v(t._s(e.data.name))])]):t._e(),t._v(" "),"audio"==e.type?i("div",[i("audio-player",{attrs:{audio:e}})],1):t._e()])]),t._v(" "),i("div",{staticClass:"remove-container"},[0==t.loading?i("a",{staticClass:"remove",on:{click:function(e){return t.removeFile(t.new_files,o)}}},[t._v("Отменить")]):t._e()])])})),0)])])])]),t._v(" "),t.load?t._e():i("div",{staticClass:"row w-100 m-auto"},[i("div",{staticClass:"col-6 col-md-6 contact-btn text-center"},[i("button",{staticClass:"btn btn-travel",staticStyle:{width:"100%"},on:{click:t.back}},[t._v("\n                    Отмена\n                ")])]),t._v(" "),i("div",{staticClass:"col-6 col-md-6 contact-btn text-center"},[i("button",{staticClass:"btn btn-travel",staticStyle:{width:"100%"},attrs:{type:"submit",disabled:o||t.loading},on:{click:t.updateClientTour}},[i("div",{staticClass:"row align-items-center justify-content-center m-auto w-100 h-100 text-center"},[t.loading?i("span",{staticClass:"spinner-border spinner-border-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v(" "),t.loading?i("span",{staticClass:"sr-only"},[t._v("Loading...")]):t._e(),t._v("\n                        Сохранить\n                    ")])])])]),t._v(" "),t.load?i("div",{staticClass:"row w-100 m-auto"},[i("div",{staticClass:"text-center text-warning my-2"},[i("b-spinner",{staticClass:"align-middle",attrs:{variant:"warning"}}),t._v(" "),i("strong",[t._v("Загрузка...")])],1)]):t._e()]}}])})],1)}),[],!1,null,"2250d040",null);e.default=u.exports},Ks1v:function(t,e,i){"use strict";i("HO8Y")},NICw:function(t,e,i){"use strict";i("7kam")},"gof+":function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,'@media only screen and (max-width:767.98px){.vhd-container:not(.desktop) .vhd-picker{width:100%!important;padding:8px}.tour-module .cont .row{width:100%!important}.qty input{border:0;width:50%}}@media screen and (max-width:477px){.vhd-input{min-width:100%!important}.vhd-container{width:100%!important}}@media screen and (max-width:576px){.tour-module .cont{height:100%!important}}.vhd-picker{z-index:2!important;min-height:362px!important;padding:18px!important}.vhd-input{padding:8px;border:1px solid orange!important;color:#062348!important;font-size:16px;line-height:32px;outline:none;border-radius:20px;min-height:40px;height:40px!important;font-family:Open Sans!important;font-weight:900;width:100%}.vhd-input::-moz-placeholder{color:#062348!important}.vhd-input:-ms-input-placeholder{color:#062348!important}.vhd-input::placeholder{color:#062348!important}.vhd-container:not(.desktop) .vhd-picker{min-height:362px}.vhd-calendar .calendar-date .week .day[data-v-0cb4ff92]{font-size:16px;font-weight:500;line-height:30px;color:#505050;text-align:center;cursor:pointer}.vhd-calendar .calendar-date .week .day{background-image:none!important;height:30px!important}.vhd-calendar-header{height:20px!important}.vhd-container:not(.desktop) .vhd-calendar-header{height:60px!important}.vhd-container:not(.desktop) .vhd-calendar-header>.info{display:block;width:100%;height:60px;padding-top:32px!important}.vhd-container:not(.desktop) .vhd-calendar-footer{height:36px!important}.vhd-calendar-footer{height:24px!important}.vhd-calendar .calendar-date .week{height:30px!important}.vhd-calendar .calendar-date .week .day.end-date:after,.vhd-calendar .calendar-date .week .day.start-date:before{background-color:orange!important}.vhd-calendar .calendar-date .week .day.end-date,.vhd-calendar .calendar-date .week .day.in-date-range,.vhd-calendar .calendar-date .week .day.start-date{background-color:rgba(255,165,0,.4392156862745098)!important}.vhd-calendar .calendar-date .week .day.today{border:1px solid orange!important}.vhd-calendar-footer .confirm,.vhd-calendar-footer .reset{font-family:Open Sans!important;font-weight:900!important}.vhd-calendar-footer .reset{color:#062348!important}.vhd-calendar-footer .confirm{color:orange!important}.vhd-calendar .calendar-month-title,.vhd-calendar .calendar-week-item{color:#062348!important;font-family:Open Sans!important;font-weight:900!important}.values__hotel-rating:after{content:"";display:inline-block;margin-left:2px;width:13px;height:12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAMAAACOacfrAAAAXVBMVEVMaXH3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD4VMltAAAAHnRSTlMAJsstyPUCQnwB8Pl5osal+yqV2VVFVNp4e/MU8RdBDXhlAAAAV0lEQVR4AUXMNRLAMAADQYU5hjDp/8+Mxyq83TWHaGuQdHnepVrJHZA6O8glqxG0ZcWoKlug6CnsCwDNoBj0HVUnoks1qibyvclJNVv/fN7OKuMQOAPgBw0TBxaiVo4AAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:50%}.multiselect__tags .price{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .price:focus{outline:none!important;box-shadow:none!important}.multiselect-title{color:#062348!important;font-family:Bello Pro}.multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tag{background:#062348}.multiselect__tag-icon:after{color:#fff}.multiselect__option--highlight,.multiselect__option--highlight:after,.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#f08b23}.multiselect{font-family:Open Sans!important;font-weight:900}.multiselect,.multiselect__placeholder{color:#062348}.multiselect__input:focus,.multiselect__single:focus{border-color:#062348}.multiselect__input::-moz-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input:-ms-input-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input::placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect--disabled{background:#fff}.multiselect--disabled .multiselect__select{background:transparent}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:3px solid transparent;border-top-color:orange;box-shadow:0 0 0 1px transparent;background:transparent}.multiselect__spinner{border-radius:50px}.qty .count{font-size:25px;font-weight:700;line-height:30px;padding:0 2px;min-width:35px;font-family:Open Sans;color:#0f213d!important}.qty .count,.qty button{display:inline-block;vertical-align:top;text-align:center}.qty button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;cursor:pointer;color:#fff;width:30px;height:30px;font:30px/1 Arial,sans-serif;border-radius:50%;padding:0;background:#f08b23}.qty div{text-align:center}.qty .minus:hover,.qty .plus:hover{background:#0f213d!important;color:#fff}.qty input{border:0;width:60%}.qty input::-webkit-inner-spin-button,.qty input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.qty input:disabled{background-color:#fff}',""])},uteR:function(t,e,i){var o=i("Bn6p");"string"==typeof o&&(o=[[t.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(o,n);o.locals&&(t.exports=o.locals)}}]);