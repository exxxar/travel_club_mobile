(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"0tIF":function(t,e,o){var i=o("Y9cB");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,n);i.locals&&(t.exports=i.locals)},"9beB":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,".modal-dialog{transform:none!important}#client .modal-dialog{max-width:900px!important}.modal-title,.travel-card-description{color:#062348;font-weight:900;font-family:Open Sans}.travel-card-description{font-size:13px}.more-text{font-family:Open Sans;text-transform:uppercase;color:#f08b23;font-weight:600;font-size:16px;cursor:pointer}.more-button{cursor:pointer;margin:0 10px;right:10px}.more-button div{width:40px;height:40px;display:block;border-radius:50px;text-decoration:none;font-size:40px;color:#fff;background:#f08b23;padding:0!important}.travel-card{border-radius:20px;background:#fff;box-shadow:0 3px 15px rgba(0,0,0,.4196078431372549);-moz-box-shadow:0 3px 15px rgba(0,0,0,.4196078431372549);-webkit-box-shadow:0 3px 15px rgba(0,0,0,.4196078431372549)}.white--text{color:#fff!important;caret-color:#fff!important}.active-tour{background:#f08b23;border-radius:20px;padding:3px 20px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12),0 1px 5px 0 rgba(0,0,0,.2);font-weight:900;text-transform:uppercase;font-family:Open Sans}.control-label{font-family:Open Sans!important;font-weight:900!important;color:#344675;font-size:.7500000025rem}.white-content .form-control::-moz-placeholder{font-family:Open Sans!important;font-weight:900!important}.white-content .form-control:-ms-input-placeholder{font-family:Open Sans!important;font-weight:900!important}.white-content .form-control::placeholder{font-family:Open Sans!important;font-weight:900!important}.white-content .form-control{font-family:Open Sans!important;font-weight:900!important;color:#062348;border-color:#f08b23;border-radius:20px}.v-card>:last-child:not(.v-btn):not(.v-chip){border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.v-card>.v-card__progress+:not(.v-btn):not(.v-chip),.v-card>:first-child:not(.v-btn):not(.v-chip){border-top-left-radius:inherit;border-top-right-radius:inherit}.v-responsive{position:relative;overflow:hidden;flex:1 0 auto;max-width:100%;display:flex}.v-image{z-index:0}.v-card{overflow-wrap:break-word;white-space:normal}.v-responsive__sizer{background:rgba(13,39,75,.3803921568627451);transition:padding-bottom .2s cubic-bezier(.25,.8,.5,1);flex:1 0 0px}.v-image__image--cover{background-size:cover}.v-image__image{background-repeat:no-repeat}.v-image__image,.v-image__placeholder{z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%}.v-responsive__sizer~.v-responsive__content{margin-left:-100%}.v-responsive__content{flex:1 0 0px;max-width:100%}.elevation-24{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12),0 1px 5px 0 rgba(0,0,0,.2)}.v-card__title{align-items:center;display:flex;flex-wrap:wrap;font-size:1.25rem;font-weight:500;letter-spacing:.0125em;line-height:2rem;word-break:break-all}.v-card__subtitle,.v-card__text,.v-card__title{padding:16px}.v-card__subtitle{position:absolute;bottom:0;left:0}.v-card__subtitle h3{font-weight:900;font-family:Open Sans}",""])},CtLc:function(t,e,o){var i=o("aiuK");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,n);i.locals&&(t.exports=i.locals)},"GH2/":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"input[type=file][data-v-3f59c826]{opacity:0;width:100%;height:200px;position:absolute;cursor:pointer}.filezone[data-v-3f59c826]{outline:2px dashed grey;outline-offset:-10px;background:#ccc;color:#696969;padding:10px;min-height:200px;position:relative;cursor:pointer}.filezone[data-v-3f59c826]:hover{background:silver}.filezone p[data-v-3f59c826]{font-size:1.2em;text-align:center;padding:50px}div.file-listing img[data-v-3f59c826]{max-width:90%}div.file-listing[data-v-3f59c826]{margin:auto;padding:10px;border-bottom:1px solid #ddd}.preview[data-v-3f59c826],div.file-listing img[data-v-3f59c826]{height:100px}.preview[data-v-3f59c826]{max-width:90%}div.success-container[data-v-3f59c826]{text-align:center;color:green}div.remove-container[data-v-3f59c826]{text-align:center}div.remove-container a[data-v-3f59c826]{color:red;cursor:pointer}a.submit-button[data-v-3f59c826]{display:block;text-align:center;width:200px;padding:10px;text-transform:uppercase;background-color:green;color:#fff;font-weight:700;margin:20px auto auto}",""])},J8Qa:function(t,e,o){"use strict";o("p1JS")},JRum:function(t,e,o){"use strict";o.r(e);var i=o("o0o1"),n=o.n(i),a=o("OmDE"),r=o("wd/R"),s=o.n(r),l={name:"Edit",props:["edit_tour"],data:function(){return{meals:[{Id:"115",Name:"AI",desc:"завтраки, обеды, ужины, напитки"},{Id:"114",Name:"BB",desc:"завтраки"},{Id:"112",Name:"FB",desc:"завтраки, обеды, ужины"},{Id:"121",Name:"FB+",desc:"завтраки, обеды, ужины - расширенное меню"},{Id:"113",Name:"HB",desc:"завтраки, ужины"},{Id:"122",Name:"HB+",desc:"завтраки, ужины - расширенное меню"},{Id:"117",Name:"RO",desc:"без питания"},{Id:"116",Name:"UAI",desc:"завтраки, обеды, ужины, напитки - расширенное меню"},{Id:"129",Name:"SC",desc:"самообслуживание"}],loading:!1,start:void 0,end:void 0,new_files:[],seconds:0,interval:"",flag:!1}},computed:{menu:function(){return this.$store.getters.menu},tourModule:function(){return this.$store.getters.tourModule},countries:function(){return this.$store.getters.countries},cities:function(){return this.$store.getters.cities},hotels:function(){return this.$store.getters.hotels},branches:function(){return this.$store.getters.branches},isCountriesLoading:function(){return this.$store.getters.isCountriesLoading},isCitiesLoading:function(){return this.$store.getters.isCitiesLoading},isHotelsLoading:function(){return this.$store.getters.isHotelsLoading}},methods:{chooseEditResortCountry:function(t){this.edit_tour.TourInfo.resort={Name:"Любой"},this.edit_tour.TourInfo.hotel={Name:"Любой"},this.edit_tour.TourInfo.country=t,this.$store.dispatch("getCities",this.edit_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseEditResort:function(t){var e=this;if(this.edit_tour.TourInfo.resort=t,"Любой"!=this.edit_tour.TourInfo.resort.Name){var o=this.edit_tour.TourInfo.resort.Id;this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:o,star_id:"0"}).then((function(){-1==e.hotels.findIndex((function(t){return t.Id==e.edit_tour.TourInfo.hotel.Id}))&&(e.edit_tour.TourInfo.hotel={Name:"Любой"})}))}else this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseEditHotel:function(t){this.edit_tour.TourInfo.hotel=t},changeEditDateRange:function(t){this.edit_tour.TourInfo.date_range=t},chooseEditMeal:function(t){this.edit_tour.TourInfo.meal=t},changeEditPrice:function(){this.edit_tour.TourInfo.left=this.edit_tour.TourInfo.price-this.edit_tour.TourInfo.paid},handleEditFiles:function(){for(var t=this.$refs.edit_tour_files.files,e=0;e<t.length&&/\.(jpe?g|png|svg|pdf|txt|docx|doc)$/i.test(t[e].name);e++){var o=new Date;this.new_files.push({type:"file",name:t[e].name,data:t[e],date:o}),this.getImagePreviews(this.new_files)}},onEditResult:function(t){var e=Date.now(),o=new Date;this.new_files.push({type:"audio",name:"record-"+e+".mp3",src:window.URL.createObjectURL(t),data:t,date:o,seconds:this.seconds}),this.countSeconds(),this.getImagePreviews(this.new_files)},deleteFile:function(t,e){this.edit_tour.TourInfo.delete_files.push(t),this.edit_tour.TourInfo.files.splice(e,1)},updateClientTour:function(){var t=this;this.loading=!0,this.edit_tour.StartAt=s()(this.edit_tour.TourInfo.date_range.start,"DD-MM-YYYY"),this.edit_tour.EndAt=s()(this.edit_tour.TourInfo.date_range.end,"DD-MM-YYYY"),console.log(this.edit_tour.EndAt),this.edit_tour.new_files=this.new_files;var e=new FormData;e.append("UserTour",JSON.stringify(this.edit_tour));for(var o=0;o<this.new_files.length;o++){var i=this.new_files[o].data;e.append("new_files["+o+"]",i)}this.$store.dispatch("updateClientTour",e).then((function(e){console.log("response",e),t.edit_tour.TourInfo.delete_files=[],t.edit_tour.TourInfo.new_files=[],t.edit_tour.TourInfo.files=e.TourInfo.files,t.edit_tour.expand=e.expand,t.sendMessage("Тур клиента успешно обновлён"),t.edit_tour={UserId:"",TourId:"",TourInfo:{country:"",resort:"",hotel:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:"",paid:"",left:"",services:"",avia_tickets:[],passengers:[],files:[]},new_files:[],StartAt:"",EndAt:"",Comment:""},t.loading=!1,t.$bvModal.hide("editUserTourModalBox")}))},getImagePreviews:function(t){for(var e=this,o=function(o){if(/\.(jpe?g|png|svg)$/i.test(t[o].name)){var i=new FileReader;i.addEventListener("load",function(){this.$refs["preview"+parseInt(o)][0].src=i.result}.bind(e),!1),i.readAsDataURL(t[o].data)}else e.$nextTick((function(){this.$refs["preview"+parseInt(o)][0].src="/images/LOGO-1.png"}))},i=0;i<t.length;i++)o(i)},removeFile:function(t,e){t.splice(e,1),this.getImagePreviews(t)},onStream:function(t){this.countSeconds(),console.log("Got a stream object:",t)},countSeconds:function(){this.flag=!this.flag,1==this.flag?(this.seconds=0,this.interval=setInterval(this.incrementSeconds,1e3)):clearInterval(this.interval)},incrementSeconds:function(){this.seconds+=1},sendMessage:function(t){this.$notify({group:"info",type:"travel",title:"Сообщение от TravelClub",text:t})}},filters:{pluralizeResorts:function(t){if(1===t)return"курорт";if(t>1&&t<5)return"курорта";if(t>4&&t<20)return"курортов";if(t>19){var e=t%10;return 1===e?"курорт":e>1&&e<5?"курорта":"курортов"}return"курортов"},pluralizeHotels:function(t){if(1===t)return"отель";if(t>1&&t<5)return"отеля";if(t>4&&t<20)return"отелей";if(t>19){var e=t%10;return 1===e?"отель":e>1&&e<5?"отеля":"отелей"}return"отелей"},pluralizeChoose:function(t){return 1===t?"выбран":"выбрано"}},directives:{mask:a.mask}},d=(o("WgmY"),o("gVdr"),o("rl1f"),o("KHd+")),c=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.invalid;return[o("b-modal",{attrs:{id:"editUserTourModalBox",title:"Редактировать тур клиента",centered:"",scrollable:"",size:"lg"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[o("div",{staticClass:"row w-100 m-auto"},[o("div",{staticClass:"col-6 col-md-6 contact-btn text-center"},[o("button",{staticClass:"btn btn-travel",staticStyle:{width:"100%"},on:{click:function(e){return t.$bvModal.hide("editUserTourModalBox")}}},[t._v("\n                        Отмена\n                    ")])]),t._v(" "),o("div",{staticClass:"col-6 col-md-6 contact-btn text-center"},[o("button",{staticClass:"btn btn-travel",staticStyle:{width:"100%"},attrs:{type:"submit",disabled:i||t.loading},on:{click:t.updateClientTour}},[o("div",{staticClass:"row align-items-center justify-content-center m-auto w-100 h-100 text-center"},[t.loading?o("span",{staticClass:"spinner-border spinner-border-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v(" "),t.loading?o("span",{staticClass:"sr-only"},[t._v("Loading...")]):t._e(),t._v("\n                            Сохранить\n                        ")])])])])]},proxy:!0}],null,!0)},[o("div",{staticClass:"row mb-5 mx-auto"},[o("div",{staticClass:"col-md-6 col-12"},[o("label",{staticClass:"control-label"},[t._v("Куда")]),t._v(" "),o("multiselect",{attrs:{options:t.countries,"option-height":25,placeholder:"Выберите страну","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name",loading:t.isCountriesLoading,disabled:t.isCountriesLoading,"allow-empty":!1},on:{input:t.chooseEditResortCountry},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[o("b",{class:"slsf-country-to__select-flag flag-ui_narrowtpl_flags_20x13_"+e.option.Id}),t._v(" "),o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])])]}},{key:"option",fn:function(e){return[o("b",{class:"slsf-country-to__select-flag flag-ui_narrowtpl_flags_20x13_"+e.option.Id}),t._v(" "),o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])])]}}],null,!0),model:{value:t.edit_tour.TourInfo.country,callback:function(e){t.$set(t.edit_tour.TourInfo,"country",e)},expression:"edit_tour.TourInfo.country"}})],1),t._v(" "),o("div",{staticClass:"col-md-6 col-12"},[o("label",{staticClass:"control-label"},[t._v("Курорт")]),t._v(" "),o("multiselect",{attrs:{value:t.edit_tour.TourInfo.resort,options:t.cities,placeholder:"Введите название курорта","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,loading:t.isCountriesLoading||t.isCitiesLoading,disabled:t.isCountriesLoading||t.isCitiesLoading,"allow-empty":!1,preselectFirst:!0},on:{input:t.chooseEditResort},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.values,n=(e.search,e.isOpen);return[i.length>3&&!n?o("span",{staticClass:"multiselect__single"},[t._v(t._s(i.length)+" "+t._s(t._f("pluralizeResorts")(i.length))+" "+t._s(t._f("pluralizeChoose")(i.length)))]):t._e()]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-md-6 col-12"},[o("label",{staticClass:"control-label"},[t._v("Отель")]),t._v(" "),o("multiselect",{attrs:{value:t.edit_tour.TourInfo.hotel,options:t.hotels,placeholder:"Введите название отеля","show-labels":!1,limit:2,maxHeight:200,label:"Name","track-by":"Name","allow-empty":!1,"close-on-select":!0,"clear-on-select":!0,loading:t.isCountriesLoading||t.isHotelsLoading,disabled:t.isCountriesLoading||t.isHotelsLoading},on:{input:t.chooseEditHotel},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.values,n=(e.search,e.isOpen);return[i.length>3&&!n?o("span",{staticClass:"multiselect__single"},[t._v(t._s(i.length)+" "+t._s(t._f("pluralizeHotels")(i.length))+" "+t._s(t._f("pluralizeChoose")(i.length))+"\n                                ")]):t._e()]}},{key:"singleLabel",fn:function(e){return[o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))]),t._v(" "),0!=e.option.CommonRate?o("span",{staticClass:"option__title",staticStyle:{float:"right"}},[t._v(t._s(e.option.CommonRate))]):t._e(),t._v(" "),e.option.StarName?o("span",{staticClass:"values__hotel-rating",staticStyle:{float:"right"}},[t._v(t._s(e.option.StarName))]):t._e()])]}},{key:"option",fn:function(e){return[o("div",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))]),t._v(" "),0!=e.option.CommonRate?o("span",{staticClass:"option__title",staticStyle:{float:"right"}},[t._v(t._s(e.option.CommonRate))]):t._e(),t._v(" "),e.option.StarName?o("span",{staticClass:"values__hotel-rating",staticStyle:{float:"right"}},[t._v(t._s(e.option.StarName))]):t._e()])]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-md-6 col-12"},[o("label",{staticClass:"control-label"},[t._v("Категория номера")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"room_type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("div",{staticClass:"row multiselect__tags align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.edit_tour.TourInfo.room_type,expression:"edit_tour.TourInfo.room_type"}],staticClass:" multiselect__input price",attrs:{type:"text",placeholder:"Категория номера"},domProps:{value:t.edit_tour.TourInfo.room_type},on:{input:function(e){e.target.composing||t.$set(t.edit_tour.TourInfo,"room_type",e.target.value)}}})]),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-md-6 col-12"},[o("label",{staticClass:"control-label"},[t._v("Питание")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"meal",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("multiselect",{attrs:{options:t.meals,"option-height":25,placeholder:"Выберите питание","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,"allow-empty":!1},on:{input:t.chooseEditMeal},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])])]}},{key:"option",fn:function(e){return[o("div",[o("div",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])]),t._v(" "),o("div",{staticClass:"row align-items-center m-auto",staticStyle:{width:"100%",height:"100%"}},[o("p",{staticStyle:{"font-size":"12px",margin:"0px"}},[t._v(t._s(e.option.desc))])])])]}}],null,!0),model:{value:t.edit_tour.TourInfo.meal,callback:function(e){t.$set(t.edit_tour.TourInfo,"meal",e)},expression:"edit_tour.TourInfo.meal"}}),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-md-6 col-12"},[o("div",{staticClass:"row align-items-center w-100 mx-auto",staticStyle:{width:"100%"}},[o("label",{staticClass:"control-label"},[t._v("Даты тура")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"date_range",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("div",{staticClass:"row align-items-center justify-content-center m-auto w-100",staticStyle:{width:"100%"}},[o("VueHotelDatepicker",{ref:"datepickerId",staticClass:"w-100",attrs:{startDate:t.edit_tour.TourInfo.start,endDate:t.edit_tour.TourInfo.end,placeholder:"Даты тура",format:"DD/MM/YYYY",weekList:["Вс.","Пн.","Вт.","Ср.","Чт.","Пт.","Сб."],monthList:["Янв.","Фев.","Мар.","Апр.","Май.","Июн.","Июл.","Авг.","Сен.","Окт","Ноя.","Дек."],fromText:"С",toText:"По",resetText:"Очистить",confirmText:"Подтвердить",mobile:"mobile"},on:{update:t.changeEditDateRange}})],1),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1)]),t._v(" "),o("div",{staticClass:"col-md-6 col-12"},[o("div",{staticClass:"row align-items-center w-100 m-auto",staticStyle:{width:"100%",height:"100%"}},[o("label",{staticClass:"control-label"},[t._v("Цена")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"price",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("div",{staticClass:"row multiselect__tags align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.edit_tour.TourInfo.price,expression:"edit_tour.TourInfo.price"}],staticClass:"multiselect__input price",attrs:{type:"number",step:"1",min:"0"},domProps:{value:t.edit_tour.TourInfo.price},on:{input:[function(e){e.target.composing||t.$set(t.edit_tour.TourInfo,"price",e.target.value)},t.changeEditPrice]}})]),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1)]),t._v(" "),o("div",{staticClass:"col-md-6 col-12"},[o("div",{staticClass:"row align-items-center w-100 m-auto",staticStyle:{width:"100%",height:"100%"}},[o("label",{staticClass:"control-label"},[t._v("Выплачено")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"paid",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("div",{staticClass:"row multiselect__tags align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.edit_tour.TourInfo.paid,expression:"edit_tour.TourInfo.paid"}],staticClass:" multiselect__input price",attrs:{type:"number",step:"1",min:"0"},domProps:{value:t.edit_tour.TourInfo.paid},on:{input:[function(e){e.target.composing||t.$set(t.edit_tour.TourInfo,"paid",e.target.value)},t.changeEditPrice]}})]),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1)]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"row align-items-center w-100 mx-auto mt-3",staticStyle:{width:"100%"}},[o("label",{staticClass:"control-label"},[t._v("Дополнительные услуги")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.edit_tour.TourInfo.services,expression:"edit_tour.TourInfo.services"}],staticClass:"form-control",staticStyle:{padding:"5px 15px",border:"1px solid #f08b23","border-radius":"20px"},attrs:{rows:"4",cols:"80",placeholder:"Дополнительные услуги"},domProps:{value:t.edit_tour.TourInfo.services},on:{input:function(e){e.target.composing||t.$set(t.edit_tour.TourInfo,"services",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("label",{staticClass:"control-label"},[t._v("Авиабилеты")]),t._v(" "),o("avia-tickets-list",{attrs:{avia_tickets:t.edit_tour.TourInfo.avia_tickets}})],1),t._v(" "),o("div",{staticClass:"col-md-12"},[o("label",{staticClass:"control-label"},[t._v("Пассажиры")]),t._v(" "),o("passengers-list",{attrs:{passengers:t.edit_tour.TourInfo.passengers}})],1),t._v(" "),o("div",{staticClass:"col-md-12"},[o("label",{staticClass:"control-label"},[t._v("Файлы для клиента")]),t._v(" "),o("div",{staticClass:"form-group row mt-2"},[o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"large-12 medium-12 small-12 filezone"},[o("input",{ref:"edit_tour_files",attrs:{type:"file",id:"files",multiple:""},on:{change:function(e){return t.handleEditFiles()}}}),t._v(" "),o("p",[t._v("\n                                Перетащите файл(ы) сюда"),o("br"),t._v("или нажмите для поиска\n                            ")])]),t._v(" "),o("label",{staticClass:"control-label"},[t._v("Или запишите голосовое сообщение")]),t._v(" "),o("div",{staticClass:"d-flex justify-content-center mt-2"},[o("vue-record-audio",{attrs:{mode:"press"},on:{stream:t.onStream,result:t.onEditResult}})],1),t._v(" "),o("div",{staticClass:"file-listing"},t._l(t.edit_tour.TourInfo.files,(function(e,i){return o("div",{key:e.name,staticClass:"list-group-item"},[o("div",{staticClass:"row m-auto w-100 align-items-center justify-content-center"},[o("div",{staticClass:"col-4 text-center"},[/\.(jpe?g|png|svg)$/i.test(e.name)?o("img",{staticClass:"preview",attrs:{src:e.path}}):o("img",{staticClass:"preview",attrs:{src:"/images/LOGO-1.png"}})]),t._v(" "),o("div",{staticClass:"col-8"},["file"==e.type?o("div",[o("p",{staticClass:"control-label"},[t._v(t._s(e.name))])]):t._e(),t._v(" "),"audio"==e.type?o("div",[o("audio-player",{attrs:{audio:e}})],1):t._e()])]),t._v(" "),o("div",{staticClass:"remove-container"},[0==t.loading?o("a",{staticClass:"remove",on:{click:function(o){return t.deleteFile(e,i)}}},[t._v("Удалить")]):t._e()])])})),0),t._v(" "),o("div",{staticClass:"file-listing"},t._l(t.new_files,(function(e,i){return o("div",{staticClass:"list-group-item"},[o("div",{staticClass:"row m-auto w-100 align-items-center justify-content-center"},[o("div",{staticClass:"col-4 text-center"},[o("img",{ref:"preview"+parseInt(i),refInFor:!0,staticClass:"preview"})]),t._v(" "),o("div",{staticClass:"col-8"},["file"==e.type?o("div",[o("p",{staticClass:"control-label"},[t._v(t._s(e.data.name))])]):t._e(),t._v(" "),"audio"==e.type?o("div",[o("audio-player",{attrs:{audio:e}})],1):t._e()])]),t._v(" "),o("div",{staticClass:"remove-container"},[0==t.loading?o("a",{staticClass:"remove",on:{click:function(e){return t.removeFile(t.new_files,i)}}},[t._v("Отменить")]):t._e()])])})),0)])])])])])]}}])})}),[],!1,null,"3f59c826",null).exports,u={name:"Create",data:function(){return{city_options:["Донецк","Ростов-на-Дону"],new_tour:{UserId:"",TourId:"",TourInfo:{country:{Id:150,Name:"Россия",Alias:"Russia",Flags:8,HasTickets:!0,HotelIsNotInStop:!0,IsProVisa:!1,IsVisa:!1,OriginalName:"Russia",Rank:0,TicketsIncluded:!0},resort:{Name:"Любой"},hotel:{Name:"Любой"},room_type:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:"",paid:"",left:"",services:"",avia_tickets:[],passengers:[],files:[]},StartAt:"",EndAt:"",Comment:""},new_mode:!1,meals:[{Id:"115",Name:"AI",desc:"завтраки, обеды, ужины, напитки"},{Id:"114",Name:"BB",desc:"завтраки"},{Id:"112",Name:"FB",desc:"завтраки, обеды, ужины"},{Id:"121",Name:"FB+",desc:"завтраки, обеды, ужины - расширенное меню"},{Id:"113",Name:"HB",desc:"завтраки, ужины"},{Id:"122",Name:"HB+",desc:"завтраки, ужины - расширенное меню"},{Id:"117",Name:"RO",desc:"без питания"},{Id:"116",Name:"UAI",desc:"завтраки, обеды, ужины, напитки - расширенное меню"},{Id:"129",Name:"SC",desc:"самообслуживание"}],loading:!1,new_files:[],start:void 0,end:void 0,flag:!1,seconds:0,interval:""}},computed:{menu:function(){return this.$store.getters.menu},tourModule:function(){return this.$store.getters.tourModule},countries:function(){return this.$store.getters.countries},cities:function(){return this.$store.getters.cities},hotels:function(){return this.$store.getters.hotels},branches:function(){return this.$store.getters.branches},isCountriesLoading:function(){return this.$store.getters.isCountriesLoading},isCitiesLoading:function(){return this.$store.getters.isCitiesLoading},isHotelsLoading:function(){return this.$store.getters.isHotelsLoading}},methods:{chooseNewResortCountry:function(t){this.new_tour.TourInfo.resort={Name:"Любой"},this.new_tour.TourInfo.hotel={Name:"Любой"},this.new_tour.TourInfo.country=t,this.$store.dispatch("getCities",this.new_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseNewResorts:function(t){var e=this;if(this.new_tour.TourInfo.resort=t,"Любой"!=this.new_tour.TourInfo.resort.Name){var o=this.new_tour.TourInfo.resort.Id;this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:o,star_id:"0"}).then((function(){-1==e.hotels.findIndex((function(t){return t.Id==e.new_tour.TourInfo.hotel.Id}))&&(e.new_tour.TourInfo.hotel={Name:"Любой"})}))}else this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseNewHotel:function(t){this.new_tour.TourInfo.hotel=t},changeNewDateRange:function(t){this.new_tour.TourInfo.date_range=t},chooseNewMeal:function(t){this.new_tour.TourInfo.meal=t},changeNewPrice:function(){this.new_tour.TourInfo.left=this.new_tour.TourInfo.price-this.new_tour.TourInfo.paid},handleNewFiles:function(){for(var t=this.$refs.new_tour_files.files,e=0;e<t.length&&/\.(jpe?g|png|svg|pdf|txt|docx|doc)$/i.test(t[e].name);e++){var o=new Date;this.new_tour.TourInfo.files.push({type:"file",name:t[e].name,data:t[e],date:o}),this.getImagePreviews(this.new_tour.TourInfo.files)}},onResult:function(t){var e=Date.now(),o=new Date;this.new_tour.TourInfo.files.push({type:"audio",name:"record-"+e+".mp3",src:window.URL.createObjectURL(t),data:t,date:o,seconds:this.seconds}),this.countSeconds(),this.getImagePreviews(this.new_tour.TourInfo.files)},saveClientTour:function(){var t=this;this.loading=!0,this.new_tour.UserId=this.$route.params.id,this.new_tour.StartAt=s()(this.new_tour.TourInfo.date_range.start,"DD-MM-YYYY"),this.new_tour.EndAt=s()(this.new_tour.TourInfo.date_range.end,"DD-MM-YYYY");var e=new FormData;e.append("UserTour",JSON.stringify(this.new_tour));for(var o=0;o<this.new_tour.TourInfo.files.length;o++){var i=this.new_tour.TourInfo.files[o].data;e.append("files["+o+"]",i)}this.$store.dispatch("newClientTour",e).then((function(e){t.sendMessage("Тур клиента успешно добавлен"),t.new_tour={UserId:"",TourId:"",TourInfo:{country:"",resort:"",hotel:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:"",paid:"",left:"",services:"",avia_tickets:[],passengers:[],files:[]},StartAt:"",EndAt:"",Comment:"",Archive:!1},t.loading=!1,t.$bvModal.hide("newUserTourModalBox")}))},getImagePreviews:function(t){for(var e=this,o=function(o){if(/\.(jpe?g|png|svg)$/i.test(t[o].name)){var i=new FileReader;i.addEventListener("load",function(){this.$refs["preview"+parseInt(o)][0].src=i.result}.bind(e),!1),i.readAsDataURL(t[o].data)}else e.$nextTick((function(){this.$refs["preview"+parseInt(o)][0].src="/images/LOGO-1.png"}))},i=0;i<t.length;i++)o(i)},removeFile:function(t,e){t.splice(e,1),this.getImagePreviews(t)},onStream:function(t){this.countSeconds(),console.log("Got a stream object:",t)},countSeconds:function(){this.flag=!this.flag,1==this.flag?(this.seconds=0,this.interval=setInterval(this.incrementSeconds,1e3)):clearInterval(this.interval)},incrementSeconds:function(){this.seconds+=1},sendMessage:function(t){this.$notify({group:"info",type:"travel",title:"Сообщение от TravelClub",text:t})}},filters:{pluralizeResorts:function(t){if(1===t)return"курорт";if(t>1&&t<5)return"курорта";if(t>4&&t<20)return"курортов";if(t>19){var e=t%10;return 1===e?"курорт":e>1&&e<5?"курорта":"курортов"}return"курортов"},pluralizeHotels:function(t){if(1===t)return"отель";if(t>1&&t<5)return"отеля";if(t>4&&t<20)return"отелей";if(t>19){var e=t%10;return 1===e?"отель":e>1&&e<5?"отеля":"отелей"}return"отелей"},pluralizeChoose:function(t){return 1===t?"выбран":"выбрано"}},directives:{mask:a.mask}},p=(o("szEt"),o("u1O+"),o("J8Qa"),{name:"Index",components:{Edit:c,Create:Object(d.a)(u,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.invalid;return[o("b-modal",{attrs:{id:"newUserTourModalBox",title:"Новый тур клиента",centered:"",scrollable:"",size:"lg"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[o("div",{staticClass:"row w-100 m-auto"},[o("div",{staticClass:"col-6 col-md-6 contact-btn text-center"},[o("button",{staticClass:"btn btn-travel",staticStyle:{width:"100%"},on:{click:function(e){return t.$bvModal.hide("newUserTourModalBox")}}},[t._v("\n                        Отмена\n                    ")])]),t._v(" "),o("div",{staticClass:"col-6 col-md-6 contact-btn text-center"},[o("button",{staticClass:"btn btn-travel",staticStyle:{width:"100%"},attrs:{type:"submit",disabled:i||t.loading},on:{click:t.saveClientTour}},[o("div",{staticClass:"row align-items-center justify-content-center m-auto w-100 h-100 text-center"},[t.loading?o("span",{staticClass:"spinner-border spinner-border-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v(" "),t.loading?o("span",{staticClass:"sr-only"},[t._v("Loading...")]):t._e(),t._v("\n                            Сохранить\n                        ")])])])])]},proxy:!0}],null,!0)},[o("div",{staticClass:"row mb-5 mx-auto"},[o("div",{staticClass:"col-12 col-md-6"},[o("label",{staticClass:"control-label"},[t._v("Куда")]),t._v(" "),o("multiselect",{attrs:{options:t.countries,"option-height":25,placeholder:"Выберите страну","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name",loading:t.isCountriesLoading,disabled:t.isCountriesLoading,"allow-empty":!1},on:{input:t.chooseNewResortCountry},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[o("b",{class:"slsf-country-to__select-flag flag-ui_narrowtpl_flags_20x13_"+e.option.Id}),t._v(" "),o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])])]}},{key:"option",fn:function(e){return[o("b",{class:"slsf-country-to__select-flag flag-ui_narrowtpl_flags_20x13_"+e.option.Id}),t._v(" "),o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])])]}}],null,!0),model:{value:t.new_tour.TourInfo.country,callback:function(e){t.$set(t.new_tour.TourInfo,"country",e)},expression:"new_tour.TourInfo.country"}})],1),t._v(" "),o("div",{staticClass:"col-12 col-md-6"},[o("label",{staticClass:"control-label"},[t._v("Курорт")]),t._v(" "),o("multiselect",{attrs:{options:t.cities,placeholder:"Введите название курорта","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,loading:t.isCountriesLoading||t.isCitiesLoading,disabled:t.isCountriesLoading||t.isCitiesLoading,preselectFirst:!0},on:{input:t.chooseNewResorts},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.values,n=(e.search,e.isOpen);return[i.length>3&&!n?o("span",{staticClass:"multiselect__single"},[t._v("\n                            "+t._s(i.length)+" "+t._s(t._f("pluralizeResorts")(i.length))+" "+t._s(t._f("pluralizeChoose")(i.length))+"\n                        ")]):t._e()]}}],null,!0),model:{value:t.new_tour.TourInfo.resort,callback:function(e){t.$set(t.new_tour.TourInfo,"resort",e)},expression:"new_tour.TourInfo.resort"}})],1),t._v(" "),o("div",{staticClass:"col-12 col-md-6"},[o("label",{staticClass:"control-label"},[t._v("Отель")]),t._v(" "),o("multiselect",{attrs:{options:t.hotels,placeholder:"Введите название отеля","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,loading:t.isCountriesLoading||t.isHotelsLoading,disabled:t.isCountriesLoading||t.isHotelsLoading,"allow-empty":!1,preselectFirst:!0},on:{input:t.chooseNewHotel},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.values,n=(e.search,e.isOpen);return[i.length>3&&!n?o("span",{staticClass:"multiselect__single"},[t._v("\n                            "+t._s(i.length)+" "+t._s(t._f("pluralizeHotels")(i.length))+" "+t._s(t._f("pluralizeChoose")(i.length))+"\n                        ")]):t._e()]}},{key:"singleLabel",fn:function(e){return[o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))]),t._v(" "),0!=e.option.CommonRate?o("span",{staticClass:"option__title",staticStyle:{float:"right"}},[t._v(t._s(e.option.CommonRate))]):t._e(),t._v(" "),e.option.StarName?o("span",{staticClass:"values__hotel-rating",staticStyle:{float:"right"}},[t._v(t._s(e.option.StarName))]):t._e()])]}},{key:"option",fn:function(e){return[o("div",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))]),t._v(" "),0!=e.option.CommonRate?o("span",{staticClass:"option__title",staticStyle:{float:"right"}},[t._v(t._s(e.option.CommonRate))]):t._e(),t._v(" "),e.option.StarName?o("span",{staticClass:"values__hotel-rating",staticStyle:{float:"right"}},[t._v(t._s(e.option.StarName))]):t._e()])]}}],null,!0),model:{value:t.new_tour.TourInfo.hotel,callback:function(e){t.$set(t.new_tour.TourInfo,"hotel",e)},expression:"new_tour.TourInfo.hotel"}})],1),t._v(" "),o("div",{staticClass:"col-12 col-md-6"},[o("label",{staticClass:"control-label"},[t._v("Питание")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"meal",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("multiselect",{attrs:{options:t.meals,"option-height":25,placeholder:"Выберите питание","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,"allow-empty":!1},on:{input:t.chooseNewMeal},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])])]}},{key:"option",fn:function(e){return[o("div",[o("div",{staticClass:"option__desc"},[o("span",{staticClass:"option__title"},[t._v(t._s(e.option.Name))])]),t._v(" "),o("div",{staticClass:"row align-items-center m-auto",staticStyle:{width:"100%",height:"100%"}},[o("p",{staticStyle:{"font-size":"12px",margin:"0px"}},[t._v(t._s(e.option.desc))])])])]}}],null,!0),model:{value:t.new_tour.TourInfo.meal,callback:function(e){t.$set(t.new_tour.TourInfo,"meal",e)},expression:"new_tour.TourInfo.meal"}}),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-12 col-md-6"},[o("label",{staticClass:"control-label"},[t._v("Категория номера")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"room_type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("div",{staticClass:"row multiselect__tags align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.new_tour.TourInfo.room_type,expression:"new_tour.TourInfo.room_type"}],staticClass:" multiselect__input price",attrs:{type:"text",placeholder:"Категория номера"},domProps:{value:t.new_tour.TourInfo.room_type},on:{input:function(e){e.target.composing||t.$set(t.new_tour.TourInfo,"room_type",e.target.value)}}})]),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-12 col-md-6"},[o("div",{staticClass:"row align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[o("label",{staticClass:"control-label"},[t._v("Даты тура")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"date_range",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("div",{staticClass:"row align-items-center justify-content-center m-auto w-100",staticStyle:{width:"100%"}},[o("VueHotelDatepicker",{staticClass:"w-100",attrs:{startDate:t.new_tour.TourInfo.date_range.start,endDate:t.new_tour.TourInfo.date_range.end,placeholder:"Даты тура",format:"DD/MM/YYYY",weekList:["Вс.","Пн.","Вт.","Ср.","Чт.","Пт.","Сб."],monthList:["Янв.","Фев.","Мар.","Апр.","Май.","Июн.","Июл.","Авг.","Сен.","Окт","Ноя.","Дек."],fromText:"С",toText:"По",resetText:"Очистить",confirmText:"Подтвердить",mobile:"mobile"},on:{update:t.changeNewDateRange}})],1),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1)]),t._v(" "),o("div",{staticClass:"col-md-6 col-12"},[o("div",{staticClass:"row align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[o("label",{staticClass:"control-label"},[t._v("Цена")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"price",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("div",{staticClass:"row multiselect__tags align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.new_tour.TourInfo.price,expression:"new_tour.TourInfo.price"}],staticClass:"multiselect__input price",attrs:{type:"number",step:"1",min:"0"},domProps:{value:t.new_tour.TourInfo.price},on:{input:[function(e){e.target.composing||t.$set(t.new_tour.TourInfo,"price",e.target.value)},t.changeNewPrice]}})]),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1)]),t._v(" "),o("div",{staticClass:"col-md-6 col-12"},[o("div",{staticClass:"row align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[o("label",{staticClass:"control-label"},[t._v("Выплачено")]),t._v(" "),o("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"left",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("div",{staticClass:"row multiselect__tags align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.new_tour.TourInfo.paid,expression:"new_tour.TourInfo.paid"}],staticClass:" multiselect__input price",attrs:{type:"number",step:"1",min:"0"},domProps:{value:t.new_tour.TourInfo.paid},on:{input:[function(e){e.target.composing||t.$set(t.new_tour.TourInfo,"paid",e.target.value)},t.changeNewPrice]}})]),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1)]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"row align-items-center justify-content-center mx-auto mt-3",staticStyle:{width:"100%"}},[o("label",{staticClass:"control-label"},[t._v("Дополнительные услуги")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.new_tour.TourInfo.services,expression:"new_tour.TourInfo.services"}],staticClass:"form-control",staticStyle:{padding:"5px 15px",border:"1px solid #f08b23","border-radius":"20px"},attrs:{rows:"4",cols:"80",placeholder:"Дополнительные услуги"},domProps:{value:t.new_tour.TourInfo.services},on:{input:function(e){e.target.composing||t.$set(t.new_tour.TourInfo,"services",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("label",{staticClass:"control-label"},[t._v("Авиабилеты")]),t._v(" "),o("avia-tickets-list",{attrs:{avia_tickets:t.new_tour.TourInfo.avia_tickets}})],1),t._v(" "),o("div",{staticClass:"col-md-12"},[o("label",{staticClass:"control-label"},[t._v("Пассажиры")]),t._v(" "),o("passengers-list",{attrs:{passengers:t.new_tour.TourInfo.passengers}})],1),t._v(" "),o("div",{staticClass:"col-md-12"},[o("label",{staticClass:"control-label"},[t._v("Файлы для клиента")]),t._v(" "),o("div",{staticClass:"form-group row mt-2"},[o("div",{staticClass:"col-md-12"},[o("div",{staticClass:"large-12 medium-12 small-12 filezone"},[o("input",{ref:"new_tour_files",attrs:{type:"file",id:"new_files",multiple:""},on:{change:function(e){return t.handleNewFiles()}}}),t._v(" "),o("p",[t._v("\n                                Перетащите файл(ы) сюда"),o("br"),t._v("или нажмите для поиска\n                            ")])]),t._v(" "),o("label",{staticClass:"control-label"},[t._v("Или запишите голосовое сообщение")]),t._v(" "),o("div",{staticClass:"d-flex justify-content-center mt-2"},[o("vue-record-audio",{attrs:{mode:"press"},on:{stream:t.onStream,result:t.onResult}})],1),t._v(" "),o("div",{staticClass:"file-listing"},t._l(t.new_tour.TourInfo.files,(function(e,i){return o("div",{key:e.name,staticClass:"list-group-item"},[o("div",{staticClass:"row m-auto w-100 align-items-center justify-content-center"},[o("div",{staticClass:"col-4 text-center"},[o("img",{ref:"preview"+parseInt(i),refInFor:!0,staticClass:"preview"})]),t._v(" "),o("div",{staticClass:"col-8"},["file"==e.type?o("div",[o("p",{staticClass:"control-label"},[t._v(t._s(e.data.name))])]):t._e(),t._v(" "),"audio"==e.type?o("div",[o("audio-player",{attrs:{audio:e}})],1):t._e()])]),t._v(" "),o("div",{staticClass:"remove-container"},[0==t.loading?o("a",{staticClass:"remove",on:{click:function(e){return t.removeFile(t.new_tour.TourInfo.files,i)}}},[t._v("Отменить")]):t._e()])])})),0)])])])])])]}}])})}),[],!1,null,"01852bd0",null).exports},props:["tours","load"],data:function(){return{columns:[{label:"ID тура",field:"id"},{label:"Дата",field:"created_at"},{label:"С",field:"TourInfo.date_range.start"},{label:"По",field:"TourInfo.date_range.end"},{label:"Страна",field:"TourInfo.country.Name"},{label:"Курорт",field:"TourInfo.resort.Name"},{label:"Цена",field:"TourInfo.price"},{label:"Выплачено",field:"TourInfo.paid"}],new_tour:{UserId:"",TourId:"",TourInfo:{country:{Id:150,Name:"Россия",Alias:"Russia",Flags:8,HasTickets:!0,HotelIsNotInStop:!0,IsProVisa:!1,IsVisa:!1,OriginalName:"Russia",Rank:0,TicketsIncluded:!0},resort:{Name:"Любой"},hotel:{Name:"Любой"},room_type:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:"",paid:"",left:0,services:"",avia_tickets:[],passengers:[],files:[]},StartAt:"",EndAt:"",Comment:""},edit_tour:{UserId:"",TourId:"",TourInfo:{country:"",resort:"",hotel:"",room_type:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:"",paid:"",left:0,services:"",avia_tickets:[],passengers:[],files:[],delete_files:[],new_files:[]},StartAt:"",EndAt:"",Comment:""}}},computed:{menu:function(){return this.$store.getters.menu},tourModule:function(){return this.$store.getters.tourModule},countries:function(){return this.$store.getters.countries},cities:function(){return this.$store.getters.cities},hotels:function(){return this.$store.getters.hotels},branches:function(){return this.$store.getters.branches},isCountriesLoading:function(){return this.$store.getters.isCountriesLoading},isCitiesLoading:function(){return this.$store.getters.isCitiesLoading},isHotelsLoading:function(){return this.$store.getters.isHotelsLoading}},methods:{editClientTour:function(t){this.edit_tour=t,this.edit_tour.TourInfo.start=s()(this.edit_tour.TourInfo.date_range.start,"DD/MM/YYYY").toDate(),this.edit_tour.TourInfo.end=s()(this.edit_tour.TourInfo.date_range.end,"DD/MM/YYYY").toDate(),this.edit_tour.TourInfo.delete_files=[],this.edit_tour.TourInfo.new_files=[],this.edit_tour.new_files=[],this.$store.dispatch("getCities",this.edit_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:"0",star_id:"0"}),this.$bvModal.show("editUserTourModalBox")},deleteClientTour:function(t){var e=this;t.isLoading=!0,this.$store.dispatch("deleteClientTour",t).then((function(o){t.isLoading=!1,e.sendMessage("Тур клиента успешно удалён")}))},addClientTour:function(){this.$store.dispatch("getCities",this.new_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"}),this.$bvModal.show("newUserTourModalBox")},sendMessage:function(t){this.$notify({group:"info",type:"travel",title:"Сообщение от TravelClub",text:t})}}});function f(t,e,o,i,n,a,r){try{var s=t[a](r),l=s.value}catch(t){return void o(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function m(t){return function(){var e=this,o=arguments;return new Promise((function(i,n){var a=t.apply(e,o);function r(t){f(a,i,n,r,s,"next",t)}function s(t){f(a,i,n,r,s,"throw",t)}r(void 0)}))}}var h={components:{ClientTours:Object(d.a)(p,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return null!=t.tours||null!=t.tours?o("div",[o("create"),t._v(" "),o("edit",{attrs:{edit_tour:t.edit_tour}}),t._v(" "),o("data-table",{attrs:{title:"Туры",columns:t.columns,rows:t.tours,perPage:[5,10,25,50],expandMode:!0,addButton:!0,addButtonClick:t.addClientTour,loadingAnimation:t.load},scopedSlots:t._u([{key:"tbody-tr",fn:function(e){return[o("td",{attrs:{"data-title":"Действия"}},[e.row.isLoading?t._e():o("button",{staticClass:"btn waves-effect",staticStyle:{outline:"none"},on:{click:function(o){return t.deleteClientTour(e.row)}}},[o("i",{staticClass:"material-icons",staticStyle:{color:"#0d274b"}},[t._v("delete")])]),t._v(" "),e.row.isLoading?o("div",{staticClass:"d-flex align-items-center float-left",staticStyle:{padding:".375rem .75rem"}},[o("div",{staticClass:"spinner-border text-center",staticStyle:{width:"24px",height:"24px"},attrs:{role:"status"}},[o("span",{staticClass:"sr-only"},[t._v("Loading...")])])]):t._e(),t._v(" "),e.row.isLoading?t._e():o("button",{directives:[{name:"b-modal",rawName:"v-b-modal.editUserTourModalBox",modifiers:{editUserTourModalBox:!0}}],staticClass:"btn waves-effect",staticStyle:{outline:"none"},on:{click:function(o){return t.editClientTour(e.row)}}},[o("i",{staticClass:"material-icons",staticStyle:{color:"#0d274b"}},[t._v("edit")])])])]}},{key:"expand-panel",fn:function(e){return[o("div",{staticStyle:{width:"100%",height:"100%"}},[o("div",{staticClass:"row align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[o("div",{staticClass:"col-md-6 col-sm-12 mx-auto"},[o("div",{staticClass:"list-group"},[o("div",{staticClass:"list-group-item flex-column align-items-start p-1"},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Страна")])]),t._v(" "),o("p",{staticClass:"mb-1"},[t._v(t._s(e.row.expand.country.Name))])]),t._v(" "),o("div",{staticClass:"list-group-item flex-column align-items-start p-1"},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Курорт")])]),t._v(" "),o("p",{staticClass:"mb-1"},[t._v("\n                                    "+t._s(e.row.expand.resort.Name)+"\n                                ")])]),t._v(" "),o("div",{staticClass:"list-group-item flex-column align-items-start p-1"},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Отель")])]),t._v(" "),o("p",{staticClass:"mb-1"},[t._v("\n                                    "+t._s(e.row.expand.hotel.Name)+"\n                                ")])]),t._v(" "),o("div",{staticClass:"list-group-item flex-column align-items-start p-1"},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Питание")])]),t._v(" "),o("p",{staticClass:"mb-1"},[t._v("\n                                    "+t._s(e.row.expand.meal.Name)+"\n                                ")])])])]),t._v(" "),o("div",{staticClass:"col-md-6 col-sm-12 mx-auto"},[o("div",{staticClass:"list-group"},[o("div",{staticClass:"list-group-item flex-column align-items-start p-1"},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Даты тура")])]),t._v(" "),o("p",{staticClass:"mb-1"},[t._v(t._s(e.row.expand.date_range.start)+" - "+t._s(e.row.expand.date_range.end))])]),t._v(" "),o("div",{staticClass:"list-group-item flex-column align-items-start p-1"},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Цена")])]),t._v(" "),o("p",{staticClass:"mb-1"},[t._v(t._s(e.row.expand.price))])]),t._v(" "),o("div",{staticClass:"list-group-item flex-column align-items-start p-1"},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Выплачено")])]),t._v(" "),o("p",{staticClass:"mb-1"},[t._v(t._s(e.row.expand.paid))])]),t._v(" "),o("div",{staticClass:"list-group-item flex-column align-items-start p-1"},[o("div",{staticClass:"d-flex w-100 justify-content-between"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Остаток")])]),t._v(" "),o("p",{staticClass:"mb-1"},[t._v(t._s(e.row.expand.left))])])])]),t._v(" "),o("div",{staticClass:"col-md-12 col-sm-12 mx-auto"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Дополнительные услуги")]),t._v(" "),o("div",{staticClass:"list-group-item flex-column align-items-start p-1"},[o("p",{staticClass:"mb-1"},[t._v(t._s(e.row.expand.services))])])]),t._v(" "),o("div",{staticClass:"col-md-12 col-sm-12 mx-auto"},[o("label",{staticClass:"mb-1 control-label",staticStyle:{color:"#f08b23"}},[t._v("Файлы")]),t._v(" "),t._l(e.row.expand.files,(function(e,i){return o("div",{key:e.name,staticClass:"list-group-item"},["file"==e.type?o("div",{staticClass:"row m-auto w-100 align-items-center justify-content-center"},[o("div",{staticClass:"col-4 text-center"},[/\.(jpe?g|png|svg)$/i.test(e.name)?o("img",{staticClass:"preview",attrs:{src:e.path}}):o("img",{staticClass:"preview",attrs:{src:"/images/LOGO-1.png"}})]),t._v(" "),o("div",{staticClass:"col-8"},[o("div",[o("p",{staticClass:"control-label"},[t._v(t._s(e.name))])])])]):t._e(),t._v(" "),"audio"==e.type?o("div",{staticClass:"row m-auto w-100 align-items-center justify-content-center"},[o("div",{staticClass:"audio-container w-100"},[o("audio-player",{staticClass:"w-100",attrs:{audio:e,type:"url"}})],1)]):t._e()])}))],2)])])]}}],null,!1,1445396570)},[o("th",{staticStyle:{width:"auto"},attrs:{slot:"thead-tr"},slot:"thead-tr"},[t._v("\n            Действия\n        ")])])],1):t._e()}),[],!1,null,"3dde2cbf",null).exports},data:function(){return{current_client:{},clientTours:[],columns:[{label:"ID тура",field:"id"},{label:"Дата",field:"created_at"},{label:"С",field:"TourInfo.date_range.start"},{label:"По",field:"TourInfo.date_range.end"},{label:"Страна",field:"TourInfo.country.Name"},{label:"Курорт",field:"TourInfo.resort.Name"},{label:"Цена",field:"TourInfo.price"},{label:"Выплачено",field:"TourInfo.paid"}],city_options:["Донецк","Ростов-на-Дону"],new_tour:{UserId:"",TourId:"",TourInfo:{country:{Id:150,Name:"Россия",Alias:"Russia",Flags:8,HasTickets:!0,HotelIsNotInStop:!0,IsProVisa:!1,IsVisa:!1,OriginalName:"Russia",Rank:0,TicketsIncluded:!0},resort:{Name:"Любой"},hotel:{Name:"Любой"},room_type:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:"",paid:"",left:0,services:"",avia_tickets:[],passengers:[],files:[]},StartAt:"",EndAt:"",Comment:""},edit_tour:{UserId:"",TourId:"",TourInfo:{country:"",resort:"",hotel:"",room_type:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:"",paid:"",left:0,services:"",avia_tickets:[],passengers:[],files:[],delete_files:[],new_files:[]},StartAt:"",EndAt:"",Comment:""},new_mode:!1,meals:[{Id:"115",Name:"AI",desc:"завтраки, обеды, ужины, напитки"},{Id:"114",Name:"BB",desc:"завтраки"},{Id:"112",Name:"FB",desc:"завтраки, обеды, ужины"},{Id:"121",Name:"FB+",desc:"завтраки, обеды, ужины - расширенное меню"},{Id:"113",Name:"HB",desc:"завтраки, ужины"},{Id:"122",Name:"HB+",desc:"завтраки, ужины - расширенное меню"},{Id:"117",Name:"RO",desc:"без питания"},{Id:"116",Name:"UAI",desc:"завтраки, обеды, ужины, напитки - расширенное меню"},{Id:"129",Name:"SC",desc:"самообслуживание"}],edit_loading:!1,new_loading:!1,load:!0,new_files:[],current_manager:null,start:void 0,end:void 0}},created:function(){var t=this;0===this.countries.length&&this.$store.dispatch("getCountries",{town_id:0}),this.clients.length>0?(this.load=!0,this.current_client=this.clients.find((function(e){return e.id==t.$route.params.id})),this.load=!1,this.managers.length>0?this.current_manager=this.managers.find((function(e){return e.id==t.current_client.info.ManagerId})):this.getManagers()):this.getClient()},mounted:function(){this.branches.length<=0&&this.loadBranches()},computed:{menu:function(){return this.$store.getters.menu},clients:function(){return this.$store.getters.clients},client:function(){return this.current_client},managers:function(){return this.$store.getters.managers},manager:function(){return this.current_manager},tourModule:function(){return this.$store.getters.tourModule},countries:function(){return this.$store.getters.countries},cities:function(){return this.$store.getters.cities},hotels:function(){return this.$store.getters.hotels},branches:function(){return this.$store.getters.branches},isCountriesLoading:function(){return this.$store.getters.isCountriesLoading},isCitiesLoading:function(){return this.$store.getters.isCitiesLoading},isHotelsLoading:function(){return this.$store.getters.isHotelsLoading}},methods:{updateClientInfo:function(){var t=this;this.client.info.ManagerId=this.manager.id;this.client.info,this.client.id;this.$store.dispatch("updateClientInfo",this.client.info).then((function(e){t.sendMessage("Информация клиента успешно обновлена")}))},getClient:function(){var t=this;return m(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.load=!0,e.next=3,t.$store.dispatch("setClients").then((function(e){t.current_client=t.clients.find((function(e){return e.id==t.$route.params.id})),t.load=!1,t.managers.length>0?t.current_manager=t.managers.find((function(e){return e.id==t.current_client.info.ManagerId})):t.getManagers()}));case 3:case"end":return e.stop()}}),e)})))()},getManagers:function(){var t=this;return m(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("setManagers").then((function(){t.current_manager=t.managers.find((function(e){return e.id==t.current_client.info.ManagerId})),console.log(t.managers)}));case 2:case"end":return e.stop()}}),e)})))()},loadBranches:function(){var t=this;return m(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("setBranches");case 2:case"end":return e.stop()}}),e)})))()},selectCity:function(t){return m(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Department="";case 1:case"end":return e.stop()}}),e)})))()},editClientTour:function(t){this.edit_tour=t,this.start=s()(this.edit_tour.TourInfo.date_range.start,"DD/MM/YYYY").toDate(),this.end=s()(this.edit_tour.TourInfo.date_range.end,"DD/MM/YYYY").toDate(),this.edit_tour.TourInfo.delete_files=[],this.edit_tour.TourInfo.new_files=[],this.edit_tour.new_files=[],this.$store.dispatch("getCities",this.edit_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:"0",star_id:"0"}),$("#editUserTourModalBox").modal("show")},chooseEditResortCountry:function(t){this.edit_tour.TourInfo.resort={Name:"Любой"},this.edit_tour.TourInfo.hotel={Name:"Любой"},this.edit_tour.TourInfo.country=t,this.$store.dispatch("getCities",this.edit_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseEditResort:function(t){var e=this;if(this.edit_tour.TourInfo.resort=t,"Любой"!=this.edit_tour.TourInfo.resort.Name){var o=this.edit_tour.TourInfo.resort.Id;this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:o,star_id:"0"}).then((function(){-1==e.hotels.findIndex((function(t){return t.Id==e.edit_tour.TourInfo.hotel.Id}))&&(e.edit_tour.TourInfo.hotel={Name:"Любой"})}))}else this.$store.dispatch("getHotels",{country_id:this.edit_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseEditHotel:function(t){this.edit_tour.TourInfo.hotel=t},changeEditDateRange:function(t){this.edit_tour.TourInfo.date_range=t},chooseEditMeal:function(t){this.edit_tour.TourInfo.meal=t},deleteClientTour:function(t){var e=this;t.isLoading=!0,this.$store.dispatch("deleteClientTour",t).then((function(o){t.isLoading=!1,e.sendMessage("Тур клиента успешно удалён")}))},changeEditPrice:function(){this.edit_tour.TourInfo.left=this.edit_tour.TourInfo.price-this.edit_tour.TourInfo.paid},handleEditFiles:function(){for(var t=this.$refs.edit_tour_files.files,e=0;e<t.length&&/\.(jpe?g|png|svg|pdf|txt|docx|doc)$/i.test(t[e].name);e++){var o=new Date;this.new_files.push({type:"file",name:t[e].name,data:t[e],date:o}),this.getImagePreviews(this.new_files)}},onEditResult:function(t){var e=Date.now(),o=new Date;this.new_files.push({type:"audio",name:"record-"+e+".mp3",src:window.URL.createObjectURL(t),data:t,date:o}),this.getImagePreviews(this.new_files)},deleteFile:function(t,e){this.edit_tour.TourInfo.delete_files.push(t),this.edit_tour.TourInfo.files.splice(e,1)},updateClientTour:function(){var t=this;this.edit_loading=!0,this.edit_tour.StartAt=s()(this.edit_tour.TourInfo.date_range.start,"DD-MM-YYYY"),this.edit_tour.EndAt=s()(this.edit_tour.TourInfo.date_range.end,"DD-MM-YYYY"),console.log(this.edit_tour.EndAt),this.edit_tour.new_files=this.new_files;var e=new FormData;e.append("UserTour",JSON.stringify(this.edit_tour));for(var o=0;o<this.new_files.length;o++){var i=this.new_files[o].data;e.append("new_files["+o+"]",i)}this.$store.dispatch("updateClientTour",e).then((function(e){console.log("response",e),t.edit_tour.TourInfo.delete_files=[],t.edit_tour.TourInfo.new_files=[],t.edit_tour.TourInfo.files=e.TourInfo.files,t.edit_tour.expand=e.expand,t.sendMessage("Тур клиента успешно обновлён"),t.edit_tour={UserId:"",TourId:"",TourInfo:{country:"",resort:"",hotel:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:0,paid:0,left:0,services:"",avia_tickets:[],passengers:[],files:[]},new_files:[],StartAt:"",EndAt:"",Comment:""},t.edit_loading=!1,$("#editUserTourModalBox").modal("hide")}))},addClientTour:function(){this.$store.dispatch("getCities",this.new_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"}),$("#newUserTourModalBox").modal("show")},chooseNewResortCountry:function(t){this.new_tour.TourInfo.resort={Name:"Любой"},this.new_tour.TourInfo.hotel={Name:"Любой"},this.new_tour.TourInfo.country=t,this.$store.dispatch("getCities",this.new_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseNewResorts:function(t){var e=this;if(this.new_tour.TourInfo.resort=t,"Любой"!=this.new_tour.TourInfo.resort.Name){var o=this.new_tour.TourInfo.resort.Id;this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:o,star_id:"0"}).then((function(){-1==e.hotels.findIndex((function(t){return t.Id==e.new_tour.TourInfo.hotel.Id}))&&(e.new_tour.TourInfo.hotel={Name:"Любой"})}))}else this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseNewHotel:function(t){this.new_tour.TourInfo.hotel=t},changeNewDateRange:function(t){this.new_tour.TourInfo.date_range=t},chooseNewMeal:function(t){this.new_tour.TourInfo.meal=t},changeNewPrice:function(){this.new_tour.TourInfo.left=this.new_tour.TourInfo.price-this.new_tour.TourInfo.paid},handleNewFiles:function(){for(var t=this.$refs.new_tour_files.files,e=0;e<t.length&&/\.(jpe?g|png|svg|pdf|txt|docx|doc)$/i.test(t[e].name);e++){var o=new Date;this.new_tour.TourInfo.files.push({type:"file",name:t[e].name,data:t[e],date:o}),this.getImagePreviews(this.new_tour.TourInfo.files)}},onResult:function(t){var e=Date.now(),o=new Date;this.new_tour.TourInfo.files.push({type:"audio",name:"record-"+e+".mp3",src:window.URL.createObjectURL(t),data:t,date:o}),this.getImagePreviews(this.new_tour.TourInfo.files)},saveClientTour:function(){var t=this;this.new_loading=!0,this.new_tour.UserId=this.$route.params.id,this.new_tour.StartAt=s()(this.new_tour.TourInfo.date_range.start,"DD-MM-YYYY"),this.new_tour.EndAt=s()(this.new_tour.TourInfo.date_range.end,"DD-MM-YYYY");var e=new FormData;e.append("UserTour",JSON.stringify(this.new_tour));for(var o=0;o<this.new_tour.TourInfo.files.length;o++){var i=this.new_tour.TourInfo.files[o].data;e.append("files["+o+"]",i)}this.$store.dispatch("newClientTour",e).then((function(e){t.sendMessage("Тур клиента успешно добавлен"),t.new_tour={UserId:"",TourId:"",TourInfo:{country:"",resort:"",hotel:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:0,paid:0,left:0,services:"",avia_tickets:[],passengers:[],files:[]},StartAt:"",EndAt:"",Comment:"",Archive:!1},t.new_loading=!1,$("#newUserTourModalBox").modal("hide")}))},getImagePreviews:function(t){for(var e=this,o=function(o){if(/\.(jpe?g|png|svg)$/i.test(t[o].name)){var i=new FileReader;i.addEventListener("load",function(){this.$refs["preview"+parseInt(o)][0].src=i.result}.bind(e),!1),i.readAsDataURL(t[o].data)}else e.$nextTick((function(){this.$refs["preview"+parseInt(o)][0].src="/images/LOGO-1.png"}))},i=0;i<t.length;i++)o(i)},removeFile:function(t,e){t.splice(e,1),this.getImagePreviews(t)},onStream:function(t){console.log("Got a stream object:",t)},sendMessage:function(t){this.$notify({group:"info",type:"travel",title:"Сообщение от TravelClub",text:t})}},filters:{pluralizeResorts:function(t){if(1===t)return"курорт";if(t>1&&t<5)return"курорта";if(t>4&&t<20)return"курортов";if(t>19){var e=t%10;return 1===e?"курорт":e>1&&e<5?"курорта":"курортов"}return"курортов"},pluralizeHotels:function(t){if(1===t)return"отель";if(t>1&&t<5)return"отеля";if(t>4&&t<20)return"отелей";if(t>19){var e=t%10;return 1===e?"отель":e>1&&e<5?"отеля":"отелей"}return"отелей"},pluralizeChoose:function(t){return 1===t?"выбран":"выбрано"}},directives:{mask:a.mask}},v=(o("tjKz"),o("g6Y9"),o("L0lM"),Object(d.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"client"}},[o("div",{staticClass:"container m-auto",staticStyle:{height:"100%"}},[o("div",{staticClass:"row mx-auto"},[t._m(0),t._v(" "),o("div",{staticClass:"col-md-12"},[o("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.invalid;return[o("card",{attrs:{id:"client-profile"}},[o("div",{staticClass:"row w-100 p-2 m-auto"},[o("div",{staticClass:"col-md-4 pr-md-1"},[o("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"lastName",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Фамилия","label-size":"sm"}},[o("b-form-input",{staticClass:"mb-0 travel-input",attrs:{label:"Фамилия",placeholder:"Фамилия"},model:{value:t.client.info.LastName,callback:function(e){t.$set(t.client.info,"LastName",e)},expression:"client.info.LastName"}})],1),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-md-4 px-md-1"},[o("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"firstName",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Имя","label-size":"sm"}},[o("b-form-input",{staticClass:"mb-0 travel-input",attrs:{label:"Имя",placeholder:"Имя"},model:{value:t.client.info.FirstName,callback:function(e){t.$set(t.client.info,"FirstName",e)},expression:"client.info.FirstName"}})],1),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-md-4 pl-md-1"},[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Отчество","label-size":"sm"}},[o("b-form-input",{staticClass:"mb-0 travel-input",attrs:{label:"Отчество",placeholder:"Отчество"},model:{value:t.client.info.MiddleName,callback:function(e){t.$set(t.client.info,"MiddleName",e)},expression:"client.info.MiddleName"}})],1)],1)]),t._v(" "),o("div",{staticClass:"row w-100 p-2 m-auto"},[o("div",{staticClass:"col-md-4 pr-md-1"},[o("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Email","label-size":"sm"}},[o("b-form-input",{staticClass:"mb-0 travel-input",attrs:{label:"Email",type:"email",placeholder:"client@email.com"},model:{value:t.client.email,callback:function(e){t.$set(t.client,"email",e)},expression:"client.email"}})],1),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-md-4 px-md-1"},[o("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"phone",rules:"required|phone"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Телефон","label-size":"sm"}},[o("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:["+# (###) ###-##-##","+## (###) ###-##-##"],expression:"['+# (###) ###-##-##','+## (###) ###-##-##']"}],staticClass:"mb-0 travel-input",attrs:{label:"Телефон",placeholder:"Телефон"},model:{value:t.client.info.Phone,callback:function(e){t.$set(t.client.info,"Phone",e)},expression:"client.info.Phone"}})],1),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1)]),t._v(" "),o("div",{staticClass:"row w-100 p-2 m-auto"},[o("div",{staticClass:"col-md-4 pr-md-1"},[o("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"City",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Город","label-size":"sm"}},[o("multiselect",{attrs:{options:t.branches,"option-height":25,placeholder:"Выберите город","show-labels":!1,maxHeight:200,loading:0===t.branches.length,disabled:0===t.branches.length,"allow-empty":!1,"track-by":"city",label:"city"},on:{input:function(e){return t.selectCity(t.client.info)}},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[o("span",{staticClass:"option__desc"},[e.option.city?o("span",{staticClass:"option__title",staticStyle:{"font-size":"0.7500000025rem","line-height":"1.428571"}},[t._v(t._s(e.option.city))]):t._e()])]}},{key:"option",fn:function(e){return[o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title",staticStyle:{"font-size":"0.7500000025rem","line-height":"1.428571"}},[t._v(t._s(e.option.city))])])]}}],null,!0),model:{value:t.client.info.City,callback:function(e){t.$set(t.client.info,"City",e)},expression:"client.info.City"}})],1),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1),t._v(" "),o("div",{staticClass:"col-md-4 px-md-1"},[o("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"department",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Отделение","label-size":"sm"}},[o("multiselect",{attrs:{options:t.client.info.City.departments,"option-height":25,placeholder:"Выберите отделение","show-labels":!1,maxHeight:200,disabled:0===t.client.info.City.departments.length,"allow-empty":!1,label:"address","track-by":"address"},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title",staticStyle:{"font-size":"0.7500000025rem","line-height":"1.428571"}},[t._v(t._s(e.option.address))])])]}},{key:"option",fn:function(e){return[o("span",{staticClass:"option__desc"},[o("span",{staticClass:"option__title",staticStyle:{"font-size":"0.7500000025rem","line-height":"1.428571"}},[t._v(t._s(e.option.address))])])]}}],null,!0),model:{value:t.client.info.Department,callback:function(e){t.$set(t.client.info,"Department",e)},expression:"client.info.Department"}})],1),t._v(" "),o("span",{staticClass:"validate-error"},[t._v(t._s(i[0]))])]}}],null,!0)})],1)]),t._v(" "),o("div",{staticClass:"row w-100 p-2 m-auto"},[o("div",{staticClass:"col-md-12"},[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Дополнительная информация","label-size":"sm"}},[o("b-form-textarea",{staticClass:"travel-input p-2",staticStyle:{"border-radius":"20px !important"},attrs:{rows:"4",cols:"80",placeholder:"Дополнительная информация о клиенте"},model:{value:t.client.info.About,callback:function(e){t.$set(t.client.info,"About",e)},expression:"client.info.About"}})],1)],1)]),t._v(" "),o("b-button",{staticClass:"btn btn-travel float-right",attrs:{slot:"footer",disabled:i},on:{click:t.updateClientInfo},slot:"footer"},[t._v("Сохранить")])],1)]}}])})],1),t._v(" "),t._m(1),t._v(" "),null!=t.client?o("div",{staticClass:"col-md-12"}):t._e()])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row mx-auto mt-3 mb-5 justify-content-center align-items-center",staticStyle:{width:"100%","border-top":"4px solid #f08b23"}},[e("span",{staticClass:"white--text active-tour",staticStyle:{background:"#062348","font-size":"24px",position:"absolute"}},[this._v("Профиль")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row mx-auto mt-5 mb-5 justify-content-center align-items-center",staticStyle:{width:"100%","border-top":"4px solid #f08b23"}},[e("span",{staticClass:"white--text active-tour",staticStyle:{background:"#062348","font-size":"24px",position:"absolute"}},[this._v("Туры")])])])}],!1,null,"791b9232",null));e.default=v.exports},KbRc:function(t,e,o){var i=o("jdjC");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,n);i.locals&&(t.exports=i.locals)},L0lM:function(t,e,o){"use strict";o("TYeL")},TYeL:function(t,e,o){var i=o("oZA0");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,n);i.locals&&(t.exports=i.locals)},WgmY:function(t,e,o){"use strict";o("0tIF")},XmXT:function(t,e,o){var i=o("t5+g");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,n);i.locals&&(t.exports=i.locals)},"Y/+S":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"input[type=file][data-v-01852bd0]{opacity:0;width:100%;height:200px;position:absolute;cursor:pointer}.filezone[data-v-01852bd0]{outline:2px dashed grey;outline-offset:-10px;background:#ccc;color:#696969;padding:10px;min-height:200px;position:relative;cursor:pointer}.filezone[data-v-01852bd0]:hover{background:silver}.filezone p[data-v-01852bd0]{font-size:1.2em;text-align:center;padding:50px}div.file-listing img[data-v-01852bd0]{max-width:90%}div.file-listing[data-v-01852bd0]{margin:auto;padding:10px;border-bottom:1px solid #ddd}.preview[data-v-01852bd0],div.file-listing img[data-v-01852bd0]{height:100px}.preview[data-v-01852bd0]{max-width:90%}div.success-container[data-v-01852bd0]{text-align:center;color:green}div.remove-container[data-v-01852bd0]{text-align:center}div.remove-container a[data-v-01852bd0]{color:red;cursor:pointer}a.submit-button[data-v-01852bd0]{display:block;text-align:center;width:200px;padding:10px;text-transform:uppercase;background-color:green;color:#fff;font-weight:700;margin:20px auto auto}",""])},Y9cB:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,'.btn-travel{color:#fff!important;background:linear-gradient(0deg,#ffbf00,#f08b23);background-color:transparent;background-color:#f08b23!important;border-color:#f08b23!important;box-shadow:0 2px 2px 0 rgba(156,39,176,.14),0 3px 1px -2px rgba(156,39,176,.2),0 1px 5px 0 rgba(156,39,176,.12)!important}@media only screen and (max-width:767.98px){.vdp-container:not(.desktop) .vdp-picker{width:100%!important;padding:8px}.tour-module .cont .row{width:100%!important}.qty input{border:0;width:50%}}@media screen and (max-width:477px){.vdp-input{min-width:100%!important}.vdp-container{width:100%!important}}@media screen and (max-width:576px){.tour-module .cont{height:100%!important}}.vdp-datepicker__calendar{position:absolute;z-index:2!important;padding:18px!important;background:#fff;width:300px;border:1px solid #ccc}.vdp-datepicker input{padding:8px;border:1px solid orange!important;color:#062348!important;font-size:16px;line-height:32px;outline:none;border-radius:20px;min-height:40px;height:40px!important;font-family:Open Sans!important;font-weight:900;width:100%}.vdp-datepicker input::-moz-placeholder{color:#062348!important}.vdp-datepicker input:-ms-input-placeholder{color:#062348!important}.vdp-datepicker input::placeholder{color:#062348!important}.vdp-datepicker__calendar .day-header{color:#062348;font-family:Open Sans!important;font-weight:900!important}.vdp-datepicker__clear-button{position:absolute;right:20px;top:-11px;color:#0f213d;font-size:36px}.vdp-datepicker__calendar .cell{height:30px;line-height:30px}.vdp-datepicker__calendar .day{font-size:16px;font-weight:500;line-height:30px;color:#0f213d;text-align:center;cursor:pointer;background-image:none!important;height:30px!important}.vdp-datepicker__calendar .cell{display:inline-block;padding:0 5px;width:14.285714285714286%;height:30px!important;line-height:30px!important;text-align:center;vertical-align:middle;border:1px solid transparent}.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).day:hover,.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).month:hover,.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).year:hover{border:1px solid orange!important}.vdp-datepicker__calendar .cell.selected,.vdp-datepicker__calendar .cell.selected:hover{background:rgba(255,165,0,.4392156862745098)!important;background-image:none}.vdp-calendar .calendar-date .week .day.end-date:after,.vdp-calendar .calendar-date .week .day.start-date:before{background-color:orange!important}.vdp-calendar .calendar-date .week .day.end-date,.vdp-calendar .calendar-date .week .day.in-date-range,.vdp-calendar .calendar-date .week .day.start-date{background-color:rgba(255,165,0,.4392156862745098)!important}.vdp-calendar .calendar-date .week .day.today{border:1px solid orange!important}.vdp-calendar-footer .confirm,.vdp-calendar-footer .reset{font-family:Open Sans!important;font-weight:900!important}.vdp-calendar-footer .reset{color:#062348!important}.vdp-calendar-footer .confirm{color:orange!important}.vdp-calendar .calendar-month-title,.vdp-calendar .calendar-week-item{color:#062348!important;font-family:Open Sans!important;font-weight:900!important}.values__hotel-rating:after{content:"";display:inline-block;margin-left:2px;width:13px;height:12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAMAAACOacfrAAAAXVBMVEVMaXH3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD4VMltAAAAHnRSTlMAJsstyPUCQnwB8Pl5osal+yqV2VVFVNp4e/MU8RdBDXhlAAAAV0lEQVR4AUXMNRLAMAADQYU5hjDp/8+Mxyq83TWHaGuQdHnepVrJHZA6O8glqxG0ZcWoKlug6CnsCwDNoBj0HVUnoks1qibyvclJNVv/fN7OKuMQOAPgBw0TBxaiVo4AAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:50%}.multiselect__tags .price{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .price:focus{outline:none!important;box-shadow:none!important}.multiselect-title{color:#062348!important;font-family:Bello Pro}.multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tag{background:#062348}.multiselect__tag-icon:after{color:#fff}.multiselect__option--highlight,.multiselect__option--highlight:after,.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#f08b23}.multiselect{font-family:Open Sans!important;font-weight:900}.multiselect,.multiselect__placeholder{color:#062348}.multiselect__input:focus,.multiselect__single:focus{border-color:#062348}.multiselect__input::-moz-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input:-ms-input-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input::placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect--disabled{background:#fff}.multiselect--disabled .multiselect__select{background:transparent}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:3px solid transparent;border-top-color:orange;box-shadow:0 0 0 1px transparent;background:transparent}.multiselect__spinner{border-radius:50px}.qty .count{font-size:25px;font-weight:700;line-height:30px;padding:0 2px;min-width:35px;font-family:Open Sans;color:#0f213d!important}.qty .count,.qty button{display:inline-block;vertical-align:top;text-align:center}.qty button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;cursor:pointer;color:#fff;width:30px;height:30px;font:30px/1 Arial,sans-serif;border-radius:50%;padding:0;background:#f08b23;border:0}.qty div{text-align:center}.qty .minus:hover,.qty .plus:hover{background:#0f213d!important;color:#fff}.qty input{border:0;width:60%}.qty input::-webkit-inner-spin-button,.qty input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.qty input:disabled{background-color:#fff}',""])},aiuK:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,'@media only screen and (max-width:767.98px){.vhd-container:not(.desktop) .vhd-picker{width:100%!important;padding:8px}.tour-module .cont .row{width:100%!important}.qty input{border:0;width:50%}}@media screen and (max-width:477px){.vhd-input{min-width:100%!important}.vhd-container{width:100%!important}}@media screen and (max-width:576px){.tour-module .cont{height:100%!important}}.vhd-picker{z-index:2!important;min-height:362px!important;padding:18px!important}.vhd-input{padding:8px;border:1px solid orange!important;color:#062348!important;font-size:16px;line-height:32px;outline:none;border-radius:20px;min-height:40px;height:40px!important;font-family:Open Sans!important;font-weight:900;width:100%}.vhd-input::-moz-placeholder{color:#062348!important}.vhd-input:-ms-input-placeholder{color:#062348!important}.vhd-input::placeholder{color:#062348!important}.vhd-container:not(.desktop) .vhd-picker{min-height:362px}.vhd-calendar .calendar-date .week .day[data-v-0cb4ff92]{font-size:16px;font-weight:500;line-height:30px;color:#505050;text-align:center;cursor:pointer}.vhd-calendar .calendar-date .week .day{background-image:none!important;height:30px!important}.vhd-calendar-header{height:20px!important}.vhd-container:not(.desktop) .vhd-calendar-header{height:60px!important}.vhd-container:not(.desktop) .vhd-calendar-header>.info{display:block;width:100%;height:60px;padding-top:32px!important}.vhd-container:not(.desktop) .vhd-calendar-footer{height:36px!important}.vhd-calendar-footer{height:24px!important}.vhd-calendar .calendar-date .week{height:30px!important}.vhd-calendar .calendar-date .week .day.end-date:after,.vhd-calendar .calendar-date .week .day.start-date:before{background-color:orange!important}.vhd-calendar .calendar-date .week .day.end-date,.vhd-calendar .calendar-date .week .day.in-date-range,.vhd-calendar .calendar-date .week .day.start-date{background-color:rgba(255,165,0,.4392156862745098)!important}.vhd-calendar .calendar-date .week .day.today{border:1px solid orange!important}.vhd-calendar-footer .confirm,.vhd-calendar-footer .reset{font-family:Open Sans!important;font-weight:900!important}.vhd-calendar-footer .reset{color:#062348!important}.vhd-calendar-footer .confirm{color:orange!important}.vhd-calendar .calendar-month-title,.vhd-calendar .calendar-week-item{color:#062348!important;font-family:Open Sans!important;font-weight:900!important}.values__hotel-rating:after{content:"";display:inline-block;margin-left:2px;width:13px;height:12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAMAAACOacfrAAAAXVBMVEVMaXH3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD4VMltAAAAHnRSTlMAJsstyPUCQnwB8Pl5osal+yqV2VVFVNp4e/MU8RdBDXhlAAAAV0lEQVR4AUXMNRLAMAADQYU5hjDp/8+Mxyq83TWHaGuQdHnepVrJHZA6O8glqxG0ZcWoKlug6CnsCwDNoBj0HVUnoks1qibyvclJNVv/fN7OKuMQOAPgBw0TBxaiVo4AAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:50%}.multiselect__tags .price{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .price:focus{outline:none!important;box-shadow:none!important}.multiselect-title{color:#062348!important;font-family:Bello Pro}.multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tag{background:#062348}.multiselect__tag-icon:after{color:#fff}.multiselect__option--highlight,.multiselect__option--highlight:after,.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#f08b23}.multiselect{font-family:Open Sans!important;font-weight:900}.multiselect,.multiselect__placeholder{color:#062348}.multiselect__input:focus,.multiselect__single:focus{border-color:#062348}.multiselect__input::-moz-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input:-ms-input-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input::placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect--disabled{background:#fff}.multiselect--disabled .multiselect__select{background:transparent}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:3px solid transparent;border-top-color:orange;box-shadow:0 0 0 1px transparent;background:transparent}.multiselect__spinner{border-radius:50px}.qty .count{font-size:25px;font-weight:700;line-height:30px;padding:0 2px;min-width:35px;font-family:Open Sans;color:#0f213d!important}.qty .count,.qty button{display:inline-block;vertical-align:top;text-align:center}.qty button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;cursor:pointer;color:#fff;width:30px;height:30px;font:30px/1 Arial,sans-serif;border-radius:50%;padding:0;background:#f08b23}.qty div{text-align:center}.qty .minus:hover,.qty .plus:hover{background:#0f213d!important;color:#fff}.qty input{border:0;width:60%}.qty input::-webkit-inner-spin-button,.qty input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.qty input:disabled{background-color:#fff}',""])},awlW:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,'@media only screen and (max-width:767.98px){.vhd-container:not(.desktop) .vhd-picker{width:100%!important;padding:8px}.tour-module .cont .row{width:100%!important}.qty input{border:0;width:50%}}@media screen and (max-width:477px){.vhd-input{min-width:100%!important}.vhd-container{width:100%!important}}@media screen and (max-width:576px){.tour-module .cont{height:100%!important}}.vhd-picker{z-index:2!important;min-height:362px!important;padding:18px!important}.vhd-input{padding:8px;border:1px solid orange!important;color:#062348!important;font-size:16px;line-height:32px;outline:none;border-radius:20px;min-height:40px;height:40px!important;font-family:Open Sans!important;font-weight:900;width:100%}.vhd-input::-moz-placeholder{color:#062348!important}.vhd-input:-ms-input-placeholder{color:#062348!important}.vhd-input::placeholder{color:#062348!important}.vhd-container:not(.desktop) .vhd-picker{min-height:362px}.vhd-calendar .calendar-date .week .day[data-v-0cb4ff92]{font-size:16px;font-weight:500;line-height:30px;color:#505050;text-align:center;cursor:pointer}.vhd-calendar .calendar-date .week .day{background-image:none!important;height:30px!important}.vhd-calendar-header{height:20px!important}.vhd-container:not(.desktop) .vhd-calendar-header{height:60px!important}.vhd-container:not(.desktop) .vhd-calendar-header>.info{display:block;width:100%;height:60px;padding-top:32px!important}.vhd-container:not(.desktop) .vhd-calendar-footer{height:36px!important}.vhd-calendar-footer{height:24px!important}.vhd-calendar .calendar-date .week{height:30px!important}.vhd-calendar .calendar-date .week .day.end-date:after,.vhd-calendar .calendar-date .week .day.start-date:before{background-color:orange!important}.vhd-calendar .calendar-date .week .day.end-date,.vhd-calendar .calendar-date .week .day.in-date-range,.vhd-calendar .calendar-date .week .day.start-date{background-color:rgba(255,165,0,.4392156862745098)!important}.vhd-calendar .calendar-date .week .day.today{border:1px solid orange!important}.vhd-calendar-footer .confirm,.vhd-calendar-footer .reset{font-family:Open Sans!important;font-weight:900!important}.vhd-calendar-footer .reset{color:#062348!important}.vhd-calendar-footer .confirm{color:orange!important}.vhd-calendar .calendar-month-title,.vhd-calendar .calendar-week-item{color:#062348!important;font-family:Open Sans!important;font-weight:900!important}.values__hotel-rating:after{content:"";display:inline-block;margin-left:2px;width:13px;height:12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAMAAACOacfrAAAAXVBMVEVMaXH3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD4VMltAAAAHnRSTlMAJsstyPUCQnwB8Pl5osal+yqV2VVFVNp4e/MU8RdBDXhlAAAAV0lEQVR4AUXMNRLAMAADQYU5hjDp/8+Mxyq83TWHaGuQdHnepVrJHZA6O8glqxG0ZcWoKlug6CnsCwDNoBj0HVUnoks1qibyvclJNVv/fN7OKuMQOAPgBw0TBxaiVo4AAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:50%}.multiselect__tags .price{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .price:focus{outline:none!important;box-shadow:none!important}.multiselect-title{color:#062348!important;font-family:Bello Pro}.multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tag{background:#062348}.multiselect__tag-icon:after{color:#fff}.multiselect__option--highlight,.multiselect__option--highlight:after,.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#f08b23}.multiselect{font-family:Open Sans!important;font-weight:900}.multiselect,.multiselect__placeholder{color:#062348}.multiselect__input:focus,.multiselect__single:focus{border-color:#062348}.multiselect__input::-moz-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input:-ms-input-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input::placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect--disabled{background:#fff}.multiselect--disabled .multiselect__select{background:transparent}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:3px solid transparent;border-top-color:orange;box-shadow:0 0 0 1px transparent;background:transparent}.multiselect__spinner{border-radius:50px}.qty .count{font-size:25px;font-weight:700;line-height:30px;padding:0 2px;min-width:35px;font-family:Open Sans;color:#0f213d!important}.qty .count,.qty button{display:inline-block;vertical-align:top;text-align:center}.qty button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;cursor:pointer;color:#fff;width:30px;height:30px;font:30px/1 Arial,sans-serif;border-radius:50%;padding:0;background:#f08b23}.qty div{text-align:center}.qty .minus:hover,.qty .plus:hover{background:#0f213d!important;color:#fff}.qty input{border:0;width:60%}.qty input::-webkit-inner-spin-button,.qty input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.qty input:disabled{background-color:#fff}',""])},dCbZ:function(t,e,o){var i=o("GH2/");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,n);i.locals&&(t.exports=i.locals)},g6Y9:function(t,e,o){"use strict";o("KbRc")},gVdr:function(t,e,o){"use strict";o("wj8U")},jdjC:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,'@media only screen and (max-width:767.98px){.vhd-container:not(.desktop) .vhd-picker{width:100%!important;padding:8px}.qty input{border:0;width:50%}}@media screen and (max-width:477px){.vhd-input{min-width:100%!important}.vhd-container{width:100%!important}}#client .vhd-picker{z-index:3!important;min-height:362px!important;padding:18px!important}#client .vhd-container{width:100%!important}#client .vhd-input{min-width:100px;padding:8px;border:1px solid #f08b23!important;color:#062348!important;font-size:16px;line-height:32px;outline:none;border-radius:20px;min-height:40px;height:40px!important;font-family:Open Sans!important;font-weight:900;width:100%}.vhd-input::-moz-placeholder{color:#062348!important}.vhd-input:-ms-input-placeholder{color:#062348!important}.vhd-input::placeholder{color:#062348!important}.vhd-container:not(.desktop) .vhd-picker{min-height:362px}.vhd-calendar .calendar-date .week .day[data-v-0cb4ff92]{font-size:16px;font-weight:500;line-height:30px;color:#505050;text-align:center;cursor:pointer}.vhd-calendar .calendar-date .week .day{background-image:none!important;height:30px!important}.vhd-calendar-header{height:20px!important}.vhd-container:not(.desktop) .vhd-calendar-header{height:60px!important}.vhd-container:not(.desktop) .vhd-calendar-header>.info{display:block;width:100%;height:60px;padding-top:32px!important}.vhd-container:not(.desktop) .vhd-calendar-footer{height:36px!important}.vhd-calendar-footer{height:24px!important}.vhd-calendar .calendar-date .week{height:30px!important}.vhd-calendar .calendar-date .week .day.end-date:after,.vhd-calendar .calendar-date .week .day.start-date:before{background-color:orange!important}.vhd-calendar .calendar-date .week .day.end-date,.vhd-calendar .calendar-date .week .day.in-date-range,.vhd-calendar .calendar-date .week .day.start-date{background-color:rgba(255,165,0,.4392156862745098)!important}.vhd-calendar .calendar-date .week .day.today{border:1px solid orange!important}.vhd-calendar-footer .confirm,.vhd-calendar-footer .reset{font-family:Open Sans!important;font-weight:900!important}.vhd-calendar-footer .reset{color:#062348!important}.vhd-calendar-footer .confirm{color:orange!important}.vhd-calendar .calendar-month-title,.vhd-calendar .calendar-week-item{color:#062348!important;font-family:Open Sans!important;font-weight:900!important}.values__hotel-rating:after{content:"";display:inline-block;margin-left:2px;width:13px;height:12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAMAAACOacfrAAAAXVBMVEVMaXH3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD4VMltAAAAHnRSTlMAJsstyPUCQnwB8Pl5osal+yqV2VVFVNp4e/MU8RdBDXhlAAAAV0lEQVR4AUXMNRLAMAADQYU5hjDp/8+Mxyq83TWHaGuQdHnepVrJHZA6O8glqxG0ZcWoKlug6CnsCwDNoBj0HVUnoks1qibyvclJNVv/fN7OKuMQOAPgBw0TBxaiVo4AAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:50%}.multiselect__option.multiselect__option--group.multiselect__option--disabled{text-align:center;background:#fff!important;color:#f08b23!important}.multiselect__tags .price{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .price:focus{outline:none!important;box-shadow:none!important}.multiselect-title{color:#062348!important;font-family:Open Sans;font-weight:600;font-size:1rem}#client-profile .multiselect{min-height:38px}#client-profile .multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:.7500000025rem;min-height:38px;line-height:1.428571!important}#client .multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tag{background:#062348}.multiselect__tag-icon:after{color:#fff}.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#f08b23}.multiselect__option--selected.multiselect__option--highlight:after{background:rgba(255,106,106,0);content:attr(data-deselect);color:#fff}.multiselect__option--highlight:after{background:rgba(240,139,35,0)}.multiselect__option--highlight{background:#f08b23}.multiselect__option{white-space:break-spaces!important}.multiselect{font-family:Open Sans!important;font-weight:900}.multiselect,.multiselect__placeholder{color:#062348}.multiselect__input:focus,.multiselect__single:focus{border-color:#062348}#client-profile .multiselect__input::-moz-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700;font-size:.7500000025rem!important;line-height:1.428571!important}#client-profile .multiselect__input:-ms-input-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700;font-size:.7500000025rem!important;line-height:1.428571!important}#client-profile .multiselect__input::placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700;font-size:.7500000025rem!important;line-height:1.428571!important}.multiselect--disabled{background:#fff}.multiselect--disabled .multiselect__select{background:transparent}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:3px solid transparent;border-top-color:orange;box-shadow:0 0 0 1px transparent;background:transparent}.multiselect__spinner{border-radius:50px}.qty .count{font-size:25px;font-weight:700;line-height:30px;padding:0 2px;min-width:35px;font-family:Open Sans;color:#0f213d!important}#client .qty button,.qty .count{display:inline-block;vertical-align:top;text-align:center}#client .qty button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;cursor:pointer;color:#fff;width:20px;height:20px;font:20px/1 Arial,sans-serif;border-radius:50%;padding:0;background:#f08b23}.qty div{text-align:center}.qty .minus:hover,.qty .plus:hover{background:#0f213d!important;color:#fff}#client .qty input{border:0;width:50%}.qty input::-webkit-inner-spin-button,.qty input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.qty input:disabled{background-color:#fff}',""])},oZA0:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"input[type=file][data-v-791b9232]{opacity:0;width:100%;height:200px;position:absolute;cursor:pointer}.filezone[data-v-791b9232]{outline:2px dashed grey;outline-offset:-10px;background:#ccc;color:#696969;padding:10px;min-height:200px;position:relative;cursor:pointer}.filezone[data-v-791b9232]:hover{background:silver}.filezone p[data-v-791b9232]{font-size:1.2em;text-align:center;padding:50px}div.file-listing img[data-v-791b9232]{max-width:90%}div.file-listing[data-v-791b9232]{margin:auto;padding:10px;border-bottom:1px solid #ddd}.preview[data-v-791b9232],div.file-listing img[data-v-791b9232]{height:100px}.preview[data-v-791b9232]{max-width:90%}div.success-container[data-v-791b9232]{text-align:center;color:green}div.remove-container[data-v-791b9232]{text-align:center}div.remove-container a[data-v-791b9232]{color:red;cursor:pointer}a.submit-button[data-v-791b9232]{display:block;text-align:center;width:200px;padding:10px;text-transform:uppercase;background-color:green;color:#fff;font-weight:700;margin:20px auto auto}",""])},p1JS:function(t,e,o){var i=o("Y/+S");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,n);i.locals&&(t.exports=i.locals)},rl1f:function(t,e,o){"use strict";o("dCbZ")},szEt:function(t,e,o){"use strict";o("XmXT")},"t5+g":function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,'.btn-travel{color:#fff!important;background:linear-gradient(0deg,#ffbf00,#f08b23);background-color:transparent;background-color:#f08b23!important;border-color:#f08b23!important;box-shadow:0 2px 2px 0 rgba(156,39,176,.14),0 3px 1px -2px rgba(156,39,176,.2),0 1px 5px 0 rgba(156,39,176,.12)!important}@media only screen and (max-width:767.98px){.vdp-container:not(.desktop) .vdp-picker{width:100%!important;padding:8px}.tour-module .cont .row{width:100%!important}.qty input{border:0;width:50%}}@media screen and (max-width:477px){.vdp-input{min-width:100%!important}.vdp-container{width:100%!important}}@media screen and (max-width:576px){.tour-module .cont{height:100%!important}}.vdp-datepicker__calendar{position:absolute;z-index:2!important;padding:18px!important;background:#fff;width:300px;border:1px solid #ccc}.vdp-datepicker input{padding:8px;border:1px solid orange!important;color:#062348!important;font-size:16px;line-height:32px;outline:none;border-radius:20px;min-height:40px;height:40px!important;font-family:Open Sans!important;font-weight:900;width:100%}.vdp-datepicker input::-moz-placeholder{color:#062348!important}.vdp-datepicker input:-ms-input-placeholder{color:#062348!important}.vdp-datepicker input::placeholder{color:#062348!important}.vdp-datepicker__calendar .day-header{color:#062348;font-family:Open Sans!important;font-weight:900!important}.vdp-datepicker__clear-button{position:absolute;right:20px;top:-11px;color:#0f213d;font-size:36px}.vdp-datepicker__calendar .cell{height:30px;line-height:30px}.vdp-datepicker__calendar .day{font-size:16px;font-weight:500;line-height:30px;color:#0f213d;text-align:center;cursor:pointer;background-image:none!important;height:30px!important}.vdp-datepicker__calendar .cell{display:inline-block;padding:0 5px;width:14.285714285714286%;height:30px!important;line-height:30px!important;text-align:center;vertical-align:middle;border:1px solid transparent}.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).day:hover,.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).month:hover,.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).year:hover{border:1px solid orange!important}.vdp-datepicker__calendar .cell.selected,.vdp-datepicker__calendar .cell.selected:hover{background:rgba(255,165,0,.4392156862745098)!important;background-image:none}.vdp-calendar .calendar-date .week .day.end-date:after,.vdp-calendar .calendar-date .week .day.start-date:before{background-color:orange!important}.vdp-calendar .calendar-date .week .day.end-date,.vdp-calendar .calendar-date .week .day.in-date-range,.vdp-calendar .calendar-date .week .day.start-date{background-color:rgba(255,165,0,.4392156862745098)!important}.vdp-calendar .calendar-date .week .day.today{border:1px solid orange!important}.vdp-calendar-footer .confirm,.vdp-calendar-footer .reset{font-family:Open Sans!important;font-weight:900!important}.vdp-calendar-footer .reset{color:#062348!important}.vdp-calendar-footer .confirm{color:orange!important}.vdp-calendar .calendar-month-title,.vdp-calendar .calendar-week-item{color:#062348!important;font-family:Open Sans!important;font-weight:900!important}.values__hotel-rating:after{content:"";display:inline-block;margin-left:2px;width:13px;height:12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAMAAACOacfrAAAAXVBMVEVMaXH3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD4VMltAAAAHnRSTlMAJsstyPUCQnwB8Pl5osal+yqV2VVFVNp4e/MU8RdBDXhlAAAAV0lEQVR4AUXMNRLAMAADQYU5hjDp/8+Mxyq83TWHaGuQdHnepVrJHZA6O8glqxG0ZcWoKlug6CnsCwDNoBj0HVUnoks1qibyvclJNVv/fN7OKuMQOAPgBw0TBxaiVo4AAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:50%}.multiselect__tags .price{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .price:focus{outline:none!important;box-shadow:none!important}.multiselect-title{color:#062348!important;font-family:Bello Pro}.multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tag{background:#062348}.multiselect__tag-icon:after{color:#fff}.multiselect__option--highlight,.multiselect__option--highlight:after,.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#f08b23}.multiselect{font-family:Open Sans!important;font-weight:900}.multiselect,.multiselect__placeholder{color:#062348}.multiselect__input:focus,.multiselect__single:focus{border-color:#062348}.multiselect__input::-moz-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input:-ms-input-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input::placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect--disabled{background:#fff}.multiselect--disabled .multiselect__select{background:transparent}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:3px solid transparent;border-top-color:orange;box-shadow:0 0 0 1px transparent;background:transparent}.multiselect__spinner{border-radius:50px}.qty .count{font-size:25px;font-weight:700;line-height:30px;padding:0 2px;min-width:35px;font-family:Open Sans;color:#0f213d!important}.qty .count,.qty button{display:inline-block;vertical-align:top;text-align:center}.qty button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;cursor:pointer;color:#fff;width:30px;height:30px;font:30px/1 Arial,sans-serif;border-radius:50%;padding:0;background:#f08b23;border:0}.qty div{text-align:center}.qty .minus:hover,.qty .plus:hover{background:#0f213d!important;color:#fff}.qty input{border:0;width:60%}.qty input::-webkit-inner-spin-button,.qty input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.qty input:disabled{background-color:#fff}',""])},tjKz:function(t,e,o){"use strict";o("vfgV")},"u1O+":function(t,e,o){"use strict";o("CtLc")},vfgV:function(t,e,o){var i=o("9beB");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,n);i.locals&&(t.exports=i.locals)},wj8U:function(t,e,o){var i=o("awlW");"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,n);i.locals&&(t.exports=i.locals)}}]);