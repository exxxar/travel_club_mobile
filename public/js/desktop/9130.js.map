{"version":3,"file":"js/desktop/9130.js","mappings":"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","sources":["webpack:///./node_modules/js-file-download/file-download.js","webpack:///./resources/js/desktop/pages/admin/Promocode.vue?fda0","webpack:///resources/js/desktop/pages/admin/Promocode.vue","webpack:///./resources/js/desktop/pages/admin/Promocode.vue?0850","webpack:///./resources/js/desktop/pages/admin/Promocode.vue?fdac","webpack:///./resources/js/desktop/pages/admin/Promocode.vue?c53c","webpack:///./resources/js/desktop/pages/admin/Promocode.vue"],"sourcesContent":["module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".promocodes{height:100vh}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/desktop/pages/admin/Promocode.vue\"],\"names\":[],\"mappings\":\"AACA,YACI,YAAJ\",\"sourcesContent\":[\"\\n.promocodes {\\n    height: 100vh;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n    <div class=\"container justify-content-center d-flex align-items-center promocodes\">\n        <div class=\"row justify-content-center d-flex align-items-center\">\n            <div class=\"col-sm-6 col-12\">\n                <form v-on:submit.prevent=\"request\" class=\"promocode-form row\">\n                    <p v-if=\"message.length>0\" class=\"alert alert-danger w-100 mb-2\">{{message}}</p>\n\n                    <input type=\"text\" placeholder=\"Введите ваш промокод\" class=\"form-control col-12 mb-2\"\n                           v-model=\"code\" required>\n                    <input type=\"password\" placeholder=\"Введите ваш индивидуальный пароль\"\n                           class=\"form-control col-12 mb-2\" v-model=\"password\" required>\n                    <button class=\"btn btn-danger col-12\">Получить сводку</button>\n                </form>\n\n\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n                code: '',\n                password: '',\n                message: '',\n            }\n        },\n        methods: {\n            request() {\n                this.message = \"\";\n                this.sendMessage(\"Спасибо! Мы обрабатываем Ваш запрос\")\n\n                axios.defaults.baseURL = '/';\n\n                axios\n                    .post('/api/v1/statistic/promocode', {\n                        code: this.code,\n                        password: this.password\n                    }, {responseType: 'blob'}).then(resp => {\n                    this.sendMessage(\"Мы успешно обработали Ваш запрос! Генериуем pdf-документ.\")\n\n                    const FileDownload = require('js-file-download');\n\n                    FileDownload(resp.data, 'report.pdf')\n                    this.message=\"Статистика успешно сгенерирована!\";\n                }).catch(error=>{\n                    this.message=\"Ошибка генерации статистики\";\n                    this.sendMessage(this.message,\"error\")\n                })\n            },\n            sendMessage(message, type = 'success') {\n                this.$notify({\n                    group: 'info',\n                    type: type,\n                    title: 'Travel Club',\n                    text: message\n                });\n            }\n        }\n    }\n</script>\n<style lang=\"scss\">\n    .promocodes {\n        height: 100vh;\n    }\n</style>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Promocode.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Promocode.vue?vue&type=script&lang=js\"","import api from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../node_modules/laravel-mix/node_modules/css-loader/dist/cjs.js??clonedRuleSet-12.use[1]!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-12.use[2]!../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-12.use[3]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Promocode.vue?vue&type=style&index=0&id=67483da2&prod&lang=scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./Promocode.vue?vue&type=template&id=67483da2\"\nimport script from \"./Promocode.vue?vue&type=script&lang=js\"\nexport * from \"./Promocode.vue?vue&type=script&lang=js\"\nimport style0 from \"./Promocode.vue?vue&type=style&index=0&id=67483da2&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container justify-content-center d-flex align-items-center promocodes\"},[_c('div',{staticClass:\"row justify-content-center d-flex align-items-center\"},[_c('div',{staticClass:\"col-sm-6 col-12\"},[_c('form',{staticClass:\"promocode-form row\",on:{\"submit\":function($event){$event.preventDefault();return _vm.request.apply(null, arguments)}}},[(_vm.message.length>0)?_c('p',{staticClass:\"alert alert-danger w-100 mb-2\"},[_vm._v(_vm._s(_vm.message))]):_vm._e(),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],staticClass:\"form-control col-12 mb-2\",attrs:{\"type\":\"text\",\"placeholder\":\"Введите ваш промокод\",\"required\":\"\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing)return;_vm.code=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control col-12 mb-2\",attrs:{\"type\":\"password\",\"placeholder\":\"Введите ваш индивидуальный пароль\",\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-danger col-12\"},[_vm._v(\"Получить сводку\")])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"names":["module","exports","data","filename","mime","bom","blob","Blob","type","window","navigator","msSaveBlob","blobURL","URL","createObjectURL","webkitURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","___CSS_LOADER_EXPORT___","push","id","code","password","message","methods","request","_this","sendMessage","axios","defaults","baseURL","post","responseType","then","resp","require","FileDownload","error","arguments","length","undefined","$notify","group","title","text","options","locals","_vm","this","_c","_self","staticClass","on","$event","preventDefault","apply","_v","_s","_e","directives","name","rawName","value","expression","attrs","domProps","target","composing"],"sourceRoot":""}