(self.webpackChunk=self.webpackChunk||[]).push([[9522],{35823:e=>{e.exports=function(e,t,s,o){var a=new Blob(void 0!==o?[o,e]:[e],{type:s||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(a,t);else{var n=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(a):window.webkitURL.createObjectURL(a),r=document.createElement("a");r.style.display="none",r.href=n,r.setAttribute("download",t),void 0===r.download&&r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(n)}),200)}}},70227:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var o=s(1519),a=s.n(o)()((function(e){return e[1]}));a.push([e.id,".promocodes{height:100vh}",""]);const n=a},19522:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});const o={data:function(){return{code:"",password:"",message:""}},methods:{request:function(){var e=this;this.message="",this.sendMessage("Спасибо! Мы обрабатываем Ваш запрос"),axios.defaults.baseURL="/",axios.post("/api/v1/statistic/promocode",{code:this.code,password:this.password},{responseType:"blob"}).then((function(t){e.sendMessage("Мы успешно обработали Ваш запрос! Генериуем pdf-документ."),s(35823)(t.data,"report.pdf"),e.message="Статистика успешно сгенерирована!"})).catch((function(t){e.message="Ошибка генерации статистики",e.sendMessage(e.message,"error")}))},sendMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.$notify({group:"info",type:t,title:"Travel Club",text:e})}}};var a=s(93379),n=s.n(a),r=s(70227),i={insert:"head",singleton:!1};n()(r.Z,i);r.Z.locals;const c=(0,s(51900).Z)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container justify-content-center d-flex align-items-center promocodes"},[t("div",{staticClass:"row justify-content-center d-flex align-items-center"},[t("div",{staticClass:"col-sm-6 col-12"},[t("form",{staticClass:"promocode-form row",on:{submit:function(t){return t.preventDefault(),e.request.apply(null,arguments)}}},[e.message.length>0?t("p",{staticClass:"alert alert-danger w-100 mb-2"},[e._v(e._s(e.message))]):e._e(),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form-control col-12 mb-2",attrs:{type:"text",placeholder:"Введите ваш промокод",required:""},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control col-12 mb-2",attrs:{type:"password",placeholder:"Введите ваш индивидуальный пароль",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),t("button",{staticClass:"btn btn-danger col-12"},[e._v("Получить сводку")])])])])])}),[],!1,null,null,null).exports}}]);