(self.webpackChunk=self.webpackChunk||[]).push([[9130],{5419:e=>{e.exports=function(e,t,s,o){var n=new Blob(void 0!==o?[o,e]:[e],{type:s||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(n,t);else{var a=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(n):window.webkitURL.createObjectURL(n),r=document.createElement("a");r.style.display="none",r.href=a,r.setAttribute("download",t),void 0===r.download&&r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(a)}),200)}}},18663:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var o=s(45627),n=s.n(o),a=s(76798),r=s.n(a)()(n());r.push([e.id,".promocodes{height:100vh}","",{version:3,sources:["webpack://./resources/js/desktop/pages/admin/Promocode.vue"],names:[],mappings:"AACA,YACI,YAAJ",sourcesContent:["\n.promocodes {\n    height: 100vh;\n}\n"],sourceRoot:""}]);const i=r},49130:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});const o={data:function(){return{code:"",password:"",message:""}},methods:{request:function(){var e=this;this.message="",this.sendMessage("Спасибо! Мы обрабатываем Ваш запрос"),axios.defaults.baseURL="/",axios.post("/api/v1/statistic/promocode",{code:this.code,password:this.password},{responseType:"blob"}).then((function(t){e.sendMessage("Мы успешно обработали Ваш запрос! Генериуем pdf-документ."),s(5419)(t.data,"report.pdf"),e.message="Статистика успешно сгенерирована!"})).catch((function(t){e.message="Ошибка генерации статистики",e.sendMessage(e.message,"error")}))},sendMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.$notify({group:"info",type:t,title:"Travel Club",text:e})}}};var n=s(85072),a=s.n(n),r=s(18663),i={insert:"head",singleton:!1};a()(r.A,i);r.A.locals;const c=(0,s(14486).A)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container justify-content-center d-flex align-items-center promocodes"},[t("div",{staticClass:"row justify-content-center d-flex align-items-center"},[t("div",{staticClass:"col-sm-6 col-12"},[t("form",{staticClass:"promocode-form row",on:{submit:function(t){return t.preventDefault(),e.request.apply(null,arguments)}}},[e.message.length>0?t("p",{staticClass:"alert alert-danger w-100 mb-2"},[e._v(e._s(e.message))]):e._e(),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form-control col-12 mb-2",attrs:{type:"text",placeholder:"Введите ваш промокод",required:""},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control col-12 mb-2",attrs:{type:"password",placeholder:"Введите ваш индивидуальный пароль",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),t("button",{staticClass:"btn btn-danger col-12"},[e._v("Получить сводку")])])])])])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=9130.js.map