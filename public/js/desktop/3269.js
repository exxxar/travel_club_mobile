"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3269],{43298:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(1519),a=n.n(o)()((function(t){return t[1]}));a.push([t.id,'.btn-travel{background:linear-gradient(0deg,#ffbf00,#f08b23);background-color:transparent;background-color:#f08b23!important;border-color:#f08b23!important;box-shadow:0 2px 2px 0 rgba(156,39,176,.14),0 3px 1px -2px rgba(156,39,176,.2),0 1px 5px 0 rgba(156,39,176,.12)!important;color:#fff!important}@media only screen and (max-width:767.98px){.vdp-container:not(.desktop) .vdp-picker{padding:8px;width:100%!important}.tour-module .cont .row{width:100%!important}.qty input{border:0;width:50%}}@media screen and (max-width:477px){.vdp-input{min-width:100%!important}.vdp-container{width:100%!important}}@media screen and (max-width:576px){.tour-module .cont{height:100%!important}}.vdp-datepicker__calendar{background:#fff;border:1px solid #ccc;padding:18px!important;position:absolute;width:300px;z-index:2!important}.vdp-datepicker input{border:1px solid orange!important;border-radius:20px;color:#062348!important;font-family:Open Sans!important;font-size:16px;font-weight:900;height:40px!important;line-height:32px;min-height:40px;outline:none;padding:8px;width:100%}.vdp-datepicker input::-moz-placeholder{color:#062348!important}.vdp-datepicker input::placeholder{color:#062348!important}.vdp-datepicker__calendar .day-header{color:#062348;font-family:Open Sans!important;font-weight:900!important}.vdp-datepicker__clear-button{color:#0f213d;font-size:36px;position:absolute;right:20px;top:-11px}.vdp-datepicker__calendar .cell{height:30px;line-height:30px}.vdp-datepicker__calendar .day{background-image:none!important;color:#0f213d;cursor:pointer;font-size:16px;font-weight:500;height:30px!important;line-height:30px;text-align:center}.vdp-datepicker__calendar .cell{border:1px solid transparent;display:inline-block;height:30px!important;line-height:30px!important;padding:0 5px;text-align:center;vertical-align:middle;width:14.285714285714286%}.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).day:hover,.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).month:hover,.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).year:hover{border:1px solid orange!important}.vdp-datepicker__calendar .cell.selected,.vdp-datepicker__calendar .cell.selected:hover{background:#ffa50070!important;background-image:none}.vdp-calendar .calendar-date .week .day.end-date:after,.vdp-calendar .calendar-date .week .day.start-date:before{background-color:orange!important}.vdp-calendar .calendar-date .week .day.end-date,.vdp-calendar .calendar-date .week .day.in-date-range,.vdp-calendar .calendar-date .week .day.start-date{background-color:#ffa50070!important}.vdp-calendar .calendar-date .week .day.today{border:1px solid orange!important}.vdp-calendar-footer .confirm,.vdp-calendar-footer .reset{font-family:Open Sans!important;font-weight:900!important}.vdp-calendar-footer .reset{color:#062348!important}.vdp-calendar-footer .confirm{color:orange!important}.vdp-calendar .calendar-month-title,.vdp-calendar .calendar-week-item{color:#062348!important;font-family:Open Sans!important;font-weight:900!important}.values__hotel-rating:after{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAMAAACOacfrAAAAXVBMVEVMaXH3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD4VMltAAAAHnRSTlMAJsstyPUCQnwB8Pl5osal+yqV2VVFVNp4e/MU8RdBDXhlAAAAV0lEQVR4AUXMNRLAMAADQYU5hjDp/8+Mxyq83TWHaGuQdHnepVrJHZA6O8glqxG0ZcWoKlug6CnsCwDNoBj0HVUnoks1qibyvclJNVv/fN7OKuMQOAPgBw0TBxaiVo4AAAAAAElFTkSuQmCC);background-position:50%;background-repeat:no-repeat;content:"";display:inline-block;height:12px;margin-left:2px;width:13px}.multiselect__tags .price{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .price:focus{box-shadow:none!important;outline:none!important}.multiselect-title{color:#062348!important;font-family:Bello Pro}.multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tag{background:#062348}.multiselect__tag-icon:after{color:#fff}.multiselect__option--highlight,.multiselect__option--highlight:after,.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#f08b23}.multiselect{font-family:Open Sans!important;font-weight:900}.multiselect,.multiselect__placeholder{color:#062348}.multiselect__input:focus,.multiselect__single:focus{border-color:#062348}.multiselect__input::-moz-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input::placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect--disabled{background:#fff}.multiselect--disabled .multiselect__select{background:transparent}.multiselect__spinner:after,.multiselect__spinner:before{background:transparent;border:3px solid transparent;border-radius:100%;border-top-color:orange;box-shadow:0 0 0 1px transparent;content:"";height:16px;left:50%;margin:-8px 0 0 -8px;position:absolute;top:50%;width:16px}.multiselect__spinner{border-radius:50px}.qty .count{color:#0f213d!important;font-family:Open Sans;font-size:25px;font-weight:700;line-height:30px;min-width:35px;padding:0 2px}.qty .count,.qty button{display:inline-block;text-align:center;vertical-align:top}.qty button{background:#f08b23;border:0;border-radius:50%;color:#fff;cursor:pointer;font:30px/1 Arial,sans-serif;height:30px;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;width:30px}.qty div{text-align:center}.qty .minus:hover,.qty .plus:hover{background:#0f213d!important;color:#fff}.qty input{border:0;width:60%}.qty input::-webkit-inner-spin-button,.qty input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.qty input:disabled{background-color:#fff}',""]);const i=a},730:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(1519),a=n.n(o)()((function(t){return t[1]}));a.push([t.id,'@media only screen and (max-width:767.98px){.vhd-container:not(.desktop) .vhd-picker{padding:8px;width:100%!important}.tour-module .cont .row{width:100%!important}.qty input{border:0;width:50%}}@media screen and (max-width:477px){.vhd-input{min-width:100%!important}.vhd-container{width:100%!important}}@media screen and (max-width:576px){.tour-module .cont{height:100%!important}}.vhd-picker{min-height:362px!important;padding:18px!important;z-index:2!important}.vhd-input{border:1px solid orange!important;border-radius:20px;color:#062348!important;font-family:Open Sans!important;font-size:16px;font-weight:900;height:40px!important;line-height:32px;min-height:40px;outline:none;padding:8px;width:100%}.vhd-input::-moz-placeholder{color:#062348!important}.vhd-input::placeholder{color:#062348!important}.vhd-container:not(.desktop) .vhd-picker{min-height:362px}.vhd-calendar .calendar-date .week .day[data-v-0cb4ff92]{color:#505050;cursor:pointer;font-size:16px;font-weight:500;line-height:30px;text-align:center}.vhd-calendar .calendar-date .week .day{background-image:none!important;height:30px!important}.vhd-calendar-header{height:20px!important}.vhd-container:not(.desktop) .vhd-calendar-header{height:60px!important}.vhd-container:not(.desktop) .vhd-calendar-header>.info{display:block;height:60px;padding-top:32px!important;width:100%}.vhd-container:not(.desktop) .vhd-calendar-footer{height:36px!important}.vhd-calendar-footer{height:24px!important}.vhd-calendar .calendar-date .week{height:30px!important}.vhd-calendar .calendar-date .week .day.end-date:after,.vhd-calendar .calendar-date .week .day.start-date:before{background-color:orange!important}.vhd-calendar .calendar-date .week .day.end-date,.vhd-calendar .calendar-date .week .day.in-date-range,.vhd-calendar .calendar-date .week .day.start-date{background-color:#ffa50070!important}.vhd-calendar .calendar-date .week .day.today{border:1px solid orange!important}.vhd-calendar-footer .confirm,.vhd-calendar-footer .reset{font-family:Open Sans!important;font-weight:900!important}.vhd-calendar-footer .reset{color:#062348!important}.vhd-calendar-footer .confirm{color:orange!important}.vhd-calendar .calendar-month-title,.vhd-calendar .calendar-week-item{color:#062348!important;font-family:Open Sans!important;font-weight:900!important}.values__hotel-rating:after{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAMCAMAAACOacfrAAAAXVBMVEVMaXH3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD3vzD4VMltAAAAHnRSTlMAJsstyPUCQnwB8Pl5osal+yqV2VVFVNp4e/MU8RdBDXhlAAAAV0lEQVR4AUXMNRLAMAADQYU5hjDp/8+Mxyq83TWHaGuQdHnepVrJHZA6O8glqxG0ZcWoKlug6CnsCwDNoBj0HVUnoks1qibyvclJNVv/fN7OKuMQOAPgBw0TBxaiVo4AAAAAAElFTkSuQmCC);background-position:50%;background-repeat:no-repeat;content:"";display:inline-block;height:12px;margin-left:2px;width:13px}.multiselect__tags .price{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .price:focus{box-shadow:none!important;outline:none!important}.multiselect-title{color:#062348!important;font-family:Bello Pro}.multiselect__tags{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tag{background:#062348}.multiselect__tag-icon:after{color:#fff}.multiselect__option--highlight,.multiselect__option--highlight:after,.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#f08b23}.multiselect{font-family:Open Sans!important;font-weight:900}.multiselect,.multiselect__placeholder{color:#062348}.multiselect__input:focus,.multiselect__single:focus{border-color:#062348}.multiselect__input::-moz-placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect__input::placeholder{color:#062348!important;font-family:Open Sans!important;font-weight:700}.multiselect--disabled{background:#fff}.multiselect--disabled .multiselect__select{background:transparent}.multiselect__spinner:after,.multiselect__spinner:before{background:transparent;border:3px solid transparent;border-radius:100%;border-top-color:orange;box-shadow:0 0 0 1px transparent;content:"";height:16px;left:50%;margin:-8px 0 0 -8px;position:absolute;top:50%;width:16px}.multiselect__spinner{border-radius:50px}.qty .count{color:#0f213d!important;font-family:Open Sans;font-size:25px;font-weight:700;line-height:30px;min-width:35px;padding:0 2px}.qty .count,.qty button{display:inline-block;text-align:center;vertical-align:top}.qty button{background:#f08b23;border-radius:50%;color:#fff;cursor:pointer;font:30px/1 Arial,sans-serif;height:30px;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;width:30px}.qty div{text-align:center}.qty .minus:hover,.qty .plus:hover{background:#0f213d!important;color:#fff}.qty input{border:0;width:60%}.qty input::-webkit-inner-spin-button,.qty input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.qty input:disabled{background-color:#fff}',""]);const i=a},6907:(t,e,n)=>{n.d(e,{Z:()=>i});var o=n(1519),a=n.n(o)()((function(t){return t[1]}));a.push([t.id,"input[type=file][data-v-3317ca48]{cursor:pointer;height:200px;opacity:0;position:absolute;width:100%}.filezone[data-v-3317ca48]{background:#ccc;color:dimgray;cursor:pointer;min-height:200px;outline:2px dashed grey;outline-offset:-10px;padding:10px;position:relative}.filezone[data-v-3317ca48]:hover{background:silver}.filezone p[data-v-3317ca48]{font-size:1.2em;padding:50px;text-align:center}div.file-listing img[data-v-3317ca48]{max-width:90%}div.file-listing[data-v-3317ca48]{border-bottom:1px solid #ddd;margin:auto;padding:10px}.preview[data-v-3317ca48],div.file-listing img[data-v-3317ca48]{height:100px}.preview[data-v-3317ca48]{max-width:90%}div.success-container[data-v-3317ca48]{color:green;text-align:center}div.remove-container[data-v-3317ca48]{text-align:center}div.remove-container a[data-v-3317ca48]{color:red;cursor:pointer}a.submit-button[data-v-3317ca48]{background-color:green;color:#fff;display:block;font-weight:700;margin:20px auto auto;padding:10px;text-align:center;text-transform:uppercase;width:200px}",""]);const i=a},3269:(t,e,n)=>{n.r(e),n.d(e,{default:()=>v});var o=n(32982),a=n(30381),i=n.n(a);const r={name:"Create",data:function(){return{city_options:["Донецк","Ростов-на-Дону"],new_tour:{UserId:"",TourId:"",TourInfo:{country:{Id:150,Name:"Россия",Alias:"Russia",Flags:8,HasTickets:!0,HotelIsNotInStop:!0,IsProVisa:!1,IsVisa:!1,OriginalName:"Russia",Rank:0,TicketsIncluded:!0},resort:{Name:"Любой"},hotel:{Name:"Любой"},room_type:"",meal:"",tour_operator:"",date_range:{start:"",end:""},price:"",paid:"",left:"",services:"",avia_tickets:[],passengers:[],files:[]},StartAt:"",EndAt:"",Comment:""},new_mode:!1,meals:[{Id:"115",Name:"AI",desc:"завтраки, обеды, ужины, напитки"},{Id:"114",Name:"BB",desc:"завтраки"},{Id:"112",Name:"FB",desc:"завтраки, обеды, ужины"},{Id:"121",Name:"FB+",desc:"завтраки, обеды, ужины - расширенное меню"},{Id:"113",Name:"HB",desc:"завтраки, ужины"},{Id:"122",Name:"HB+",desc:"завтраки, ужины - расширенное меню"},{Id:"117",Name:"RO",desc:"без питания"},{Id:"116",Name:"UAI",desc:"завтраки, обеды, ужины, напитки - расширенное меню"},{Id:"129",Name:"SC",desc:"самообслуживание"}],loading:!1,new_files:[],start:void 0,end:void 0,flag:!1,seconds:0,interval:""}},created:function(){0===this.countries.length&&this.$store.dispatch("getCountries",{town_id:0}),this.$store.dispatch("getCities",this.new_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},computed:{menu:function(){return this.$store.getters.menu},isAdmin:function(){return this.$store.getters.isAdmin},isManager:function(){return this.$store.getters.isManager},tourModule:function(){return this.$store.getters.tourModule},countries:function(){return this.$store.getters.countries},cities:function(){return this.$store.getters.cities},hotels:function(){return this.$store.getters.hotels},branches:function(){return this.$store.getters.branches},isCountriesLoading:function(){return this.$store.getters.isCountriesLoading},isCitiesLoading:function(){return this.$store.getters.isCitiesLoading},isHotelsLoading:function(){return this.$store.getters.isHotelsLoading}},methods:{back:function(){this.isAdmin&&this.$router.push("/admin/client-tours/"+this.$route.params.id),this.isManager&&this.$router.push("/manager/client-tours/"+this.$route.params.id)},chooseNewResortCountry:function(t){this.new_tour.TourInfo.resort={Name:"Любой"},this.new_tour.TourInfo.hotel={Name:"Любой"},this.new_tour.TourInfo.country=t,this.$store.dispatch("getCities",this.new_tour.TourInfo.country.Id),this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseNewResorts:function(t){var e=this;if(this.new_tour.TourInfo.resort=t,"Любой"!=this.new_tour.TourInfo.resort.Name){var n=this.new_tour.TourInfo.resort.Id;this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:n,star_id:"0"}).then((function(){-1==e.hotels.findIndex((function(t){return t.Id==e.new_tour.TourInfo.hotel.Id}))&&(e.new_tour.TourInfo.hotel={Name:"Любой"})}))}else this.$store.dispatch("getHotels",{country_id:this.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"})},chooseNewHotel:function(t){this.new_tour.TourInfo.hotel=t},changeNewDateRange:function(t){this.new_tour.TourInfo.date_range=t},chooseNewMeal:function(t){this.new_tour.TourInfo.meal=t},changeNewPrice:function(){this.new_tour.TourInfo.left=this.new_tour.TourInfo.price-this.new_tour.TourInfo.paid},handleNewFiles:function(){for(var t=this.$refs.new_tour_files.files,e=0;e<t.length&&/\.(jpe?g|png|svg|pdf|txt|docx|doc)$/i.test(t[e].name);e++){var n=new Date;this.new_tour.TourInfo.files.push({type:"file",name:t[e].name,data:t[e],date:n}),this.getImagePreviews(this.new_tour.TourInfo.files)}},onResult:function(t){var e=Date.now(),n=new Date;this.new_tour.TourInfo.files.push({type:"audio",name:"record-"+e+".mp3",src:window.URL.createObjectURL(t),data:t,date:n,seconds:this.seconds}),this.countSeconds(),this.getImagePreviews(this.new_tour.TourInfo.files)},saveClientTour:function(){var t=this;this.loading=!0,this.new_tour.UserId=this.$route.params.id,this.new_tour.StartAt=i()(this.new_tour.TourInfo.date_range.start,"DD-MM-YYYY"),this.new_tour.EndAt=i()(this.new_tour.TourInfo.date_range.end,"DD-MM-YYYY");var e=new FormData;e.append("UserTour",JSON.stringify(this.new_tour));for(var n=0;n<this.new_tour.TourInfo.files.length;n++){var o=this.new_tour.TourInfo.files[n].data;e.append("files["+n+"]",o)}this.$store.dispatch("newClientTour",e).then((function(e){t.sendMessage("Тур клиента успешно добавлен"),t.new_tour={UserId:"",TourId:"",TourInfo:{country:{Id:150,Name:"Россия",Alias:"Russia",Flags:8,HasTickets:!0,HotelIsNotInStop:!0,IsProVisa:!1,IsVisa:!1,OriginalName:"Russia",Rank:0,TicketsIncluded:!0},resort:{Name:"Любой"},hotel:{Name:"Любой"},meal:"",tour_operator:"",date_range:{start:"",end:""},price:"",paid:"",left:"",services:"",avia_tickets:[],passengers:[],files:[]},StartAt:"",EndAt:"",Comment:"",Archive:!1},t.$store.dispatch("getCities",t.new_tour.TourInfo.country.Id),t.$store.dispatch("getHotels",{country_id:t.new_tour.TourInfo.country.Id,town_id:"0",star_id:"0"}),t.loading=!1}))},getImagePreviews:function(t){for(var e=this,n=function(n){if(/\.(jpe?g|png|svg)$/i.test(t[n].name)){var o=new FileReader;o.addEventListener("load",function(){this.$refs["preview"+parseInt(n)][0].src=o.result}.bind(e),!1),o.readAsDataURL(t[n].data)}else e.$nextTick((function(){this.$refs["preview"+parseInt(n)][0].src="/images/LOGO-1.png"}))},o=0;o<t.length;o++)n(o)},removeFile:function(t,e){t.splice(e,1),this.getImagePreviews(t)},onStream:function(t){this.countSeconds(),console.log("Got a stream object:",t)},countSeconds:function(){this.flag=!this.flag,1==this.flag?(this.seconds=0,this.interval=setInterval(this.incrementSeconds,1e3)):clearInterval(this.interval)},incrementSeconds:function(){this.seconds+=1},sendMessage:function(t){this.$notify({group:"info",type:"travel",title:"Сообщение от TravelClub",text:t})}},filters:{pluralizeResorts:function(t){if(1===t)return"курорт";if(t>1&&t<5)return"курорта";if(t>4&&t<20)return"курортов";if(t>19){var e=t%10;return 1===e?"курорт":e>1&&e<5?"курорта":"курортов"}return"курортов"},pluralizeHotels:function(t){if(1===t)return"отель";if(t>1&&t<5)return"отеля";if(t>4&&t<20)return"отелей";if(t>19){var e=t%10;return 1===e?"отель":e>1&&e<5?"отеля":"отелей"}return"отелей"},pluralizeChoose:function(t){return 1===t?"выбран":"выбрано"}},directives:{mask:o.mask}};var s=n(93379),l=n.n(s),c=n(43298),d={insert:"head",singleton:!1};l()(c.Z,d);c.Z.locals;var u=n(730),p={insert:"head",singleton:!1};l()(u.Z,p);u.Z.locals;var m=n(6907),f={insert:"head",singleton:!1};l()(m.Z,f);m.Z.locals;const v=(0,n(51900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(n){var o=n.invalid;return[e("div",{staticClass:"row mb-5 mx-auto"},[e("div",{staticClass:"col-12 col-md-6"},[e("label",{staticClass:"travel-label"},[t._v("Куда")]),t._v(" "),e("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"country",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[e("multiselect",{attrs:{options:t.countries,"option-height":25,placeholder:"Выберите страну","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name",loading:t.isCountriesLoading,disabled:t.isCountriesLoading,"allow-empty":!1},on:{input:t.chooseNewResortCountry},scopedSlots:t._u([{key:"singleLabel",fn:function(n){return[e("b",{class:"slsf-country-to__select-flag flag-ui_narrowtpl_flags_20x13_"+n.option.Id}),t._v(" "),e("span",{staticClass:"option__desc"},[e("span",{staticClass:"option__title"},[t._v(t._s(n.option.Name))])])]}},{key:"option",fn:function(n){return[e("b",{class:"slsf-country-to__select-flag flag-ui_narrowtpl_flags_20x13_"+n.option.Id}),t._v(" "),e("span",{staticClass:"option__desc"},[e("span",{staticClass:"option__title"},[t._v(t._s(n.option.Name))])])]}}],null,!0),model:{value:t.new_tour.TourInfo.country,callback:function(e){t.$set(t.new_tour.TourInfo,"country",e)},expression:"new_tour.TourInfo.country"}}),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"col-12 col-md-6"},[e("label",{staticClass:"travel-label"},[t._v("Курорт")]),t._v(" "),e("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"resort",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[e("multiselect",{attrs:{options:t.cities,placeholder:"Введите название курорта","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,loading:t.isCountriesLoading||t.isCitiesLoading,disabled:t.isCountriesLoading||t.isCitiesLoading,preselectFirst:!0},on:{input:t.chooseNewResorts},scopedSlots:t._u([{key:"selection",fn:function(n){var o=n.values,a=(n.search,n.isOpen);return[o.length>3&&!a?e("span",{staticClass:"multiselect__single"},[t._v("\n                            "+t._s(o.length)+" "+t._s(t._f("pluralizeResorts")(o.length))+" "+t._s(t._f("pluralizeChoose")(o.length))+"\n                        ")]):t._e()]}}],null,!0),model:{value:t.new_tour.TourInfo.resort,callback:function(e){t.$set(t.new_tour.TourInfo,"resort",e)},expression:"new_tour.TourInfo.resort"}}),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"col-12 col-md-6"},[e("label",{staticClass:"travel-label"},[t._v("Отель")]),t._v(" "),e("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"hotel",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[e("multiselect",{attrs:{options:t.hotels,placeholder:"Введите название отеля","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,loading:t.isCountriesLoading||t.isHotelsLoading,disabled:t.isCountriesLoading||t.isHotelsLoading,"allow-empty":!1,preselectFirst:!0},on:{input:t.chooseNewHotel},scopedSlots:t._u([{key:"selection",fn:function(n){var o=n.values,a=(n.search,n.isOpen);return[o.length>3&&!a?e("span",{staticClass:"multiselect__single"},[t._v("\n                            "+t._s(o.length)+" "+t._s(t._f("pluralizeHotels")(o.length))+" "+t._s(t._f("pluralizeChoose")(o.length))+"\n                        ")]):t._e()]}},{key:"singleLabel",fn:function(n){return[e("span",{staticClass:"option__desc"},[e("span",{staticClass:"option__title"},[t._v(t._s(n.option.Name))]),t._v(" "),0!=n.option.CommonRate?e("span",{staticClass:"option__title",staticStyle:{float:"right"}},[t._v(t._s(n.option.CommonRate))]):t._e(),t._v(" "),n.option.StarName?e("span",{staticClass:"values__hotel-rating",staticStyle:{float:"right"}},[t._v(t._s(n.option.StarName))]):t._e()])]}},{key:"option",fn:function(n){return[e("div",{staticClass:"option__desc"},[e("span",{staticClass:"option__title"},[t._v(t._s(n.option.Name))]),t._v(" "),0!=n.option.CommonRate?e("span",{staticClass:"option__title",staticStyle:{float:"right"}},[t._v(t._s(n.option.CommonRate))]):t._e(),t._v(" "),n.option.StarName?e("span",{staticClass:"values__hotel-rating",staticStyle:{float:"right"}},[t._v(t._s(n.option.StarName))]):t._e()])]}}],null,!0),model:{value:t.new_tour.TourInfo.hotel,callback:function(e){t.$set(t.new_tour.TourInfo,"hotel",e)},expression:"new_tour.TourInfo.hotel"}}),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"col-12 col-md-6"},[e("label",{staticClass:"travel-label"},[t._v("Питание")]),t._v(" "),e("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"meal",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[e("multiselect",{attrs:{options:t.meals,"option-height":25,placeholder:"Выберите питание","show-labels":!1,maxHeight:200,label:"Name","track-by":"Name","close-on-select":!0,"clear-on-select":!0,"allow-empty":!1},on:{input:t.chooseNewMeal},scopedSlots:t._u([{key:"singleLabel",fn:function(n){return[e("span",{staticClass:"option__desc"},[e("span",{staticClass:"option__title"},[t._v(t._s(n.option.Name))])])]}},{key:"option",fn:function(n){return[e("div",[e("div",{staticClass:"option__desc"},[e("span",{staticClass:"option__title"},[t._v(t._s(n.option.Name))])]),t._v(" "),e("div",{staticClass:"row align-items-center m-auto",staticStyle:{width:"100%",height:"100%"}},[e("p",{staticStyle:{"font-size":"12px",margin:"0px"}},[t._v(t._s(n.option.desc))])])])]}}],null,!0),model:{value:t.new_tour.TourInfo.meal,callback:function(e){t.$set(t.new_tour.TourInfo,"meal",e)},expression:"new_tour.TourInfo.meal"}}),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"col-12 col-md-6"},[e("label",{staticClass:"travel-label"},[t._v("Категория номера")]),t._v(" "),e("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"room_type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[e("div",{staticClass:"row multiselect__tags align-items-center justify-content-center m-auto",staticStyle:{width:"100%"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_tour.TourInfo.room_type,expression:"new_tour.TourInfo.room_type"}],staticClass:"multiselect__input price",attrs:{type:"text",placeholder:"Категория номера"},domProps:{value:t.new_tour.TourInfo.room_type},on:{input:function(e){e.target.composing||t.$set(t.new_tour.TourInfo,"room_type",e.target.value)}}})]),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"col-12 col-md-6"},[e("div",{staticClass:"row align-items-center m-auto",staticStyle:{width:"100%"}},[e("label",{staticClass:"travel-label"},[t._v("Даты тура")]),t._v(" "),e("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"date_range",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[e("div",{staticClass:"row align-items-center justify-content-center m-auto w-100",staticStyle:{width:"100%"}},[e("VueHotelDatepicker",{staticClass:"w-100",attrs:{startDate:t.new_tour.TourInfo.date_range.start,endDate:t.new_tour.TourInfo.date_range.end,placeholder:"Даты тура",format:"DD/MM/YYYY",weekList:["Вс.","Пн.","Вт.","Ср.","Чт.","Пт.","Сб."],monthList:["Янв.","Фев.","Мар.","Апр.","Май.","Июн.","Июл.","Авг.","Сен.","Окт","Ноя.","Дек."],fromText:"С",toText:"По",resetText:"Очистить",confirmText:"Подтвердить",mobile:"mobile"},on:{update:t.changeNewDateRange}})],1),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),t._v(" "),e("div",{staticClass:"col-md-6 col-12"},[e("div",{staticClass:"row align-items-center m-auto",staticStyle:{width:"100%"}},[e("label",{staticClass:"travel-label"},[t._v("Цена")]),t._v(" "),e("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"price",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[e("b-form-input",{staticClass:"travel-input",attrs:{type:"number",number:"",step:"1",min:"0"},on:{input:t.changeNewPrice},model:{value:t.new_tour.TourInfo.price,callback:function(e){t.$set(t.new_tour.TourInfo,"price",e)},expression:"new_tour.TourInfo.price"}}),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),t._v(" "),e("div",{staticClass:"col-md-6 col-12"},[e("div",{staticClass:"row align-items-center m-auto",staticStyle:{width:"100%"}},[e("label",{staticClass:"travel-label"},[t._v("Выплачено")]),t._v(" "),e("ValidationProvider",{staticStyle:{width:"100%","text-align":"center"},attrs:{name:"left",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.errors;return[e("b-form-input",{staticClass:"travel-input price",attrs:{type:"number",number:"",step:"1",min:"0"},on:{input:t.changeNewPrice},model:{value:t.new_tour.TourInfo.paid,callback:function(e){t.$set(t.new_tour.TourInfo,"paid",e)},expression:"new_tour.TourInfo.paid"}}),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row align-items-center justify-content-center mx-auto mt-3",staticStyle:{width:"100%"}},[e("label",{staticClass:"travel-label"},[t._v("Дополнительные услуги")]),t._v(" "),e("b-form-textarea",{staticClass:"travel-input",staticStyle:{padding:"5px 15px",border:"1px solid #f08b23","border-radius":"20px !important"},attrs:{rows:"4",cols:"80",placeholder:"Дополнительные услуги"},model:{value:t.new_tour.TourInfo.services,callback:function(e){t.$set(t.new_tour.TourInfo,"services",e)},expression:"new_tour.TourInfo.services"}})],1)]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("label",{staticClass:"travel-label"},[t._v("Авиабилеты")]),t._v(" "),e("avia-tickets-list",{attrs:{avia_tickets:t.new_tour.TourInfo.avia_tickets}})],1),t._v(" "),e("div",{staticClass:"col-md-12"},[e("label",{staticClass:"travel-label"},[t._v("Пассажиры")]),t._v(" "),e("passengers-list",{attrs:{passengers:t.new_tour.TourInfo.passengers}})],1),t._v(" "),e("div",{staticClass:"col-md-12"},[e("label",{staticClass:"travel-label"},[t._v("Файлы для клиента")]),t._v(" "),e("div",{staticClass:"form-group row mt-2"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"large-12 medium-12 small-12 filezone"},[e("input",{ref:"new_tour_files",attrs:{type:"file",id:"new_files",multiple:""},on:{change:function(e){return t.handleNewFiles()}}}),t._v(" "),e("p",[t._v("\n                                Перетащите файл(ы) сюда"),e("br"),t._v("или нажмите для поиска\n                            ")])]),t._v(" "),e("label",{staticClass:"travel-label"},[t._v("Или запишите голосовое сообщение")]),t._v(" "),e("div",{staticClass:"d-flex justify-content-center mt-2"},[e("vue-record-audio",{attrs:{mode:"press"},on:{stream:t.onStream,result:t.onResult}})],1),t._v(" "),e("div",{staticClass:"file-listing"},t._l(t.new_tour.TourInfo.files,(function(n,o){return e("div",{key:n.name,staticClass:"list-group-item"},[e("div",{staticClass:"row m-auto w-100 align-items-center justify-content-center"},[e("div",{staticClass:"col-4 text-center"},[e("img",{ref:"preview"+parseInt(o),refInFor:!0,staticClass:"preview"})]),t._v(" "),e("div",{staticClass:"col-8"},["file"==n.type?e("div",[e("p",{staticClass:"travel-label"},[t._v(t._s(n.data.name))])]):t._e(),t._v(" "),"audio"==n.type?e("div",[e("audio-player",{attrs:{audio:n}})],1):t._e()])]),t._v(" "),e("div",{staticClass:"remove-container"},[0==t.loading?e("a",{staticClass:"remove",on:{click:function(e){return t.removeFile(t.new_tour.TourInfo.files,o)}}},[t._v("Отменить")]):t._e()])])})),0)])])])]),t._v(" "),e("div",{staticClass:"row w-100 m-auto"},[e("div",{staticClass:"col-6 col-md-6 contact-btn text-center"},[e("button",{staticClass:"btn btn-travel",staticStyle:{width:"100%"},on:{click:t.back}},[t._v("\n                    Отмена\n                ")])]),t._v(" "),e("div",{staticClass:"col-6 col-md-6 contact-btn text-center"},[e("button",{staticClass:"btn btn-travel",staticStyle:{width:"100%"},attrs:{type:"submit",disabled:o||t.loading},on:{click:t.saveClientTour}},[e("div",{staticClass:"row align-items-center justify-content-center m-auto w-100 h-100 text-center"},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v(" "),t.loading?e("span",{staticClass:"sr-only"},[t._v("Loading...")]):t._e(),t._v("\n                        Сохранить\n                    ")])])])])]}}])})],1)}),[],!1,null,"3317ca48",null).exports}}]);