/*! For license information please see 3078.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3078],{75166:(t,e,a)=>{a.d(e,{Z:()=>r});var s=a(1519),n=a.n(s)()((function(t){return t[1]}));n.push([t.id,".card[data-v-faa0a646]{margin-top:0!important}.card .card-header .card-category[data-v-faa0a646]{color:#f08b23}.white-content .card:not(.card-white) .card-header .card-title[data-v-faa0a646]{color:#0d274b;font-weight:600}.white--text[data-v-faa0a646]{caret-color:#fff!important;color:#fff!important}.active-tour[data-v-faa0a646]{background:#f08b23;border-radius:20px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12),0 1px 5px 0 rgba(0,0,0,.2);font-family:Open Sans;font-weight:900;padding:3px 20px;text-transform:uppercase}",""]);const r=n},17140:(t,e,a)=>{a.d(e,{Z:()=>r});var s=a(1519),n=a.n(s)()((function(t){return t[1]}));n.push([t.id,"#manager-profile .multiselect__option.multiselect__option--group.multiselect__option--disabled{background:#fff!important;color:#f08b23!important;text-align:center}#manager-profile .multiselect__option--highlight:after{background:#f08b2300}#manager-profile .multiselect__option--highlight{background:#f08b23}",""]);const r=n},93078:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function n(){n=function(){return e};var t,e={},a=Object.prototype,r=a.hasOwnProperty,i=Object.defineProperty||function(t,e,a){t[e]=a.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,a){return t[e]=a}}function f(t,e,a,s){var n=e&&e.prototype instanceof b?e:b,r=Object.create(n.prototype),o=new M(s||[]);return i(r,"_invoke",{value:E(t,a,o)}),r}function p(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",m="suspendedYield",v="executing",g="completed",y={};function b(){}function _(){}function w(){}var C={};d(C,l,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(O([])));k&&k!==a&&r.call(k,l)&&(C=k);var S=w.prototype=b.prototype=Object.create(C);function L(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function a(n,i,o,l){var c=p(t[n],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==s(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,o,l)}),(function(t){a("throw",t,o,l)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return a("throw",t,o,l)}))}l(c.arg)}var n;i(this,"_invoke",{value:function(t,s){function r(){return new e((function(e,n){a(t,s,e,n)}))}return n=n?n.then(r,r):r()}})}function E(e,a,s){var n=h;return function(r,i){if(n===v)throw new Error("Generator is already running");if(n===g){if("throw"===r)throw i;return{value:t,done:!0}}for(s.method=r,s.arg=i;;){var o=s.delegate;if(o){var l=P(o,s);if(l){if(l===y)continue;return l}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(n===h)throw n=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);n=v;var c=p(e,a,s);if("normal"===c.type){if(n=s.done?g:m,c.arg===y)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(n=g,s.method="throw",s.arg=c.arg)}}}function P(e,a){var s=a.method,n=e.iterator[s];if(n===t)return a.delegate=null,"throw"===s&&e.iterator.return&&(a.method="return",a.arg=t,P(e,a),"throw"===a.method)||"return"!==s&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+s+"' method")),y;var r=p(n,e.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,y;var i=r.arg;return i?i.done?(a[e.resultName]=i.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,y):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,y)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function O(e){if(e||""===e){var a=e[l];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function a(){for(;++n<e.length;)if(r.call(e,n))return a.value=e[n],a.done=!1,a;return a.value=t,a.done=!0,a};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return _.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=d(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(N.prototype),d(N.prototype,c,(function(){return this})),e.AsyncIterator=N,e.async=function(t,a,s,n,r){void 0===r&&(r=Promise);var i=new N(f(t,a,s,n),r);return e.isGeneratorFunction(a)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),d(S,u,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var s in e)a.push(s);return a.reverse(),function t(){for(;a.length;){var s=a.pop();if(s in e)return t.value=s,t.done=!1,t}return t.done=!0,t}},e.values=O,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function s(s,n){return o.type="throw",o.arg=e,a.next=s,n&&(a.method="next",a.arg=t),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return s("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return s(i.catchLoc,!0);if(this.prev<i.finallyLoc)return s(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return s(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return s(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var n=s;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=t,i.arg=e,n?(this.method="next",this.next=n.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),F(a),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var s=a.completion;if("throw"===s.type){var n=s.arg;F(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,s){return this.delegate={iterator:O(e),resultName:a,nextLoc:s},"next"===this.method&&(this.arg=t),y}},e}function r(t,e,a,s,n,r,i){try{var o=t[r](i),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(s,n)}function i(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function o(t){r(i,s,n,o,l,"next",t)}function l(t){r(i,s,n,o,l,"throw",t)}o(void 0)}))}}const o={name:"Main",data:function(){return{clients:0,managers:0,myclients:0,loading:!1,sms_loading:!1,message_type:{text:"Всем клиентам",value:"all"},options:[{text:"Всем клиентам",value:"all"},{text:"Одному клиенту",value:"one"},{text:"Клиентам из файла",value:"file"}],phone:"",phones:[],file:null,message:"Сообщение от TravelClub: ",email:"",info:null}},created:function(){},mounted:function(){this.getUser(),this.getStatistics(),this.branches.length<=0&&this.loadBranches()},computed:{menu:function(){return this.$store.getters.menu},isAdmin:function(){return this.$store.getters.isAdmin},user:function(){return this.$store.getters.user},branches:function(){return this.$store.getters.branches}},methods:{getUser:function(){var t=this;return i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user&&null!=t.user){e.next=5;break}return e.next=3,t.$store.dispatch("getUser").then((function(){t.info=t.user.info,t.myclients=t.user.isManagerForCount}));case 3:e.next=7;break;case 5:t.info=t.user.info,t.myclients=t.user.isManagerForCount;case 7:case"end":return e.stop()}}),e)})))()},getStatistics:function(){var t=this;return i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("auth/statistics").then((function(e){t.clients=e.data.clients,t.managers=e.data.managers}));case 2:case"end":return e.stop()}}),e)})))()},loadBranches:function(){var t=this;return i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("setBranches");case 2:case"end":return e.stop()}}),e)})))()},selectCity:function(t){return i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Department="";case 1:case"end":return e.stop()}}),e)})))()},updateInfo:function(){var t=this;this.loading=!0,this.info.FullName=this.info.LastName+" "+this.info.FirstName+" "+this.info.MiddleName;var e={id:this.user.id,value:this.user.email,key:"email"};this.$store.dispatch("saveUser",e),this.$store.dispatch("updateClientInfo",this.info).then((function(e){t.loading=!1,t.sendMessage("Ваши личные данные успешно обновлены")}))},changeMessageType:function(){this.phones=[],this.file=null},handleFiles:function(){var t=this.$refs.file.files;/\.(xlsx|xls)$/i.test(t[0].name)?this.file=t[0]:this.sendMessage("Неверный формат файла","error")},removeFile:function(){this.file=null},sendSms:function(){var t=this;if(this.sms_loading=!0,this.phones!==[]&&""!==this.message){if("all"===this.message_type.value&&axios.get("auth/manager/getPhones").then((function(e){t.phones=e.data.phones,t.sendMessage(e.data.message)})),"one"===this.message_type.value&&(this.phones=[],this.phones.push(this.phone)),"file"===this.message_type.value){var e=new FormData;e.append("file",this.file),axios.post("auth/manager/uploadPhones",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.sendMessage(e.data.message),t.phones=e.data.phones,console.log(t.phones)}))}axios.post("auth/manager/sendSmsMessage",{message:this.message,phones:this.phones}).then((function(e){t.sendMessage(e.data.message)}))}this.sms_loading=!1},sendMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"travel";this.$notify({group:"info",type:e,title:"Сообщение от TravelClub",text:t})}},directives:{mask:a(32982).mask}};var l=a(93379),c=a.n(l),u=a(75166),d={insert:"head",singleton:!1};c()(u.Z,d);u.Z.locals;var f=a(17140),p={insert:"head",singleton:!1};c()(f.Z,p);f.Z.locals;const h=(0,a(51900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container m-auto",staticStyle:{height:"100%"},attrs:{id:"manager-profile"}},[e("div",{staticClass:"row w-100 mx-auto mb-4"},[t.isAdmin?e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card card-chart mb-2"},[e("div",{staticClass:"card-header"},[e("h5",{staticClass:"card-category"},[t._v("Менеджеров")]),t._v(" "),e("h3",{staticClass:"card-title"},[t._v("\n                            "+t._s(t.managers)+"\n                        ")])])])]):t._e(),t._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"card card-chart mb-2"},[e("div",{staticClass:"card-header"},[e("h5",{staticClass:"card-category"},[t._v("Клиентов")]),t._v(" "),e("h3",{staticClass:"card-title"},[t._v("\n                            "+t._s(t.clients)+"\n                        ")])])])])]),t._v(" "),e("div",{staticClass:"row w-100 mx-auto"},[t._m(0),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("card",{staticClass:"mb-3"},[e("div",{staticClass:"lw-dashboard-card"},[e("div",{staticClass:"row p-2 m-auto",staticStyle:{width:"100%"}},[e("div",{staticClass:"col-md-12"},[e("label",{staticClass:"control-label"},[t._v("Выберите тип смс рассылки: ")]),t._v(" "),e("multiselect",{staticStyle:{"max-width":"300px"},attrs:{options:t.options,disabled:t.sms_loading,"option-height":25,placeholder:"Выберите тип смс рассылки","show-labels":!1,maxHeight:200,loading:t.sms_loading,"allow-empty":!1,label:"text"},on:{change:t.changeMessageType},scopedSlots:t._u([{key:"singleLabel",fn:function(a){return[e("span",{staticClass:"option__desc"},[e("span",{staticClass:"option__title",staticStyle:{"line-height":"1.428571"}},[t._v(t._s(a.option.text))])])]}},{key:"option",fn:function(a){return[e("span",{staticClass:"option__desc"},[e("span",{staticClass:"option__title",staticStyle:{"line-height":"1.428571"}},[t._v(t._s(a.option.text))])])]}}]),model:{value:t.message_type,callback:function(e){t.message_type=e},expression:"message_type"}}),t._v(" "),"one"==t.message_type.value?e("div",{staticClass:"text-center ml-auto me-auto mt-3"},[e("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:["+# (###) ###-##-##","+## (###) ###-##-##"],expression:"['+# (###) ###-##-##','+## (###) ###-##-##']"}],attrs:{type:"text",placeholder:"Введите номер телефона клиента",name:"phone",required:"",disabled:t.sms_loading,pattern:"[\\+]\\d{2} [\\(]\\d{3}[\\)] \\d{3}[\\-]\\d{2}[\\-]\\d{2}"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1):t._e(),t._v(" "),"file"==t.message_type.value?e("div",{staticClass:"ml-auto me-auto"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 my-1"},[null==t.file?e("div",{staticClass:"filezone"},[e("input",{ref:"file",attrs:{type:"file",id:"file",disabled:t.sms_loading},on:{change:function(e){return t.handleFiles()}}}),t._v(" "),e("p",[t._v("\n                                                    Перетащите файл сюда "),e("br"),t._v("или нажмите для поиска\n                                                ")])]):t._e(),t._v(" "),null!=t.file?e("div",{staticClass:"list-group-item flex-column align-items-start",staticStyle:{"border-radius":"0.25rem"}},[e("div",{staticClass:"row pt-5 pb-5"},[e("div",{staticClass:"col-6"},[e("p",{staticClass:"mb-1"},[e("span",{staticClass:"amount"},[t._v("Файл: "+t._s(this.file.name))])])]),t._v(" "),e("div",{staticClass:"col-6"},[e("div",{staticClass:"remove-container",staticStyle:{float:"right"}},[e("a",{staticClass:"remove",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(e){return t.removeFile()}}},[t._v("Удалить")])])])])]):t._e(),t._v(" "),e("hr")])])]):t._e()],1),t._v(" "),e("div",{staticClass:"col-md-12"},[e("label",{staticClass:"control-label"},[t._v("Сообщение: ")]),t._v(" "),e("div",{staticClass:"row w-100 text-center m-auto"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"w-100 p-2 m-auto travel-input",staticStyle:{"border-radius":"20px !important"},attrs:{id:"textarea",placeholder:"Введите сообщение...",rows:"4","max-rows":"8",disabled:t.sms_loading},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])])])]),t._v(" "),e("b-button",{staticClass:"btn btn-travel float-right",attrs:{slot:"footer",disabled:t.sms_loading},on:{click:t.sendSms},slot:"footer"},[e("div",{staticClass:"row align-items-center m-auto w-100 h-100"},[t.sms_loading?e("span",{staticClass:"spinner-border spinner-border-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v(" "),t.sms_loading?e("span",{staticClass:"sr-only"},[t._v("Loading...")]):t._e(),t._v("\n                            Отправить\n                        ")])])],1)],1)]),t._v(" "),e("div",{staticClass:"row w-100 mx-auto"},[t._m(1),t._v(" "),e("div",{staticClass:"col-md-12"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[null!=t.user&&null!=t.info?e("card",[e("div",{staticClass:"row p-2 m-auto"},[e("div",{staticClass:"col-md-4 pe-md-1"},[e("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"lastName",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Фамилия","label-size":"sm"}},[e("b-form-input",{staticClass:"mb-0 travel-input",attrs:{label:"Фамилия",placeholder:"Фамилия"},model:{value:t.info.LastName,callback:function(e){t.$set(t.info,"LastName",e)},expression:"info.LastName"}})],1),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"col-md-4 px-md-1"},[e("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"firstName",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Имя","label-size":"sm"}},[e("b-form-input",{staticClass:"mb-0 travel-input",attrs:{label:"Имя",placeholder:"Имя"},model:{value:t.info.FirstName,callback:function(e){t.$set(t.info,"FirstName",e)},expression:"info.FirstName"}})],1),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"col-md-4 ps-md-1"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Отчество","label-size":"sm"}},[e("b-form-input",{staticClass:"mb-0 travel-input",attrs:{label:"Отчество",placeholder:"Отчество"},model:{value:t.info.MiddleName,callback:function(e){t.$set(t.info,"MiddleName",e)},expression:"info.MiddleName"}})],1)],1)]),t._v(" "),e("div",{staticClass:"row p-2 m-auto"},[e("div",{staticClass:"col-md-4 pe-md-1"},[e("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Email","label-size":"sm"}},[e("b-form-input",{staticClass:"mb-0 travel-input",attrs:{label:"Email",type:"email",placeholder:"client@email.com"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"col-md-4 px-md-1"},[e("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"phone",rules:"required|phone"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Телефон","label-size":"sm"}},[e("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:["+# (###) ###-##-##","+## (###) ###-##-##"],expression:"['+# (###) ###-##-##','+## (###) ###-##-##']"}],staticClass:"mb-0 travel-input",attrs:{label:"Телефон",placeholder:"Телефон"},model:{value:t.info.Phone,callback:function(e){t.$set(t.info,"Phone",e)},expression:"info.Phone"}})],1),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),t._v(" "),e("div",{staticClass:"row p-2 m-auto"},[e("div",{staticClass:"col-md-4 pe-md-1"},[e("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"City",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Город","label-size":"sm"}},[e("multiselect",{attrs:{options:t.branches,"option-height":25,placeholder:"Выберите город","show-labels":!1,maxHeight:200,loading:0===t.branches.length,disabled:0===t.branches.length,"allow-empty":!1,"track-by":"city",label:"city"},on:{input:function(e){return t.selectCity(t.info)}},scopedSlots:t._u([{key:"singleLabel",fn:function(a){return[e("span",{staticClass:"option__desc"},[a.option.city?e("span",{staticClass:"option__title",staticStyle:{"font-size":"0.7500000025rem","line-height":"1.428571"}},[t._v(t._s(a.option.city))]):t._e()])]}},{key:"option",fn:function(a){return[e("span",{staticClass:"option__desc"},[e("span",{staticClass:"option__title",staticStyle:{"font-size":"0.7500000025rem","line-height":"1.428571"}},[t._v(t._s(a.option.city))])])]}}],null,!0),model:{value:t.info.City,callback:function(e){t.$set(t.info,"City",e)},expression:"info.City"}})],1),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),t._v(" "),e("div",{staticClass:"col-md-4 px-md-1"},[e("ValidationProvider",{staticStyle:{width:"100%"},attrs:{name:"department",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Отделение","label-size":"sm"}},[e("multiselect",{attrs:{options:t.info.City.departments,"option-height":25,placeholder:"Выберите отделение","show-labels":!1,maxHeight:200,disabled:0===t.info.City.departments.length,"allow-empty":!1,label:"address","track-by":"address"},scopedSlots:t._u([{key:"singleLabel",fn:function(a){return[e("span",{staticClass:"option__desc"},[e("span",{staticClass:"option__title",staticStyle:{"font-size":"0.7500000025rem","line-height":"1.428571"}},[t._v(t._s(a.option.address))])])]}},{key:"option",fn:function(a){return[e("span",{staticClass:"option__desc"},[e("span",{staticClass:"option__title",staticStyle:{"font-size":"0.7500000025rem","line-height":"1.428571"}},[t._v(t._s(a.option.address))])])]}}],null,!0),model:{value:t.info.Department,callback:function(e){t.$set(t.info,"Department",e)},expression:"info.Department"}})],1),t._v(" "),e("span",{staticClass:"validate-error"},[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),t._v(" "),e("b-button",{staticClass:"btn btn-travel float-right",attrs:{slot:"footer",disabled:t.loading||s},on:{click:t.updateInfo},slot:"footer"},[e("div",{staticClass:"row align-items-center m-auto w-100 h-100"},[t.loading?e("span",{staticClass:"spinner-border spinner-border-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\n                                Сохранить\n                            ")])])],1):t._e()]}}])})],1)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"row mx-auto mt-3 mb-5 justify-content-center align-items-center",staticStyle:{width:"100%","border-top":"4px solid #f08b23"}},[t("span",{staticClass:"white--text active-tour",staticStyle:{background:"#062348","font-size":"24px",position:"absolute"}},[this._v("Форма смс рассылки")])])])},function(){var t=this._self._c;return t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"row mx-auto mt-3 mb-5 justify-content-center align-items-center",staticStyle:{width:"100%","border-top":"4px solid #f08b23"}},[t("span",{staticClass:"white--text active-tour",staticStyle:{background:"#062348","font-size":"24px",position:"absolute"}},[this._v("Профиль")])])])}],!1,null,"faa0a646",null).exports}}]);