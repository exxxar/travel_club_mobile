/*! For license information please see 3288.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3288],{47118:(t,n,e)=>{e.d(n,{A:()=>s});var o=e(45627),a=e.n(o),r=e(76798),i=e.n(r)()(a());i.push([t.id,".action-button[data-v-55233d0a]{align-items:center;background:#f08b23;border-radius:200px;color:#fff;display:inline-flex;font-size:40px;height:50px;justify-content:center;margin-left:-5px;margin-right:-5px;width:50px}.action-button[data-v-55233d0a],.action-button[data-v-55233d0a]:focus{box-shadow:none!important;outline:none!important;text-decoration:none!important}.btn-visibility[data-v-55233d0a]{background:transparent;border:none;color:#063065;font-size:20px;outline:none!important;position:absolute}.card-signin[data-v-55233d0a]{border:0;border-radius:1rem;box-shadow:0 .5rem 1rem 0 rgba(0,0,0,.1)}.card-signin .card-title[data-v-55233d0a]{font-size:1.5rem;font-weight:300;margin-bottom:2rem}.card-signin .card-body[data-v-55233d0a]{padding:2rem}.form-signin[data-v-55233d0a]{width:100%}.form-signin .btn[data-v-55233d0a]{border-radius:5rem;font-size:80%;font-weight:700;letter-spacing:.1rem;padding:1rem;transition:all .2s}.form-label-group[data-v-55233d0a]{margin-bottom:1rem;position:relative}.form-label-group input[data-v-55233d0a]{border-radius:2rem;height:auto}.form-label-group>input[data-v-55233d0a],.form-label-group>label[data-v-55233d0a]{padding:var(--input-padding-y) var(--input-padding-x)}.form-label-group>label[data-v-55233d0a]{border:1px solid transparent;border-radius:.25rem;color:#495057;display:block;left:0;line-height:1.5;margin-bottom:0;position:absolute;top:0;transition:all .1s ease-in-out;width:100%}.form-label-group input[data-v-55233d0a]::-moz-placeholder{color:transparent}.form-label-group input[data-v-55233d0a]::placeholder{color:transparent}.form-label-group input[data-v-55233d0a]:not(:-moz-placeholder-shown){padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*.66667)}.form-label-group input[data-v-55233d0a]:not(:placeholder-shown){padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y) + var(--input-padding-y)*.66667)}.form-label-group input:not(:-moz-placeholder-shown)~label[data-v-55233d0a]{color:#777;font-size:12px;padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y)/3)}.form-label-group input:not(:placeholder-shown)~label[data-v-55233d0a]{color:#777;font-size:12px;padding-bottom:calc(var(--input-padding-y)/3);padding-top:calc(var(--input-padding-y)/3)}@supports (-ms-ime-align:auto){.form-label-group>label[data-v-55233d0a]{display:none}.form-label-group input[data-v-55233d0a]::-ms-input-placeholder{color:#777}}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.form-label-group>label[data-v-55233d0a]{display:none}.form-label-group input[data-v-55233d0a]:-ms-input-placeholder{color:#777}}.title-1[data-v-55233d0a]{color:#062348;font-family:Bello Pro!important;font-size:30px;left:0;position:absolute;top:10px;z-index:1}.title-1 span[data-v-55233d0a]{font-size:40px}.title-2[data-v-55233d0a]{color:#fff;font-family:Open Sans!important;font-size:20px;font-weight:900;left:42px;position:absolute;top:22px;z-index:1}.title-2 span[data-v-55233d0a]{text-transform:uppercase}.orange-brush[data-v-55233d0a]{height:60px;left:10px;top:2px;width:283px}.blue-brush[data-v-55233d0a]{height:50px;left:-55px;opacity:1;top:10px;width:330px}.multiselect-title[data-v-55233d0a]{color:#062348!important;font-family:Bello Pro}.multiselect__tags[data-v-55233d0a]{border:1px solid #f08b23;border-radius:20px;font-size:1rem;min-height:40px}.multiselect__tags .travel-text-control[data-v-55233d0a]{color:#062348;font-family:Open Sans!important;font-weight:900!important}.multiselect__tags .travel-text-control[data-v-55233d0a]:focus{box-shadow:none!important;outline:none!important}.validate-error[data-v-55233d0a]{display:block!important;height:17px}.btn[data-v-55233d0a]{background:#0f213d;border:0;border-radius:50px;color:#fff;font-family:Open Sans;font-size:24px;font-weight:900;outline:none;text-transform:uppercase}.btn[data-v-55233d0a]:focus{box-shadow:none!important;outline:none!important}.btn-travel[data-v-55233d0a]{background:#f08b23;border-radius:50px;color:#fff;font-family:Open Sans;font-size:20px;font-weight:900;text-transform:uppercase}","",{version:3,sources:["webpack://./resources/js/desktop/pages/SignUp.vue"],names:[],mappings:"AA6YA,gCAMA,kBAAA,CAGA,kBAAA,CADA,mBAAA,CAEA,UAAA,CATA,mBAAA,CAUA,cAAA,CARA,WAAA,CAIA,sBAAA,CAHA,gBAAA,CACA,iBAAA,CAHA,UAaA,CACA,sEAFA,yBAAA,CAFA,sBAAA,CACA,8BAOA,CACA,iCAEA,sBAAA,CACA,WAAA,CAEA,aAAA,CACA,cAAA,CAFA,sBAAA,CAHA,iBAMA,CACA,8BACA,QAAA,CACA,kBAAA,CACA,wCACA,CAEA,0CAGA,gBAAA,CADA,eAAA,CADA,kBAGA,CAEA,yCACA,YACA,CAEA,8BACA,UACA,CAEA,mCAEA,kBAAA,CADA,aAAA,CAGA,eAAA,CADA,oBAAA,CAEA,YAAA,CACA,kBACA,CAEA,mCAEA,kBAAA,CADA,iBAEA,CAEA,yCAEA,kBAAA,CADA,WAEA,CAEA,kFAEA,qDACA,CAEA,yCAUA,4BAAA,CACA,oBAAA,CAFA,aAAA,CALA,aAAA,CADA,MAAA,CAKA,eAAA,CAFA,eAAA,CALA,iBAAA,CACA,KAAA,CAUA,8BAAA,CAPA,UAQA,CAcA,2DACA,iBACA,CAEA,sDACA,iBACA,CAEA,sEAEA,6CAAA,CADA,wEAEA,CAHA,iEAEA,6CAAA,CADA,wEAEA,CAEA,4EAIA,UAAA,CADA,cAAA,CADA,6CAAA,CADA,0CAIA,CALA,uEAIA,UAAA,CADA,cAAA,CADA,6CAAA,CADA,0CAIA,CAMA,+BACA,yCACA,YACA,CACA,gEACA,UACA,CACA,CAKA,2DAEA,yCACA,YACA,CACA,+DACA,UACA,CACA,CAEA,0BAKA,aAAA,CACA,+BAAA,CACA,cAAA,CAJA,MAAA,CAFA,iBAAA,CAGA,QAAA,CAFA,SAMA,CACA,+BACA,cACA,CACA,0BAKA,UAAA,CACA,+BAAA,CAEA,cAAA,CADA,eAAA,CAJA,SAAA,CAFA,iBAAA,CAGA,QAAA,CAFA,SAOA,CACA,+BACA,wBACA,CACA,+BAIA,WAAA,CAFA,SAAA,CADA,OAAA,CAEA,WAEA,CACA,6BAIA,WAAA,CAFA,UAAA,CAGA,SAAA,CAJA,QAAA,CAEA,WAGA,CACA,oCACA,uBAAA,CACA,qBAEA,CACA,oCACA,wBAAA,CACA,kBAAA,CACA,cAAA,CACA,eACA,CACA,yDACA,aAAA,CACA,+BAAA,CACA,yBACA,CAEA,+DAEA,yBAAA,CADA,sBAEA,CACA,iCACA,uBAAA,CACA,WACA,CACA,sBACA,kBAAA,CAMA,QAAA,CACA,kBAAA,CANA,UAAA,CAGA,qBAAA,CADA,cAAA,CAEA,eAAA,CAGA,YAAA,CANA,wBAOA,CACA,4BAEA,yBAAA,CADA,sBAEA,CACA,6BAEA,kBAAA,CADA,kBAAA,CAEA,UAAA,CAEA,qBAAA,CAEA,cAAA,CADA,eAAA,CAFA,wBAIA",sourcesContent:['<template>\n    <div style="width: 100%; background: #f08b23">\n\x3c!--        <div class="row m-auto justify-content-center align-items-center" style="width: 100%; min-height: 100%; background: #f08b23">--\x3e\n\x3c!--            <div class="row m-auto justify-content-center align-items-center" style="width: 100%;height: 100%;background: #f08b23">--\x3e\n                <div class="container">\n                    <div class="tc-row m-auto h-100 justify-content-center align-items-center">\n                        <div class="col-sm-12 col-md-4 col-lg-6 p-0 mx-auto">\n    \x3c!--                        <img src="/images/5.png" v-if="step1"/>--\x3e\n                            <div class="row m-auto justify-content-center align-items-center w-100 h-100">\n                                <h1 class="m-auto text-center" style="color: #fff; font-size:80px;font-weight: 900; text-transform: uppercase; font-family:VAGWorld-Bold, VAG World;" v-if="step1">Шаг 1</h1>\n                                <h1 class="m-auto text-center" style="color: #fff; font-size:80px;font-weight: 900; text-transform: uppercase; font-family:VAGWorld-Bold, VAG World;" v-if="step2">Шаг 2</h1>\n                            </div>\n                           \x3c!--                        <img src="/images/5.png" v-if="step2"/>--\x3e\n                        </div>\n                        <div class="col-sm-12 col-md-8 col-lg-6 p-0 mx-auto">\n                            <div class="tc-card card-signin my-5" style="max-height: none">\n\n                                    <h4 class="tc-card__title text-center mb-3" v-show="step1">Присоединись к Travel<span class="tc-text-primary">Club</span></h4>\n\n                                    <div class="row mx-auto mb-3 justify-content-center align-items-center" v-show="step2" style="width: 100%; height: 100%;">\n                                        <div class="col-6 col-md-6 col-sm-6 p-0">\n                                            <div class="action-button tc-cursor-pointer" @click="prevStep">\n                                                <base-icon name="ArrowRight" class="tc-rotate-180"/>\n                                            </div>\n                                        </div>\n                                        <div class="col-6 col-md-6 col-sm-6 p-0">\n                                            <p class="m-auto text-center">Уже есть аккаунт? <router-link to="/login" style="color: #f8a105">Войти</router-link> </p>\n                                        </div>\n                                    </div>\n                                    <div class="form-signin" v-show="step1">\n                                        <ValidationObserver v-slot="{ invalid }" tag="div" class="tc-wrapper-column">\n                                            <base-input v-model="email" name="email" label="Email" rules="required|email" icon_name="Email" icon_color="secondary"/>\n                                            <base-input v-model="password" :type="passwords_types.password" name="password"\n                                                        label="Пароль" rules="required|min:8"\n                                                        v-on:keyup.enter="nextStep(invalid)"\n                                                        @click-group-item="switchVisibility(\'password\')"\n                                                        group_item_action\n                                            >\n                                                <template #icon>\n                                                    <base-icon :name="passwords_types.password === \'password\' ? \'Eye\':\'EyeSlash\'"\n                                                               color="secondary"/>\n                                                </template>\n                                            </base-input>\n                                            <base-input v-model="confirm_password" :type="passwords_types.confirm" name="confirm_password"\n                                                        label="Подтверждение пароля" @click-group-item="switchVisibility(\'confirm\')"\n                                                        :rules="\'required|min:8|confirmed:password\'"\n                                                        group_item_action\n                                                        v-on:keyup.enter="nextStep(invalid)"\n                                            >\n                                                <template #icon>\n                                                    <base-icon :name="passwords_types.confirm === \'password\' ? \'Eye\':\'EyeSlash\'"\n                                                               color="secondary"\n                                                    />\n                                                </template>\n                                            </base-input>\n\n                                            <base-button class="text-uppercase mt-3 mx-auto mb-2" :disabled="invalid" @click="nextStep(invalid)">Далее</base-button>\n                                            <p class="text-center m-auto">Уже есть аккаунт? <router-link to="/login" style="color: #f8a105">Войти</router-link> </p>\n                                        </ValidationObserver>\n                                    </div>\n                                    <div class="form-signin" v-show="step2">\n                                        <ValidationObserver v-slot="{ invalid }" tag="div" class="tc-wrapper-column">\n                                            <base-input v-model="last_name" name="last_name" label="Фамилия" rules="required"></base-input>\n                                            <base-input v-model="first_name" name="first_name" label="Имя" rules="required"></base-input>\n                                            <base-input v-model="middle_name" name="middle_name" label="Отчество" rules="required"></base-input>\n                                            <base-input v-model="phone" name="phone" label="Номер телефона" rules="required|phone"  :mask="[\'+# ### ### ####\',\'+## ### ### ####\', \'+## ### #### ####\',]"></base-input>\n\n                                            <base-button class="text-uppercase text-center mt-3 mx-auto mb-2" :disabled="invalid||loading" :loading="loading" @click="signup">\n                                                    Зарегистрироваться\n                                            </base-button>\n                                            <p class="text-center m-auto">Уже есть аккаунт? <router-link to="/login" style="color: #f8a105">Войти</router-link> </p>\n                                        </ValidationObserver>\n                                    </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\x3c!--            </div>--\x3e\n\x3c!--        </div>--\x3e\n    </div>\n</template>\n\n<script>\n    export default {\n        name: "SignUp",\n        data: () => ({\n            email:\'\',\n            password:\'\',\n            confirm_password:\'\',\n            step1:true,\n            step2: false,\n            first_name:\'\',\n            middle_name:\'\',\n            last_name:\'\',\n            phone:\'\',\n            loading: false,\n            passwords_types: {\n                password: \'password\',\n                confirm: \'password\',\n            },\n            manager: false\n        }),\n        computed: {\n            isLoggedIn: function () {\n                return this.$store.getters.isLoggedIn\n            },\n        },\n        watch: {\n            \'$route.query.role\': function(newVal, oldVal) {\n                if(newVal===\'manager\') {\n                    this.manager = true;\n                }\n            },\n        },\n        mounted() {\n            if(this.isLoggedIn)\n            {\n                this.$router.push(\'/dashboard\')\n            }\n        },\n        methods: {\n            switchVisibility(type) {\n                this.passwords_types[type] = this.passwords_types[type] === "password" ? "text" : "password";\n            },\n            nextStep(invalid) {\n                if(!this.loading && !invalid) {\n                    this.step1 = false;\n                    this.step2 = true;\n                }\n            },\n            prevStep() {\n                if(!this.loading) {\n                    this.step1=true;\n                    this.step2=false;\n                }\n            },\n            async signup() {\n                let data = {\n                    email: this.email,\n                    password: this.password,\n                    first_name: this.first_name,\n                    middle_name: this.middle_name,\n                    last_name: this.last_name,\n                    phone: this.phone,\n                    manager: this.manager,\n                }\n                this.loading = true;\n                await this.$store.dispatch(\'register\', data)\n                    .then(() => {\n                        this.loading = false;\n                    })\n                    .catch(err => {\n                        this.loading = false;\n                    })\n\n            },\n        },\n    }\n<\/script>\n\n<style scoped>\n    .action-button {\n        display: inline-flex;\n        width: 50px;\n        height: 50px;\n        margin-left: -5px;\n        margin-right: -5px;\n        align-items: center;\n        justify-content: center;\n        border-radius: 200px;\n        background: #f08b23;\n        color: white;\n        font-size: 40px;\n        outline: none !important;\n        text-decoration: none !important;\n        box-shadow: none !important;\n    }\n    .action-button:focus {\n        outline: none !important;\n        text-decoration: none !important;\n        box-shadow: none !important;\n    }\n    .btn-visibility{\n        position: absolute;\n        background: transparent;\n        border: none;\n        outline: none!important;\n        color: #063065;\n        font-size: 20px;\n    }\n    .card-signin {\n        border: 0;\n        border-radius: 1rem;\n        box-shadow: 0 0.5rem 1rem 0 rgba(0, 0, 0, 0.1);\n    }\n\n    .card-signin .card-title {\n        margin-bottom: 2rem;\n        font-weight: 300;\n        font-size: 1.5rem;\n    }\n\n    .card-signin .card-body {\n        padding: 2rem;\n    }\n\n    .form-signin {\n        width: 100%;\n    }\n\n    .form-signin .btn {\n        font-size: 80%;\n        border-radius: 5rem;\n        letter-spacing: .1rem;\n        font-weight: bold;\n        padding: 1rem;\n        transition: all 0.2s;\n    }\n\n    .form-label-group {\n        position: relative;\n        margin-bottom: 1rem;\n    }\n\n    .form-label-group input {\n        height: auto;\n        border-radius: 2rem;\n    }\n\n    .form-label-group>input,\n    .form-label-group>label {\n        padding: var(--input-padding-y) var(--input-padding-x);\n    }\n\n    .form-label-group>label {\n        position: absolute;\n        top: 0;\n        left: 0;\n        display: block;\n        width: 100%;\n        margin-bottom: 0;\n        /* Override default `<label>` margin */\n        line-height: 1.5;\n        color: #495057;\n        border: 1px solid transparent;\n        border-radius: .25rem;\n        transition: all .1s ease-in-out;\n    }\n\n    .form-label-group input::-webkit-input-placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input:-ms-input-placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input::-ms-input-placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input::-moz-placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input::placeholder {\n        color: transparent;\n    }\n\n    .form-label-group input:not(:placeholder-shown) {\n        padding-top: calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));\n        padding-bottom: calc(var(--input-padding-y) / 3);\n    }\n\n    .form-label-group input:not(:placeholder-shown)~label {\n        padding-top: calc(var(--input-padding-y) / 3);\n        padding-bottom: calc(var(--input-padding-y) / 3);\n        font-size: 12px;\n        color: #777;\n    }\n\n\n    /* Fallback for Edge\n    -------------------------------------------------- */\n\n    @supports (-ms-ime-align: auto) {\n        .form-label-group>label {\n            display: none;\n        }\n        .form-label-group input::-ms-input-placeholder {\n            color: #777;\n        }\n    }\n\n    /* Fallback for IE\n    -------------------------------------------------- */\n\n    @media all and (-ms-high-contrast: none),\n    (-ms-high-contrast: active) {\n        .form-label-group>label {\n            display: none;\n        }\n        .form-label-group input:-ms-input-placeholder {\n            color: #777;\n        }\n    }\n\n    .title-1 {\n        position: absolute;\n        z-index: 1;\n        left: 0px;\n        top: 10px;\n        color:#062348;\n        font-family: \'Bello Pro\' !important;\n        font-size: 30px;\n    }\n    .title-1 span {\n        font-size: 40px;\n    }\n    .title-2 {\n        position: absolute;\n        z-index: 1;\n        left: 42px;\n        top: 22px;\n        color: white;\n        font-family: \'Open Sans\' !important;\n        font-weight: 900;\n        font-size: 20px;\n    }\n    .title-2 span {\n        text-transform: uppercase;\n    }\n    .orange-brush {\n        top: 2px;\n        left: 10px;\n        width: 283px;\n        height: 60px;\n    }\n    .blue-brush{\n        top: 10px;\n        left: -55px;\n        width: 330px;\n        height: 50px;\n        opacity: 1;\n    }\n    .multiselect-title {\n        color: #062348 !important;\n        font-family: "Bello Pro";\n        /*font-weight: 700;*/\n    }\n    .multiselect__tags {\n        border: 1px solid #f08b23;\n        border-radius: 20px;\n        font-size: 1rem;\n        min-height: 40px;\n    }\n    .multiselect__tags .travel-text-control{\n        color: #062348;\n        font-family: "Open Sans" !important;\n        font-weight: 900 !important;\n    }\n\n    .multiselect__tags .travel-text-control:focus{\n        outline: none!important;\n        box-shadow: none !important;\n    }\n    .validate-error{\n        display: block !important;\n        height: 17px;\n    }\n    .btn {\n        background: #0f213d;\n        color: white;\n        text-transform: uppercase;\n        font-size: 24px;\n        font-family: "Open Sans";\n        font-weight: 900;\n        border: 0;\n        border-radius: 50px;\n        outline: none;\n    }\n    .btn:focus {\n        outline: none !important;\n        box-shadow: none !important;\n    }\n    .btn-travel {\n        border-radius: 50px;\n        background: #f08b23;\n        color: white;\n        text-transform: uppercase;\n        font-family: "Open Sans";\n        font-weight: 900;\n        font-size: 20px;\n    }\n</style>\n'],sourceRoot:""}]);const s=i},43288:(t,n,e)=>{e.r(n),e.d(n,{default:()=>p});function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return n};var t,n={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,n,e){t[n]=e.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",A=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function p(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{p({},"")}catch(t){p=function(t,n,e){return t[n]=e}}function d(t,n,e,o){var a=n&&n.prototype instanceof b?n:b,r=Object.create(a.prototype),s=new D(o||[]);return i(r,"_invoke",{value:S(t,e,s)}),r}function u(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}n.wrap=d;var m="suspendedStart",f="suspendedYield",h="executing",g="completed",v={};function b(){}function y(){}function C(){}var w={};p(w,l,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(G([])));_&&_!==e&&r.call(_,l)&&(w=_);var k=C.prototype=b.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(n){p(t,n,(function(t){return this._invoke(n,t)}))}))}function B(t,n){function e(a,i,s,l){var A=u(t[a],t,i);if("throw"!==A.type){var c=A.arg,p=c.value;return p&&"object"==o(p)&&r.call(p,"__await")?n.resolve(p.__await).then((function(t){e("next",t,s,l)}),(function(t){e("throw",t,s,l)})):n.resolve(p).then((function(t){c.value=t,s(c)}),(function(t){return e("throw",t,s,l)}))}l(A.arg)}var a;i(this,"_invoke",{value:function(t,o){function r(){return new n((function(n,a){e(t,o,n,a)}))}return a=a?a.then(r,r):r()}})}function S(n,e,o){var a=m;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===g){if("throw"===r)throw i;return{value:t,done:!0}}for(o.method=r,o.arg=i;;){var s=o.delegate;if(s){var l=L(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===m)throw a=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var A=u(n,e,o);if("normal"===A.type){if(a=o.done?g:f,A.arg===v)continue;return{value:A.arg,done:o.done}}"throw"===A.type&&(a=g,o.method="throw",o.arg=A.arg)}}}function L(n,e){var o=e.method,a=n.iterator[o];if(a===t)return e.delegate=null,"throw"===o&&n.iterator.return&&(e.method="return",e.arg=t,L(n,e),"throw"===e.method)||"return"!==o&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var r=u(a,n.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,v;var i=r.arg;return i?i.done?(e[n.resultName]=i.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function z(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function O(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(z,this),this.reset(!0)}function G(n){if(n||""===n){var e=n[l];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,i=function e(){for(;++a<n.length;)if(r.call(n,a))return e.value=n[a],e.done=!1,e;return e.value=t,e.done=!0,e};return i.next=i}}throw new TypeError(o(n)+" is not iterable")}return y.prototype=C,i(k,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:y,configurable:!0}),y.displayName=p(C,c,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,C):(t.__proto__=C,p(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},n.awrap=function(t){return{__await:t}},E(B.prototype),p(B.prototype,A,(function(){return this})),n.AsyncIterator=B,n.async=function(t,e,o,a,r){void 0===r&&(r=Promise);var i=new B(d(t,e,o,a),r);return n.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),p(k,c,"Generator"),p(k,l,(function(){return this})),p(k,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),e=[];for(var o in n)e.push(o);return e.reverse(),function t(){for(;e.length;){var o=e.pop();if(o in n)return t.value=o,t.done=!1,t}return t.done=!0,t}},n.values=G,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!n)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function o(o,a){return s.type="throw",s.arg=n,e.next=o,a&&(e.method="next",e.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),A=r.call(i,"finallyLoc");if(l&&A){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!A)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),v},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),v}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var o=e.completion;if("throw"===o.type){var a=o.arg;O(e)}return a}}throw Error("illegal catch attempt")},delegateYield:function(n,e,o){return this.delegate={iterator:G(n),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=t),v}},n}function r(t,n,e,o,a,r,i){try{var s=t[r](i),l=s.value}catch(t){return void e(t)}s.done?n(l):Promise.resolve(l).then(o,a)}const i={name:"SignUp",data:function(){return{email:"",password:"",confirm_password:"",step1:!0,step2:!1,first_name:"",middle_name:"",last_name:"",phone:"",loading:!1,passwords_types:{password:"password",confirm:"password"},manager:!1}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn}},watch:{"$route.query.role":function(t,n){"manager"===t&&(this.manager=!0)}},mounted:function(){this.isLoggedIn&&this.$router.push("/dashboard")},methods:{switchVisibility:function(t){this.passwords_types[t]="password"===this.passwords_types[t]?"text":"password"},nextStep:function(t){this.loading||t||(this.step1=!1,this.step2=!0)},prevStep:function(){this.loading||(this.step1=!0,this.step2=!1)},signup:function(){var t,n=this;return(t=a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={email:n.email,password:n.password,first_name:n.first_name,middle_name:n.middle_name,last_name:n.last_name,phone:n.phone,manager:n.manager},n.loading=!0,t.next=4,n.$store.dispatch("register",e).then((function(){n.loading=!1})).catch((function(t){n.loading=!1}));case 4:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(o,a){var i=t.apply(n,e);function s(t){r(i,o,a,s,l,"next",t)}function l(t){r(i,o,a,s,l,"throw",t)}s(void 0)}))})()}}};var s=e(85072),l=e.n(s),A=e(47118),c={insert:"head",singleton:!1};l()(A.A,c);A.A.locals;const p=(0,e(14486).A)(i,(function(){var t=this,n=t._self._c;return n("div",{staticStyle:{width:"100%",background:"#f08b23"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"tc-row m-auto h-100 justify-content-center align-items-center"},[n("div",{staticClass:"col-sm-12 col-md-4 col-lg-6 p-0 mx-auto"},[n("div",{staticClass:"row m-auto justify-content-center align-items-center w-100 h-100"},[t.step1?n("h1",{staticClass:"m-auto text-center",staticStyle:{color:"#fff","font-size":"80px","font-weight":"900","text-transform":"uppercase","font-family":"VAGWorld-Bold, VAG World"}},[t._v("Шаг 1")]):t._e(),t._v(" "),t.step2?n("h1",{staticClass:"m-auto text-center",staticStyle:{color:"#fff","font-size":"80px","font-weight":"900","text-transform":"uppercase","font-family":"VAGWorld-Bold, VAG World"}},[t._v("Шаг 2")]):t._e()])]),t._v(" "),n("div",{staticClass:"col-sm-12 col-md-8 col-lg-6 p-0 mx-auto"},[n("div",{staticClass:"tc-card card-signin my-5",staticStyle:{"max-height":"none"}},[n("h4",{directives:[{name:"show",rawName:"v-show",value:t.step1,expression:"step1"}],staticClass:"tc-card__title text-center mb-3"},[t._v("Присоединись к Travel"),n("span",{staticClass:"tc-text-primary"},[t._v("Club")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.step2,expression:"step2"}],staticClass:"row mx-auto mb-3 justify-content-center align-items-center",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:"col-6 col-md-6 col-sm-6 p-0"},[n("div",{staticClass:"action-button tc-cursor-pointer",on:{click:t.prevStep}},[n("base-icon",{staticClass:"tc-rotate-180",attrs:{name:"ArrowRight"}})],1)]),t._v(" "),n("div",{staticClass:"col-6 col-md-6 col-sm-6 p-0"},[n("p",{staticClass:"m-auto text-center"},[t._v("Уже есть аккаунт? "),n("router-link",{staticStyle:{color:"#f8a105"},attrs:{to:"/login"}},[t._v("Войти")])],1)])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.step1,expression:"step1"}],staticClass:"form-signin"},[n("ValidationObserver",{staticClass:"tc-wrapper-column",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[n("base-input",{attrs:{name:"email",label:"Email",rules:"required|email",icon_name:"Email",icon_color:"secondary"},model:{value:t.email,callback:function(n){t.email=n},expression:"email"}}),t._v(" "),n("base-input",{attrs:{type:t.passwords_types.password,name:"password",label:"Пароль",rules:"required|min:8",group_item_action:""},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.nextStep(o)},"click-group-item":function(n){return t.switchVisibility("password")}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("base-icon",{attrs:{name:"password"===t.passwords_types.password?"Eye":"EyeSlash",color:"secondary"}})]},proxy:!0}],null,!0),model:{value:t.password,callback:function(n){t.password=n},expression:"password"}}),t._v(" "),n("base-input",{attrs:{type:t.passwords_types.confirm,name:"confirm_password",label:"Подтверждение пароля",rules:"required|min:8|confirmed:password",group_item_action:""},on:{"click-group-item":function(n){return t.switchVisibility("confirm")},keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.nextStep(o)}},scopedSlots:t._u([{key:"icon",fn:function(){return[n("base-icon",{attrs:{name:"password"===t.passwords_types.confirm?"Eye":"EyeSlash",color:"secondary"}})]},proxy:!0}],null,!0),model:{value:t.confirm_password,callback:function(n){t.confirm_password=n},expression:"confirm_password"}}),t._v(" "),n("base-button",{staticClass:"text-uppercase mt-3 mx-auto mb-2",attrs:{disabled:o},on:{click:function(n){return t.nextStep(o)}}},[t._v("Далее")]),t._v(" "),n("p",{staticClass:"text-center m-auto"},[t._v("Уже есть аккаунт? "),n("router-link",{staticStyle:{color:"#f8a105"},attrs:{to:"/login"}},[t._v("Войти")])],1)]}}])})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.step2,expression:"step2"}],staticClass:"form-signin"},[n("ValidationObserver",{staticClass:"tc-wrapper-column",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[n("base-input",{attrs:{name:"last_name",label:"Фамилия",rules:"required"},model:{value:t.last_name,callback:function(n){t.last_name=n},expression:"last_name"}}),t._v(" "),n("base-input",{attrs:{name:"first_name",label:"Имя",rules:"required"},model:{value:t.first_name,callback:function(n){t.first_name=n},expression:"first_name"}}),t._v(" "),n("base-input",{attrs:{name:"middle_name",label:"Отчество",rules:"required"},model:{value:t.middle_name,callback:function(n){t.middle_name=n},expression:"middle_name"}}),t._v(" "),n("base-input",{attrs:{name:"phone",label:"Номер телефона",rules:"required|phone",mask:["+# ### ### ####","+## ### ### ####","+## ### #### ####"]},model:{value:t.phone,callback:function(n){t.phone=n},expression:"phone"}}),t._v(" "),n("base-button",{staticClass:"text-uppercase text-center mt-3 mx-auto mb-2",attrs:{disabled:o||t.loading,loading:t.loading},on:{click:t.signup}},[t._v("\n                                                    Зарегистрироваться\n                                            ")]),t._v(" "),n("p",{staticClass:"text-center m-auto"},[t._v("Уже есть аккаунт? "),n("router-link",{staticStyle:{color:"#f8a105"},attrs:{to:"/login"}},[t._v("Войти")])],1)]}}])})],1)])])])])])}),[],!1,null,"55233d0a",null).exports}}]);
//# sourceMappingURL=3288.js.map