/*! For license information please see 7685.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7685],{32127:(t,n,e)=>{e.d(n,{A:()=>r});var i=e(45627),o=e.n(i),s=e(76798),a=e.n(s)()(o());a.push([t.id,".btn-tour-info[data-v-04f5d7d6]{border:2px solid #f08b23;border-radius:20px;color:#f08b23;font-family:Open Sans;font-weight:900;margin-left:5px;margin-right:5px;min-width:206px;padding:3px 20px;text-align:center;text-transform:uppercase}.btn-tour-info[data-v-04f5d7d6]:hover{background:#0d274b;border:2px solid #0d274b;color:#fff!important}.btn-tour-info[data-v-04f5d7d6]:disabled{border:2px solid #c6e2f7;color:#c6e2f7}.btn-tour-info[data-v-04f5d7d6]:disabled:hover{background:#fff;border:2px solid #c6e2f7;color:#c6e2f7!important}.white--text[data-v-04f5d7d6]{caret-color:#fff!important;color:#fff!important}.active-tour[data-v-04f5d7d6]{background:#f08b23;border-radius:20px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12),0 1px 5px 0 rgba(0,0,0,.2);float:left;font-weight:900;padding:3px 20px;text-align:center;width:206px}.active-tour[data-v-04f5d7d6],.features[data-v-04f5d7d6]{font-family:Open Sans;text-transform:uppercase}.features[data-v-04f5d7d6]{line-height:2.25}.title[data-v-04f5d7d6]{color:#0d274b;font-size:13px;font-weight:900;letter-spacing:2px}.subtitle[data-v-04f5d7d6]{color:#f08b23;font-size:18px;font-weight:900}@media screen and (max-width:576px){.title[data-v-04f5d7d6]{font-size:12px}.subtitle[data-v-04f5d7d6]{font-size:15px}}.main[data-v-04f5d7d6]{padding:0 15px;position:relative;z-index:2}.ticket-list[data-v-04f5d7d6]{list-style:none;margin:0;padding:0}.ticket-list li[data-v-04f5d7d6]{border-bottom:1px solid #f08b23;border-top:1px solid #f08b23;font-size:14px;position:relative}.ticket-list li label[data-v-04f5d7d6]{color:#0d274b;display:block;font-family:Open Sans;font-weight:700;line-height:1.2;padding:5px 5px 5px 10px;transition:color .4s;word-break:break-all}.passenger-list[data-v-04f5d7d6]{list-style:none;margin:0;padding:0}.passenger-list li[data-v-04f5d7d6]{border-bottom:1px solid #f08b23;border-top:1px solid #f08b23;font-size:14px;position:relative}.passenger-list li label[data-v-04f5d7d6]{color:#0d274b;display:block;line-height:1.2;padding:5px;text-align:center;transition:color .4s;word-break:break-all}.lists[data-v-04f5d7d6],.passenger-list li label[data-v-04f5d7d6]{font-family:Open Sans;font-weight:700}.lists[data-v-04f5d7d6]{background:#fff;border:1px solid #f08b23;border-radius:20px;position:relative}.preview[data-v-04f5d7d6]{height:100px;max-width:90%}","",{version:3,sources:["webpack://./resources/js/desktop/pages/Client/TourInfo.vue"],names:[],mappings:"AAkqBA,gCACA,wBAAA,CACA,kBAAA,CAOA,aAAA,CAHA,qBAAA,CAFA,eAAA,CAOA,eAAA,CADA,gBAAA,CAHA,eAAA,CAJA,gBAAA,CAKA,iBAAA,CAHA,wBAOA,CACA,sCAEA,kBAAA,CADA,wBAAA,CAEA,oBACA,CACA,yCACA,wBAAA,CACA,aACA,CACA,+CAGA,eAAA,CAFA,wBAAA,CACA,uBAEA,CACA,8BAEA,0BAAA,CADA,oBAEA,CACA,8BACA,kBAAA,CACA,kBAAA,CAGA,gGAAA,CAMA,UAAA,CALA,eAAA,CAHA,gBAAA,CAOA,iBAAA,CADA,WAGA,CACA,yDALA,qBAAA,CADA,wBAUA,CAJA,2BAGA,gBACA,CACA,wBAEA,aAAA,CADA,cAAA,CAGA,eAAA,CADA,kBAEA,CACA,2BAEA,aAAA,CADA,cAAA,CAEA,eACA,CACA,oCACA,wBACA,cACA,CACA,2BACA,cACA,CACA,CACA,uBAIA,cAAA,CAHA,iBAAA,CACA,SAGA,CAEA,8BAGA,eAAA,CAFA,QAAA,CACA,SAEA,CAEA,iCAGA,+BAAA,CACA,4BAAA,CAFA,cAAA,CADA,iBAIA,CAKA,uCAMA,aAAA,CAHA,aAAA,CAIA,qBAAA,CACA,eAAA,CAJA,eAAA,CAFA,wBAAA,CAGA,oBAAA,CAJA,oBAQA,CACA,iCAGA,eAAA,CAFA,QAAA,CACA,SAEA,CACA,oCAGA,+BAAA,CACA,4BAAA,CAFA,cAAA,CADA,iBAIA,CAIA,0CAMA,aAAA,CAHA,aAAA,CACA,eAAA,CAFA,WAAA,CAOA,iBAAA,CAJA,oBAAA,CAJA,oBASA,CACA,kEAJA,qBAAA,CACA,eAUA,CAPA,wBACA,eAAA,CAGA,wBAAA,CADA,kBAAA,CADA,iBAKA,CACA,0BACA,YAAA,CACA,aACA",sourcesContent:['<template>\n    <div id="tour-info" v-show="!load">\n        <div class="modal fade" id="reviewModalBox" tabindex="-1" role="dialog" aria-labelledby="reviewModalBoxLabel" aria-hidden="true">\n            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" id="client">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title" id="reviewModalBoxLabel">Оставить отзыв</h5>\n                        <button type="button" class="close"  data-bs-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n                    <div class="modal-body">\n                        <div class="row mb-5 mx-auto">\n                            <div class="col-md-12">\n                                <div class="row align-items-center justify-content-center mx-auto mt-3" style="width: 100%;">\n                                    <label class="control-label">Напишите Ваши впечатления</label>\n                                    <b-form-textarea rows="6" cols="80"\n                                              class="travel-input"\n                                              placeholder="Напишите Ваши впечатления..."\n                                              v-model="review"\n                                              style="padding: 5px 15px; border: 1px solid #f08b23; border-radius: 20px !important;"\n                                    >\n                                    </b-form-textarea>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="modal-footer">\n                        <div class="row">\n                            <div class="col-md-12 contact-btn">\n                                <button type="submit" class="btn btn-travel" style="width: 100%" @click="addReview" :disabled="loading">\n                                    <div class="row align-items-center m-auto w-100 h-100">\n                                        <span v-if="loading" class="spinner-border spinner-border-sm mx-2" role="status" aria-hidden="true"></span>\n                                       Отправить\n                                    </div>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row align-items-center m-auto" style="width: 100%; height: 100%;">\n            <button class="btn btn-tour-info" @click="toBalance"><i class="fas fa-wallet me-2"></i>Баланс</button>\n            <button class="btn btn-tour-info" v-if="!tour.Archive" @click="addToArchive(tour)"><i class="fas fa-archive me-2"></i>Отправить в архив</button>\n            <button class="btn btn-tour-info" v-else @click="returnFromArchive(tour)"><i class="fas fa-archive me-2"></i>Вернуть из архива</button>\n            <button class="btn btn-tour-info" :disabled="invalid" data-bs-toggle="modal" data-bs-target="#reviewModalBox"><i class="fas fa-comment-dots me-2"></i>Написать отзыв</button>\n        </div>\n        <div class="row align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n            <div class="col-md-6 p-0">\n                <div class="row mx-auto mt-5 mb-5  align-items-center" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n                    <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Страна</span>\n                </div>\n                <div class="row features align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="row align-items-center w-100 m-auto">\n                            <div class="col-12">\n                                <div class="row align-items-center w-100 m-auto">\n                                    <b class="me-3" style="border: 1px solid #063065" :class="\'tc-flag-\'+tour.TourInfo.country.Id"></b>\n                                    <div class="subtitle">{{tour.TourInfo.country.Name}}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="col-md-6 p-0">\n                <div class="row mx-auto mt-5 mb-5  align-items-center" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n                    <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Курорт</span>\n                </div>\n                <div class="row features align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="row align-items-center w-100 m-auto">\n                            <div class="col-12">\n                                <div class="subtitle">{{tour.TourInfo.resort.Name}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n        <div class="row mx-auto mt-5 mb-5  align-items-center" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Отель</span>\n        </div>\n        <div class="row features align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n            <div class="col-12">\n                <div class="row align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="title">\n                            <i class="icon-icon-list me-1" style="font-size: 11px;">\n                                <span class="path1">\n                                    <span class="path2"></span>\n                                </span>\n                            </i>название отеля:\n                        </div>\n                    </div>\n                    <div class="col-12">\n                        <div class="row align-items-center w-100 m-auto">\n                            <div class="subtitle">{{tour.TourInfo.hotel.Name}} <span class="ml-3" style="color: #0f213d">{{tour.TourInfo.hotel.StarName}}</span></div>\n                            <svg class="icon-star my-auto ml-1" style="width: 20px;height: 20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 19">\n                                <path fill="#ffca00" d="M9.5 0l3.131 5.97 6.367 1.29-4.432 4.97.804 6.77-5.87-2.9L3.63 19l.804-6.77L.002 7.26l6.367-1.29L9.5 0"></path>\n                            </svg>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="col-12">\n                <div class="row align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="title">\n                            <i class="icon-icon-list me-1" style="font-size: 11px;">\n                                <span class="path1">\n                                    <span class="path2"></span>\n                                </span>\n                            </i>\n                            категория номера:\n                        </div>\n                    </div>\n                    <div class="col-12">\n                        <div class="subtitle">{{tour.TourInfo.room_type}}</div>\n                    </div>\n                </div>\n            </div>\n            <div class="col-12">\n                <div class="row align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="title">\n                            <i class="icon-icon-list me-1" style="font-size: 11px;">\n                                <span class="path1">\n                                    <span class="path2"></span>\n                                </span>\n                            </i>\n                            питание\n                        </div>\n                    </div>\n                    <div class="col-12">\n                        <div class="subtitle">{{tour.TourInfo.meal.Name}}<span class="my-auto" style="color: #0f213d; font-size:14px"> - {{tour.TourInfo.meal.desc}}</span></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row mx-auto mt-5 mb-5  align-items-center" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Даты</span>\n        </div>\n        <div class="row m-auto align-items-center justify-content-center" style="width: 100%;height: 100%;">\n            <div class="col-md-5 col-sm-12 m-auto">\n                <div class="row mx-auto mt-5 mb-5 align-items-center justify-content-center" style="width: 100%;height: 100%;">\n                    <functional-calendar\n                        ref="Calendar"\n                        :marked-date-range="{start: tour.TourInfo.date_range.start, end: tour.TourInfo.date_range.end}"\n                    ></functional-calendar>\n                </div>\n            </div>\n            <div class="col-md-5 col-sm-12 m-auto">\n\x3c!--                <span class="white&#45;&#45;text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">--\x3e\n\x3c!--                    <div class="icon icon-calendar me-2"></div>{{tour.StartAt | moment("DD.MM")}} - {{tour.EndAt | moment("DD.MM")}}--\x3e\n\x3c!--                </span>--\x3e\n                <add-to-calendar title="Тур"\n                                 :location="tour.TourInfo.resort.Name + \', \' + tour.TourInfo.country.Name"\n                                 :start="start"\n                                 :end="end"\n                                 details="Тур от ВПУТЬ"\n                                 inline-template\n                >\n                    <div class="calendars row w-100 m-auto">\n                        <div class="col-12 mb-2">\n                            <google-calendar id="google-calendar">\n                                <i class="icon-google"></i> Добавить в Google календарь\n                            </google-calendar>\n                        </div>\n                        <div class="col-12 mb-2">\n                            <microsoft-calendar id="microsoft-calendar">\n                                <i class="icon-windows"></i> Добавить в Microsoft live календарь\n                            </microsoft-calendar>\n                        </div>\n                        <div class="col-12 mb-2">\n                            <office365-calendar id="office365-calendar">\n                                <i class="icon-microsoftoutlook"></i> Добавить в  Office365 outlook календарь\n                            </office365-calendar>\n                        </div>\n                    </div>\n                </add-to-calendar>\n            </div>\n        </div>\n\n        <div class="row mx-auto mt-5 mb-5  align-items-center" v-if="tour.TourInfo.avia_tickets.length>0" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Авиабилеты</span>\n        </div>\n        <div class="row features align-items-center justify-content-center m-auto" v-if="tour.TourInfo.avia_tickets.length>0" style="width: 100%; height: 100%;">\n            <div class="col-12">\n                <div class="lists">\n                    <section class="main" v-show="tour.TourInfo.avia_tickets.length" v-cloak>\n                        <ul class="ticket-list">\n                            <li\n                                v-for="ticket in tour.TourInfo.avia_tickets"\n                                class="ticket"\n                                :key="ticket.id"\n                            >\n                                <div class="view">\n                                    <div class="row align-items-center justify-content-center m-auto w-100 h-100">\n                                        <div class="col-4 p-0">\n                                            <label>{{ ticket.date }}</label>\n                                        </div>\n                                        <div class="col-8 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ ticket.description }}</label>\n                                        </div>\n                                    </div>\n                                </div>\n                            </li>\n                        </ul>\n                    </section>\n                </div>\n            </div>\n        </div>\n        <div class="row mx-auto mt-5 mb-5  align-items-center" v-if="tour.TourInfo.passengers.length>0" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Пассажиры</span>\n        </div>\n        <div class="row features align-items-center justify-content-center m-auto" v-if="tour.TourInfo.passengers.length>0" style="width: 100%; height: 100%;">\n            <div class="col-12">\n                <div class="lists">\n                    <section class="main" v-show="tour.TourInfo.passengers.length" v-cloak>\n                        <ul class="passenger-list">\n                            <li\n                                v-for="passenger in tour.TourInfo.passengers"\n                                class="passenger"\n                                :key="passenger.id"\n                            >\n                                <div class="view">\n                                    <div class="row align-items-center justify-content-center m-auto w-100 h-100">\n                                        <div class="col-4 p-0" style="border-right: 1px solid #f08b23">\n                                            <label>{{ passenger.Name }}</label>\n                                        </div>\n                                        <div class="col-2 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ passenger.DoB }}</label>\n                                        </div>\n                                        <div class="col-2 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ passenger.Passport }}</label>\n                                        </div>\n                                        <div class="col-2 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ passenger.Date }}</label>\n                                        </div>\n                                        <div class="col-2 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ passenger.ExpiryDate }}</label>\n                                        </div>\n                                    </div>\n                                </div>\n                            </li>\n                        </ul>\n                    </section>\n                </div>\n\n            </div>\n        </div>\n        <div class="row mx-auto mt-5 mb-5 justify-content-center align-items-center" v-if="tour.TourInfo.services.trim() != \'\'" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px; width: 330px; position: absolute">Дополнительные услуги</span>\n        </div>\n        <div class="row features align-items-center justify-content-center mx-auto mt-auto mb-5" v-if="tour.TourInfo.services.trim() != \'\'"  style="width: 100%; height: 100%;">\n            <div class="col-12">\n                <div class="row align-items-center w-100 m-auto">\n                    <div class="title">{{tour.TourInfo.services}}</div>\n                </div>\n            </div>\n        </div>\n        <div class="row mx-auto mt-5 mb-5 justify-content-center align-items-center" v-if="tour.TourInfo.files.length>0" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px; width: 330px; position: absolute">Файлы</span>\n        </div>\n        <div class="file-listing" v-if="tour.TourInfo.files.length>0">\n            <div class="list-group-item" v-for="(file, index) in tour.TourInfo.files" :key="file.name">\n                <div class="row m-auto w-100 align-items-center justify-content-center">\n                    <div class="col-4 text-center">\n                        <img class="preview" v-if="/\\.(jpe?g|png|svg)$/i.test(file.name)" :src="file.path"/>\n                        <img class="preview" v-else src="/images/LOGO-1.png"/>\n                    </div>\n                    <div class="col-8">\n                        <div v-if="file.type==\'file\'">\n                            <a :href="file.path" style="color: #f08b23"><p class="control-label">{{file.name}}</p></a>\n                        </div>\n                        <div v-if="file.type==\'audio\'">\n                            <audio-player :audio="file"></audio-player>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import moment from \'moment\'\n    export default {\n        name: "TourInfo",\n        data: () => ({\n            tour:\'\',\n            markedDates: [\n                \'2020-8-12\',\n                \'14/08/2020\',\n            ],\n            start: new Date(),\n            end: new Date((new Date).setDate((new Date).getDate() + 7)),\n            review:\'\',\n            loading: false,\n            load: false,\n            invalid:true\n        }),\n        computed:\n        {\n            menu() {\n                return this.$store.getters.menu\n            },\n            user() {\n                return this.$store.getters.user\n            },\n\n        },\n        created() {\n            this.getTour()\n            // this.start = new Date(this.tour.TourInfo.date_range.start)\n            // console.log(this.start)\n            // this.end = new Date(this.tour.TourInfo.date_range.end)\n\n        },\n        mounted() {\n            // this.$refs.Calendar;\n            // console.log(this.$refs.Calendar)\n            // console.log(this.$refs[\'Calendar\'])\n            // console.log(this.$refs.Calendar.calendar)\n            // let self = this\n            // this.$nextTick(()=>{\n            //\n            //     console.log(self.$refs)\n            //     console.log(self.$refs.Calendar)\n            // });\n            this.toCalendar()\n        },\n        methods:{\n            async getTour () {\n                this.load = true;\n                if (!this.user) {\n                     await this.$store.dispatch(\'getUser\').then( () => {\n                        this.tour = this.user.tours.find((tour) => tour.id == this.$route.params.id);\n                        this.start = moment(this.tour.TourInfo.date_range.start, "DD-MM-YYYY").toDate()\n                        this.end = moment(this.tour.TourInfo.date_range.end, "DD-MM-YYYY").toDate()\n                        var now = moment(new Date());\n                        var end = moment(this.tour.EndAt).add(3, \'days\');\n                        var after = now.isAfter(end) ? true : false;\n                        if(after == true)\n                        {\n                            this.invalid = false;\n                        }\n                        this.load=false;\n                    })\n                }\n                else{\n                    this.tour = this.user.tours.find((tour) => tour.id == this.$route.params.id);\n                    this.start = moment(this.tour.TourInfo.date_range.start, "DD-MM-YYYY").toDate()\n                    this.end = moment(this.tour.TourInfo.date_range.end, "DD-MM-YYYY").toDate()\n                    var now = moment(new Date());\n                    var end = moment(this.tour.EndAt).add(3, \'days\');\n                    var after = now.isAfter(end) ? true : false;\n                    if(after == true)\n                    {\n                        this.invalid = false;\n                    }\n                    this.load=false;\n                }\n            },\n            toCalendar() {\n                if(this.$refs.Calendar == undefined) {\n                    setTimeout(() => this.$refs.Calendar.ChooseDate(this.start), 2000);\n                }\n                else {\n                    this.$refs.Calendar.ChooseDate(this.start)\n                }\n\n                // this.$nextTick(function() {\n                //     console.log(this.$refs.Calendar)\n                //     this.$refs.Calendar.ChooseDate(this.start);\n                //     // this.$refs.Calendar.ChooseDate(\'25/10/2020\');\n                // });\n            },\n            toBalance(){\n                this.$router.push(\'/client/balance/\'+this.$route.params.id)\n            },\n            addToArchive(tour) {\n                var data = {\n                    id: tour.id,\n                    UserId: tour.UserId,\n                    Archive: true,\n                    status: \'add\'\n                }\n                this.$store.dispatch(\'updateArchive\', data).then(()=> {\n                    console.log(\'updateArchive\', \'true\')\n                    tour.Archive=true;\n                    this.$store.dispatch(\'sendNotification\',\n                        {message: \'Тур успешно перемещен в архив\'});\n                })\n            },\n            returnFromArchive(tour) {\n                var data = {\n                    id: tour.id,\n                    UserId: tour.UserId,\n                    Archive: false,\n                    status: \'return\'\n                }\n                this.$store.dispatch(\'updateArchive\', data).then(()=> {\n                    tour.Archive=false;\n                    this.$store.dispatch(\'sendNotification\',\n                        { message: \'Тур успешно перемещен из архива\'});\n                })\n            },\n            async addReview() {\n                this.loading=true;\n                var data = {\n                   review: this.review,\n                    date: new Date()\n                }\n                if(this.tour.Comment.length>0){\n                    this.tour.Comment.push(data);\n                }\n                else {\n                    this.tour.Comment = []\n                    this.tour.Comment.push(data);\n                }\n                await this.$store.dispatch(\'updateReview\', this.tour).then(()=> {\n                    this.$store.dispatch(\'sendNotification\',\n                        {message: \'Новый отзыв успешно добавлен\'});\n                    this.loading = false\n                })\n                this.loading = false\n                this.$store.dispatch(\'closeModal\', \'#reviewModalBox\');\n            },\n            sendMessage(message) {\n                this.$notify({\n                    group: \'info\',\n                    type: \'travel\',\n                    title: \'Сообщение от ВПУТЬ\',\n                    text: message\n                });\n            },\n        }\n    }\n<\/script>\n\n<style scoped>\n    .btn-tour-info {\n        border: 2px solid #f08b23;\n        border-radius: 20px;\n        padding: 3px 20px;\n        font-weight: 900;\n        text-transform: uppercase;\n        font-family: \'Open Sans\';\n        min-width: 206px;\n        text-align: center;\n        color: #f08b23;\n        margin-right: 5px;\n        margin-left: 5px;\n    }\n    .btn-tour-info:hover{\n        border: 2px solid rgb(13, 39, 75);\n        background: rgb(13, 39, 75);\n        color: #fff !important;\n    }\n    .btn-tour-info:disabled {\n        border: 2px solid #c6e2f7;\n        color: #c6e2f7;\n    }\n    .btn-tour-info:disabled:hover{\n        border: 2px solid #c6e2f7;\n        color: #c6e2f7 !important;\n        background: white;\n    }\n    .white--text {\n        color: #fff !important;\n        caret-color: #fff !important;\n    }\n    .active-tour {\n        background: #f08b23;\n        border-radius: 20px;\n        padding: 3px 20px;\n        -webkit-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n        font-weight: 900;\n        text-transform: uppercase;\n        font-family: \'Open Sans\';\n        width: 206px;\n        text-align: center;\n        float: left;\n    }\n    .features {\n        font-family: "Open Sans";\n        text-transform: uppercase;\n        line-height: 2.25;\n    }\n    .title {\n        font-size: 13px;\n        color: rgb(13, 39, 75);\n        letter-spacing: 2px;\n        font-weight: 900;\n    }\n    .subtitle {\n        font-size: 18px;\n        color: #f08b23;\n        font-weight: 900;\n    }\n    @media screen and (max-width: 576px) {\n        .title {\n            font-size: 12px;\n        }\n        .subtitle {\n            font-size: 15px;\n        }\n    }\n    .main {\n        position: relative;\n        z-index: 2;\n        /*border-top: 1px solid #f08b23;*/\n        padding: 0px 15px;\n    }\n\n    .ticket-list {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    .ticket-list li {\n        position: relative;\n        font-size: 14px;\n        border-bottom: 1px solid #f08b23;\n        border-top: 1px solid #f08b23;\n    }\n\n    /*.ticket-list li:last-child {*/\n    /*    border-bottom: none;*/\n    /*}*/\n    .ticket-list li label {\n        word-break: break-all;\n        padding: 5px 5px 5px 10px;\n        display: block;\n        line-height: 1.2;\n        transition: color 0.4s;\n        color: #0d274b;\n        font-family: "Open Sans";\n        font-weight: 700;\n    }\n    .passenger-list {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n    .passenger-list li {\n        position: relative;\n        font-size: 14px;\n        border-bottom: 1px solid #f08b23;\n        border-top: 1px solid #f08b23;\n    }\n    /*.passenger-list li:last-child {*/\n    /*    border-bottom: none;*/\n    /*}*/\n    .passenger-list li label {\n        word-break: break-all;\n        padding: 5px 5px 5px 5px;\n        display: block;\n        line-height: 1.2;\n        transition: color 0.4s;\n        color: #0d274b;\n        font-family: "Open Sans";\n        font-weight: 700;\n        text-align: center;\n    }\n    .lists {\n        background: #fff;\n        position: relative;\n        border-radius: 20px;\n        border: 1px solid #f08b23;\n        font-weight: 700;\n        font-family: "Open Sans";\n    }\n    .preview{\n        height: 100px;\n        max-width: 90%;\n    }\n</style>\n<style>\n    .calendars a {\n        text-decoration: none;\n        color: #063065;\n        margin-right: 10px;\n    }\n    .calendars a:hover {\n        text-decoration: none;\n    }\n    .icon-windows::before {\n        color: #063065;\n    }\n    .icon-microsoftoutlook::before {\n        color: #063065;\n    }\n    #tour-info .vfc-week .vfc-day span.vfc-span-day.vfc-today{\n        color: black !important;\n    }\n    #tour-info .vfc-separately-navigation-buttons.vfc-space-between{\n        background: #f08b23 !important;\n    }\n    #tour-info .vfc-week .vfc-day span.vfc-span-day.vfc-marked {\n        background-color: #f08b23;\n\n    }\n    .vfc-week .vfc-day span.vfc-span-day.vfc-marked::before {\n        background-color: #ffe7ce;\n    }\n    #tour-info .vfc-week .vfc-day .vfc-base-start, .vfc-week .vfc-day .vfc-base-end {\n        background: #ffe7ce;\n        background-color: rgb(255, 231, 206);\n    }\n    #tour-info .vfc-main-container {\n        border-radius:20px;\n    }\n    #tour-info .vfc-calendars-container {\n        border-radius:20px;\n    }\n    #tour-info .vfc-top-date span {\n        cursor: default;\n        text-decoration: unset;\n        margin: 0 2px;\n        color: #fff;\n        font-family: "Open Sans";\n        font-weight: 900;\n    }\n    #tour-info .vfc-navigation-buttons div .vfc-arrow-left, .vfc-separately-navigation-buttons div .vfc-arrow-left {\n        width: 12px;\n        height: 12px;\n        border-top: 2px solid;\n        border-top-color: currentcolor;\n        border-left: 2px solid;\n        border-left-color: currentcolor;\n        border-color: #fff;\n        -webkit-transform: rotate(-45deg);\n        transform: rotate(-45deg);\n    }\n    #tour-info .vfc-navigation-buttons div, .vfc-separately-navigation-buttons div {\n        z-index: 2;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        color: #fff;\n        font-size: 18px;\n        margin: 20px 10px;\n    }\n    #tour-info .vfc-navigation-buttons div .vfc-arrow-right, .vfc-separately-navigation-buttons div .vfc-arrow-right {\n        width: 12px;\n        height: 12px;\n        border-top: 2px solid;\n        border-top-color: currentcolor;\n        border-right: 2px solid;\n        border-right-color: currentcolor;\n        border-color: #fff;\n        -webkit-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n    #tour-info .vfc-content {\n        margin: 0 20px;\n        margin-bottom: 0px;\n        z-index: 1;\n    }\n    .vfc-popover-container {\n        width: 100%;\n        max-width: 300px;\n    }\n\n</style>\n'],sourceRoot:""}]);const r=a},95723:(t,n,e)=>{e.d(n,{A:()=>r});var i=e(45627),o=e.n(i),s=e(76798),a=e.n(s)()(o());a.push([t.id,".calendars a{color:#063065;margin-right:10px}.calendars a,.calendars a:hover{text-decoration:none}.icon-microsoftoutlook:before,.icon-windows:before{color:#063065}#tour-info .vfc-week .vfc-day span.vfc-span-day.vfc-today{color:#000!important}#tour-info .vfc-separately-navigation-buttons.vfc-space-between{background:#f08b23!important}#tour-info .vfc-week .vfc-day span.vfc-span-day.vfc-marked{background-color:#f08b23}.vfc-week .vfc-day span.vfc-span-day.vfc-marked:before{background-color:#ffe7ce}#tour-info .vfc-week .vfc-day .vfc-base-start,.vfc-week .vfc-day .vfc-base-end{background:#ffe7ce;background-color:#ffe7ce}#tour-info .vfc-calendars-container,#tour-info .vfc-main-container{border-radius:20px}#tour-info .vfc-top-date span{color:#fff;cursor:default;font-family:Open Sans;font-weight:900;margin:0 2px;text-decoration:unset}#tour-info .vfc-navigation-buttons div .vfc-arrow-left,.vfc-separately-navigation-buttons div .vfc-arrow-left{border-left:2px solid #fff;border-color:#fff #fff currentcolor;border-top:2px solid #fff;height:12px;transform:rotate(-45deg);width:12px}#tour-info .vfc-navigation-buttons div,.vfc-separately-navigation-buttons div{color:#fff;display:flex;font-size:18px;margin:20px 10px;z-index:2}#tour-info .vfc-navigation-buttons div .vfc-arrow-right,.vfc-separately-navigation-buttons div .vfc-arrow-right{border-color:currentcolor currentcolor #fff #fff;border-right:2px solid #fff;border-top:2px solid #fff;height:12px;transform:rotate(45deg);width:12px}#tour-info .vfc-content{margin:0 20px;z-index:1}.vfc-popover-container{max-width:300px;width:100%}","",{version:3,sources:["webpack://./resources/js/desktop/pages/Client/TourInfo.vue"],names:[],mappings:"AAkqBA,aAEA,aAAA,CACA,iBACA,CACA,gCAJA,oBAMA,CAIA,mDACA,aACA,CACA,0DACA,oBACA,CACA,gEACA,4BACA,CACA,2DACA,wBAEA,CACA,uDACA,wBACA,CACA,+EACA,kBAAA,CACA,wBACA,CAIA,mEACA,kBACA,CACA,8BAIA,UAAA,CAHA,cAAA,CAIA,qBAAA,CACA,eAAA,CAHA,YAAA,CADA,qBAKA,CACA,8GAOA,0BAAA,CAAA,mCAAA,CAAA,yBAAA,CALA,WAAA,CAOA,wBAAA,CARA,UASA,CACA,8EAKA,UAAA,CADA,YAAA,CAEA,cAAA,CACA,gBAAA,CANA,SAOA,CACA,gHAOA,gDAAA,CAAA,2BAAA,CAAA,yBAAA,CALA,WAAA,CAOA,uBAAA,CARA,UASA,CACA,wBAEA,aAAA,CACA,SACA,CACA,uBAEA,eAAA,CADA,UAEA",sourcesContent:['<template>\n    <div id="tour-info" v-show="!load">\n        <div class="modal fade" id="reviewModalBox" tabindex="-1" role="dialog" aria-labelledby="reviewModalBoxLabel" aria-hidden="true">\n            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" id="client">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h5 class="modal-title" id="reviewModalBoxLabel">Оставить отзыв</h5>\n                        <button type="button" class="close"  data-bs-dismiss="modal" aria-label="Close">\n                            <span aria-hidden="true">&times;</span>\n                        </button>\n                    </div>\n                    <div class="modal-body">\n                        <div class="row mb-5 mx-auto">\n                            <div class="col-md-12">\n                                <div class="row align-items-center justify-content-center mx-auto mt-3" style="width: 100%;">\n                                    <label class="control-label">Напишите Ваши впечатления</label>\n                                    <b-form-textarea rows="6" cols="80"\n                                              class="travel-input"\n                                              placeholder="Напишите Ваши впечатления..."\n                                              v-model="review"\n                                              style="padding: 5px 15px; border: 1px solid #f08b23; border-radius: 20px !important;"\n                                    >\n                                    </b-form-textarea>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="modal-footer">\n                        <div class="row">\n                            <div class="col-md-12 contact-btn">\n                                <button type="submit" class="btn btn-travel" style="width: 100%" @click="addReview" :disabled="loading">\n                                    <div class="row align-items-center m-auto w-100 h-100">\n                                        <span v-if="loading" class="spinner-border spinner-border-sm mx-2" role="status" aria-hidden="true"></span>\n                                       Отправить\n                                    </div>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row align-items-center m-auto" style="width: 100%; height: 100%;">\n            <button class="btn btn-tour-info" @click="toBalance"><i class="fas fa-wallet me-2"></i>Баланс</button>\n            <button class="btn btn-tour-info" v-if="!tour.Archive" @click="addToArchive(tour)"><i class="fas fa-archive me-2"></i>Отправить в архив</button>\n            <button class="btn btn-tour-info" v-else @click="returnFromArchive(tour)"><i class="fas fa-archive me-2"></i>Вернуть из архива</button>\n            <button class="btn btn-tour-info" :disabled="invalid" data-bs-toggle="modal" data-bs-target="#reviewModalBox"><i class="fas fa-comment-dots me-2"></i>Написать отзыв</button>\n        </div>\n        <div class="row align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n            <div class="col-md-6 p-0">\n                <div class="row mx-auto mt-5 mb-5  align-items-center" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n                    <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Страна</span>\n                </div>\n                <div class="row features align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="row align-items-center w-100 m-auto">\n                            <div class="col-12">\n                                <div class="row align-items-center w-100 m-auto">\n                                    <b class="me-3" style="border: 1px solid #063065" :class="\'tc-flag-\'+tour.TourInfo.country.Id"></b>\n                                    <div class="subtitle">{{tour.TourInfo.country.Name}}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="col-md-6 p-0">\n                <div class="row mx-auto mt-5 mb-5  align-items-center" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n                    <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Курорт</span>\n                </div>\n                <div class="row features align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="row align-items-center w-100 m-auto">\n                            <div class="col-12">\n                                <div class="subtitle">{{tour.TourInfo.resort.Name}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n        <div class="row mx-auto mt-5 mb-5  align-items-center" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Отель</span>\n        </div>\n        <div class="row features align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n            <div class="col-12">\n                <div class="row align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="title">\n                            <i class="icon-icon-list me-1" style="font-size: 11px;">\n                                <span class="path1">\n                                    <span class="path2"></span>\n                                </span>\n                            </i>название отеля:\n                        </div>\n                    </div>\n                    <div class="col-12">\n                        <div class="row align-items-center w-100 m-auto">\n                            <div class="subtitle">{{tour.TourInfo.hotel.Name}} <span class="ml-3" style="color: #0f213d">{{tour.TourInfo.hotel.StarName}}</span></div>\n                            <svg class="icon-star my-auto ml-1" style="width: 20px;height: 20px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 19">\n                                <path fill="#ffca00" d="M9.5 0l3.131 5.97 6.367 1.29-4.432 4.97.804 6.77-5.87-2.9L3.63 19l.804-6.77L.002 7.26l6.367-1.29L9.5 0"></path>\n                            </svg>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="col-12">\n                <div class="row align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="title">\n                            <i class="icon-icon-list me-1" style="font-size: 11px;">\n                                <span class="path1">\n                                    <span class="path2"></span>\n                                </span>\n                            </i>\n                            категория номера:\n                        </div>\n                    </div>\n                    <div class="col-12">\n                        <div class="subtitle">{{tour.TourInfo.room_type}}</div>\n                    </div>\n                </div>\n            </div>\n            <div class="col-12">\n                <div class="row align-items-center justify-content-center m-auto" style="width: 100%; height: 100%;">\n                    <div class="col-12">\n                        <div class="title">\n                            <i class="icon-icon-list me-1" style="font-size: 11px;">\n                                <span class="path1">\n                                    <span class="path2"></span>\n                                </span>\n                            </i>\n                            питание\n                        </div>\n                    </div>\n                    <div class="col-12">\n                        <div class="subtitle">{{tour.TourInfo.meal.Name}}<span class="my-auto" style="color: #0f213d; font-size:14px"> - {{tour.TourInfo.meal.desc}}</span></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row mx-auto mt-5 mb-5  align-items-center" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Даты</span>\n        </div>\n        <div class="row m-auto align-items-center justify-content-center" style="width: 100%;height: 100%;">\n            <div class="col-md-5 col-sm-12 m-auto">\n                <div class="row mx-auto mt-5 mb-5 align-items-center justify-content-center" style="width: 100%;height: 100%;">\n                    <functional-calendar\n                        ref="Calendar"\n                        :marked-date-range="{start: tour.TourInfo.date_range.start, end: tour.TourInfo.date_range.end}"\n                    ></functional-calendar>\n                </div>\n            </div>\n            <div class="col-md-5 col-sm-12 m-auto">\n\x3c!--                <span class="white&#45;&#45;text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">--\x3e\n\x3c!--                    <div class="icon icon-calendar me-2"></div>{{tour.StartAt | moment("DD.MM")}} - {{tour.EndAt | moment("DD.MM")}}--\x3e\n\x3c!--                </span>--\x3e\n                <add-to-calendar title="Тур"\n                                 :location="tour.TourInfo.resort.Name + \', \' + tour.TourInfo.country.Name"\n                                 :start="start"\n                                 :end="end"\n                                 details="Тур от ВПУТЬ"\n                                 inline-template\n                >\n                    <div class="calendars row w-100 m-auto">\n                        <div class="col-12 mb-2">\n                            <google-calendar id="google-calendar">\n                                <i class="icon-google"></i> Добавить в Google календарь\n                            </google-calendar>\n                        </div>\n                        <div class="col-12 mb-2">\n                            <microsoft-calendar id="microsoft-calendar">\n                                <i class="icon-windows"></i> Добавить в Microsoft live календарь\n                            </microsoft-calendar>\n                        </div>\n                        <div class="col-12 mb-2">\n                            <office365-calendar id="office365-calendar">\n                                <i class="icon-microsoftoutlook"></i> Добавить в  Office365 outlook календарь\n                            </office365-calendar>\n                        </div>\n                    </div>\n                </add-to-calendar>\n            </div>\n        </div>\n\n        <div class="row mx-auto mt-5 mb-5  align-items-center" v-if="tour.TourInfo.avia_tickets.length>0" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Авиабилеты</span>\n        </div>\n        <div class="row features align-items-center justify-content-center m-auto" v-if="tour.TourInfo.avia_tickets.length>0" style="width: 100%; height: 100%;">\n            <div class="col-12">\n                <div class="lists">\n                    <section class="main" v-show="tour.TourInfo.avia_tickets.length" v-cloak>\n                        <ul class="ticket-list">\n                            <li\n                                v-for="ticket in tour.TourInfo.avia_tickets"\n                                class="ticket"\n                                :key="ticket.id"\n                            >\n                                <div class="view">\n                                    <div class="row align-items-center justify-content-center m-auto w-100 h-100">\n                                        <div class="col-4 p-0">\n                                            <label>{{ ticket.date }}</label>\n                                        </div>\n                                        <div class="col-8 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ ticket.description }}</label>\n                                        </div>\n                                    </div>\n                                </div>\n                            </li>\n                        </ul>\n                    </section>\n                </div>\n            </div>\n        </div>\n        <div class="row mx-auto mt-5 mb-5  align-items-center" v-if="tour.TourInfo.passengers.length>0" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px;position: absolute">Пассажиры</span>\n        </div>\n        <div class="row features align-items-center justify-content-center m-auto" v-if="tour.TourInfo.passengers.length>0" style="width: 100%; height: 100%;">\n            <div class="col-12">\n                <div class="lists">\n                    <section class="main" v-show="tour.TourInfo.passengers.length" v-cloak>\n                        <ul class="passenger-list">\n                            <li\n                                v-for="passenger in tour.TourInfo.passengers"\n                                class="passenger"\n                                :key="passenger.id"\n                            >\n                                <div class="view">\n                                    <div class="row align-items-center justify-content-center m-auto w-100 h-100">\n                                        <div class="col-4 p-0" style="border-right: 1px solid #f08b23">\n                                            <label>{{ passenger.Name }}</label>\n                                        </div>\n                                        <div class="col-2 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ passenger.DoB }}</label>\n                                        </div>\n                                        <div class="col-2 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ passenger.Passport }}</label>\n                                        </div>\n                                        <div class="col-2 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ passenger.Date }}</label>\n                                        </div>\n                                        <div class="col-2 p-0" style="border-left: 1px solid #f08b23">\n                                            <label>{{ passenger.ExpiryDate }}</label>\n                                        </div>\n                                    </div>\n                                </div>\n                            </li>\n                        </ul>\n                    </section>\n                </div>\n\n            </div>\n        </div>\n        <div class="row mx-auto mt-5 mb-5 justify-content-center align-items-center" v-if="tour.TourInfo.services.trim() != \'\'" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px; width: 330px; position: absolute">Дополнительные услуги</span>\n        </div>\n        <div class="row features align-items-center justify-content-center mx-auto mt-auto mb-5" v-if="tour.TourInfo.services.trim() != \'\'"  style="width: 100%; height: 100%;">\n            <div class="col-12">\n                <div class="row align-items-center w-100 m-auto">\n                    <div class="title">{{tour.TourInfo.services}}</div>\n                </div>\n            </div>\n        </div>\n        <div class="row mx-auto mt-5 mb-5 justify-content-center align-items-center" v-if="tour.TourInfo.files.length>0" style="width: 100%;height: 100%;border-top: 4px solid #f08b23;">\n            <span class="white--text active-tour ml-5" style="background:#062348; font-size: 18px; width: 330px; position: absolute">Файлы</span>\n        </div>\n        <div class="file-listing" v-if="tour.TourInfo.files.length>0">\n            <div class="list-group-item" v-for="(file, index) in tour.TourInfo.files" :key="file.name">\n                <div class="row m-auto w-100 align-items-center justify-content-center">\n                    <div class="col-4 text-center">\n                        <img class="preview" v-if="/\\.(jpe?g|png|svg)$/i.test(file.name)" :src="file.path"/>\n                        <img class="preview" v-else src="/images/LOGO-1.png"/>\n                    </div>\n                    <div class="col-8">\n                        <div v-if="file.type==\'file\'">\n                            <a :href="file.path" style="color: #f08b23"><p class="control-label">{{file.name}}</p></a>\n                        </div>\n                        <div v-if="file.type==\'audio\'">\n                            <audio-player :audio="file"></audio-player>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import moment from \'moment\'\n    export default {\n        name: "TourInfo",\n        data: () => ({\n            tour:\'\',\n            markedDates: [\n                \'2020-8-12\',\n                \'14/08/2020\',\n            ],\n            start: new Date(),\n            end: new Date((new Date).setDate((new Date).getDate() + 7)),\n            review:\'\',\n            loading: false,\n            load: false,\n            invalid:true\n        }),\n        computed:\n        {\n            menu() {\n                return this.$store.getters.menu\n            },\n            user() {\n                return this.$store.getters.user\n            },\n\n        },\n        created() {\n            this.getTour()\n            // this.start = new Date(this.tour.TourInfo.date_range.start)\n            // console.log(this.start)\n            // this.end = new Date(this.tour.TourInfo.date_range.end)\n\n        },\n        mounted() {\n            // this.$refs.Calendar;\n            // console.log(this.$refs.Calendar)\n            // console.log(this.$refs[\'Calendar\'])\n            // console.log(this.$refs.Calendar.calendar)\n            // let self = this\n            // this.$nextTick(()=>{\n            //\n            //     console.log(self.$refs)\n            //     console.log(self.$refs.Calendar)\n            // });\n            this.toCalendar()\n        },\n        methods:{\n            async getTour () {\n                this.load = true;\n                if (!this.user) {\n                     await this.$store.dispatch(\'getUser\').then( () => {\n                        this.tour = this.user.tours.find((tour) => tour.id == this.$route.params.id);\n                        this.start = moment(this.tour.TourInfo.date_range.start, "DD-MM-YYYY").toDate()\n                        this.end = moment(this.tour.TourInfo.date_range.end, "DD-MM-YYYY").toDate()\n                        var now = moment(new Date());\n                        var end = moment(this.tour.EndAt).add(3, \'days\');\n                        var after = now.isAfter(end) ? true : false;\n                        if(after == true)\n                        {\n                            this.invalid = false;\n                        }\n                        this.load=false;\n                    })\n                }\n                else{\n                    this.tour = this.user.tours.find((tour) => tour.id == this.$route.params.id);\n                    this.start = moment(this.tour.TourInfo.date_range.start, "DD-MM-YYYY").toDate()\n                    this.end = moment(this.tour.TourInfo.date_range.end, "DD-MM-YYYY").toDate()\n                    var now = moment(new Date());\n                    var end = moment(this.tour.EndAt).add(3, \'days\');\n                    var after = now.isAfter(end) ? true : false;\n                    if(after == true)\n                    {\n                        this.invalid = false;\n                    }\n                    this.load=false;\n                }\n            },\n            toCalendar() {\n                if(this.$refs.Calendar == undefined) {\n                    setTimeout(() => this.$refs.Calendar.ChooseDate(this.start), 2000);\n                }\n                else {\n                    this.$refs.Calendar.ChooseDate(this.start)\n                }\n\n                // this.$nextTick(function() {\n                //     console.log(this.$refs.Calendar)\n                //     this.$refs.Calendar.ChooseDate(this.start);\n                //     // this.$refs.Calendar.ChooseDate(\'25/10/2020\');\n                // });\n            },\n            toBalance(){\n                this.$router.push(\'/client/balance/\'+this.$route.params.id)\n            },\n            addToArchive(tour) {\n                var data = {\n                    id: tour.id,\n                    UserId: tour.UserId,\n                    Archive: true,\n                    status: \'add\'\n                }\n                this.$store.dispatch(\'updateArchive\', data).then(()=> {\n                    console.log(\'updateArchive\', \'true\')\n                    tour.Archive=true;\n                    this.$store.dispatch(\'sendNotification\',\n                        {message: \'Тур успешно перемещен в архив\'});\n                })\n            },\n            returnFromArchive(tour) {\n                var data = {\n                    id: tour.id,\n                    UserId: tour.UserId,\n                    Archive: false,\n                    status: \'return\'\n                }\n                this.$store.dispatch(\'updateArchive\', data).then(()=> {\n                    tour.Archive=false;\n                    this.$store.dispatch(\'sendNotification\',\n                        { message: \'Тур успешно перемещен из архива\'});\n                })\n            },\n            async addReview() {\n                this.loading=true;\n                var data = {\n                   review: this.review,\n                    date: new Date()\n                }\n                if(this.tour.Comment.length>0){\n                    this.tour.Comment.push(data);\n                }\n                else {\n                    this.tour.Comment = []\n                    this.tour.Comment.push(data);\n                }\n                await this.$store.dispatch(\'updateReview\', this.tour).then(()=> {\n                    this.$store.dispatch(\'sendNotification\',\n                        {message: \'Новый отзыв успешно добавлен\'});\n                    this.loading = false\n                })\n                this.loading = false\n                this.$store.dispatch(\'closeModal\', \'#reviewModalBox\');\n            },\n            sendMessage(message) {\n                this.$notify({\n                    group: \'info\',\n                    type: \'travel\',\n                    title: \'Сообщение от ВПУТЬ\',\n                    text: message\n                });\n            },\n        }\n    }\n<\/script>\n\n<style scoped>\n    .btn-tour-info {\n        border: 2px solid #f08b23;\n        border-radius: 20px;\n        padding: 3px 20px;\n        font-weight: 900;\n        text-transform: uppercase;\n        font-family: \'Open Sans\';\n        min-width: 206px;\n        text-align: center;\n        color: #f08b23;\n        margin-right: 5px;\n        margin-left: 5px;\n    }\n    .btn-tour-info:hover{\n        border: 2px solid rgb(13, 39, 75);\n        background: rgb(13, 39, 75);\n        color: #fff !important;\n    }\n    .btn-tour-info:disabled {\n        border: 2px solid #c6e2f7;\n        color: #c6e2f7;\n    }\n    .btn-tour-info:disabled:hover{\n        border: 2px solid #c6e2f7;\n        color: #c6e2f7 !important;\n        background: white;\n    }\n    .white--text {\n        color: #fff !important;\n        caret-color: #fff !important;\n    }\n    .active-tour {\n        background: #f08b23;\n        border-radius: 20px;\n        padding: 3px 20px;\n        -webkit-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n        font-weight: 900;\n        text-transform: uppercase;\n        font-family: \'Open Sans\';\n        width: 206px;\n        text-align: center;\n        float: left;\n    }\n    .features {\n        font-family: "Open Sans";\n        text-transform: uppercase;\n        line-height: 2.25;\n    }\n    .title {\n        font-size: 13px;\n        color: rgb(13, 39, 75);\n        letter-spacing: 2px;\n        font-weight: 900;\n    }\n    .subtitle {\n        font-size: 18px;\n        color: #f08b23;\n        font-weight: 900;\n    }\n    @media screen and (max-width: 576px) {\n        .title {\n            font-size: 12px;\n        }\n        .subtitle {\n            font-size: 15px;\n        }\n    }\n    .main {\n        position: relative;\n        z-index: 2;\n        /*border-top: 1px solid #f08b23;*/\n        padding: 0px 15px;\n    }\n\n    .ticket-list {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    .ticket-list li {\n        position: relative;\n        font-size: 14px;\n        border-bottom: 1px solid #f08b23;\n        border-top: 1px solid #f08b23;\n    }\n\n    /*.ticket-list li:last-child {*/\n    /*    border-bottom: none;*/\n    /*}*/\n    .ticket-list li label {\n        word-break: break-all;\n        padding: 5px 5px 5px 10px;\n        display: block;\n        line-height: 1.2;\n        transition: color 0.4s;\n        color: #0d274b;\n        font-family: "Open Sans";\n        font-weight: 700;\n    }\n    .passenger-list {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n    .passenger-list li {\n        position: relative;\n        font-size: 14px;\n        border-bottom: 1px solid #f08b23;\n        border-top: 1px solid #f08b23;\n    }\n    /*.passenger-list li:last-child {*/\n    /*    border-bottom: none;*/\n    /*}*/\n    .passenger-list li label {\n        word-break: break-all;\n        padding: 5px 5px 5px 5px;\n        display: block;\n        line-height: 1.2;\n        transition: color 0.4s;\n        color: #0d274b;\n        font-family: "Open Sans";\n        font-weight: 700;\n        text-align: center;\n    }\n    .lists {\n        background: #fff;\n        position: relative;\n        border-radius: 20px;\n        border: 1px solid #f08b23;\n        font-weight: 700;\n        font-family: "Open Sans";\n    }\n    .preview{\n        height: 100px;\n        max-width: 90%;\n    }\n</style>\n<style>\n    .calendars a {\n        text-decoration: none;\n        color: #063065;\n        margin-right: 10px;\n    }\n    .calendars a:hover {\n        text-decoration: none;\n    }\n    .icon-windows::before {\n        color: #063065;\n    }\n    .icon-microsoftoutlook::before {\n        color: #063065;\n    }\n    #tour-info .vfc-week .vfc-day span.vfc-span-day.vfc-today{\n        color: black !important;\n    }\n    #tour-info .vfc-separately-navigation-buttons.vfc-space-between{\n        background: #f08b23 !important;\n    }\n    #tour-info .vfc-week .vfc-day span.vfc-span-day.vfc-marked {\n        background-color: #f08b23;\n\n    }\n    .vfc-week .vfc-day span.vfc-span-day.vfc-marked::before {\n        background-color: #ffe7ce;\n    }\n    #tour-info .vfc-week .vfc-day .vfc-base-start, .vfc-week .vfc-day .vfc-base-end {\n        background: #ffe7ce;\n        background-color: rgb(255, 231, 206);\n    }\n    #tour-info .vfc-main-container {\n        border-radius:20px;\n    }\n    #tour-info .vfc-calendars-container {\n        border-radius:20px;\n    }\n    #tour-info .vfc-top-date span {\n        cursor: default;\n        text-decoration: unset;\n        margin: 0 2px;\n        color: #fff;\n        font-family: "Open Sans";\n        font-weight: 900;\n    }\n    #tour-info .vfc-navigation-buttons div .vfc-arrow-left, .vfc-separately-navigation-buttons div .vfc-arrow-left {\n        width: 12px;\n        height: 12px;\n        border-top: 2px solid;\n        border-top-color: currentcolor;\n        border-left: 2px solid;\n        border-left-color: currentcolor;\n        border-color: #fff;\n        -webkit-transform: rotate(-45deg);\n        transform: rotate(-45deg);\n    }\n    #tour-info .vfc-navigation-buttons div, .vfc-separately-navigation-buttons div {\n        z-index: 2;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        color: #fff;\n        font-size: 18px;\n        margin: 20px 10px;\n    }\n    #tour-info .vfc-navigation-buttons div .vfc-arrow-right, .vfc-separately-navigation-buttons div .vfc-arrow-right {\n        width: 12px;\n        height: 12px;\n        border-top: 2px solid;\n        border-top-color: currentcolor;\n        border-right: 2px solid;\n        border-right-color: currentcolor;\n        border-color: #fff;\n        -webkit-transform: rotate(45deg);\n        transform: rotate(45deg);\n    }\n    #tour-info .vfc-content {\n        margin: 0 20px;\n        margin-bottom: 0px;\n        z-index: 1;\n    }\n    .vfc-popover-container {\n        width: 100%;\n        max-width: 300px;\n    }\n\n</style>\n'],sourceRoot:""}]);const r=a},50066:(t,n,e)=>{e.r(n),e.d(n,{default:()=>m});var i=e(95093),o=e.n(i);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(){a=function(){return n};var t,n={},e=Object.prototype,i=e.hasOwnProperty,o=Object.defineProperty||function(t,n,e){t[n]=e.value},r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",d=r.toStringTag||"@@toStringTag";function f(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{f({},"")}catch(t){f=function(t,n,e){return t[n]=e}}function u(t,n,e,i){var s=n&&n.prototype instanceof A?n:A,a=Object.create(s.prototype),r=new j(i||[]);return o(a,"_invoke",{value:D(t,e,r)}),a}function v(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}n.wrap=u;var p="suspendedStart",h="suspendedYield",m="executing",g="completed",b={};function A(){}function w(){}function x(){}var y={};f(y,l,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(z([])));k&&k!==e&&i.call(k,l)&&(y=k);var _=x.prototype=A.prototype=Object.create(y);function I(t){["next","throw","return"].forEach((function(n){f(t,n,(function(t){return this._invoke(n,t)}))}))}function T(t,n){function e(o,a,r,l){var c=v(t[o],t,a);if("throw"!==c.type){var d=c.arg,f=d.value;return f&&"object"==s(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(t){e("next",t,r,l)}),(function(t){e("throw",t,r,l)})):n.resolve(f).then((function(t){d.value=t,r(d)}),(function(t){return e("throw",t,r,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(t,i){function o(){return new n((function(n,o){e(t,i,n,o)}))}return a=a?a.then(o,o):o()}})}function D(n,e,i){var o=p;return function(s,a){if(o===m)throw Error("Generator is already running");if(o===g){if("throw"===s)throw a;return{value:t,done:!0}}for(i.method=s,i.arg=a;;){var r=i.delegate;if(r){var l=B(r,i);if(l){if(l===b)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=m;var c=v(n,e,i);if("normal"===c.type){if(o=i.done?g:h,c.arg===b)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=g,i.method="throw",i.arg=c.arg)}}}function B(n,e){var i=e.method,o=n.iterator[i];if(o===t)return e.delegate=null,"throw"===i&&n.iterator.return&&(e.method="return",e.arg=t,B(n,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var s=v(o,n.iterator,e.arg);if("throw"===s.type)return e.method="throw",e.arg=s.arg,e.delegate=null,b;var a=s.arg;return a?a.done?(e[n.resultName]=a.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,b):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b)}function S(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function $(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function z(n){if(n||""===n){var e=n[l];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function e(){for(;++o<n.length;)if(i.call(n,o))return e.value=n[o],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw new TypeError(s(n)+" is not iterable")}return w.prototype=x,o(_,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,d,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===w||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,d,"GeneratorFunction")),t.prototype=Object.create(_),t},n.awrap=function(t){return{__await:t}},I(T.prototype),f(T.prototype,c,(function(){return this})),n.AsyncIterator=T,n.async=function(t,e,i,o,s){void 0===s&&(s=Promise);var a=new T(u(t,e,i,o),s);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(_),f(_,d,"Generator"),f(_,l,(function(){return this})),f(_,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),e=[];for(var i in n)e.push(i);return e.reverse(),function t(){for(;e.length;){var i=e.pop();if(i in n)return t.value=i,t.done=!1,t}return t.done=!0,t}},n.values=z,j.prototype={constructor:j,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach($),!n)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function o(i,o){return r.type="throw",r.arg=n,e.next=i,o&&(e.method="next",e.arg=t),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],r=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=t,a.arg=n,s?(this.method="next",this.next=s.finallyLoc,b):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),b},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),$(e),b}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var i=e.completion;if("throw"===i.type){var o=i.arg;$(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,e,i){return this.delegate={iterator:z(n),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=t),b}},n}function r(t,n,e,i,o,s,a){try{var r=t[s](a),l=r.value}catch(t){return void e(t)}r.done?n(l):Promise.resolve(l).then(i,o)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(i,o){var s=t.apply(n,e);function a(t){r(s,i,o,a,l,"next",t)}function l(t){r(s,i,o,a,l,"throw",t)}a(void 0)}))}}const c={name:"TourInfo",data:function(){return{tour:"",markedDates:["2020-8-12","14/08/2020"],start:new Date,end:new Date((new Date).setDate((new Date).getDate()+7)),review:"",loading:!1,load:!1,invalid:!0}},computed:{menu:function(){return this.$store.getters.menu},user:function(){return this.$store.getters.user}},created:function(){this.getTour()},mounted:function(){this.toCalendar()},methods:{getTour:function(){var t=this;return l(a().mark((function n(){var e,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.load=!0,t.user){n.next=6;break}return n.next=4,t.$store.dispatch("getUser").then((function(){t.tour=t.user.tours.find((function(n){return n.id==t.$route.params.id})),t.start=o()(t.tour.TourInfo.date_range.start,"DD-MM-YYYY").toDate(),t.end=o()(t.tour.TourInfo.date_range.end,"DD-MM-YYYY").toDate();var n=o()(new Date),e=o()(t.tour.EndAt).add(3,"days");1==!!n.isAfter(e)&&(t.invalid=!1),t.load=!1}));case 4:n.next=14;break;case 6:t.tour=t.user.tours.find((function(n){return n.id==t.$route.params.id})),t.start=o()(t.tour.TourInfo.date_range.start,"DD-MM-YYYY").toDate(),t.end=o()(t.tour.TourInfo.date_range.end,"DD-MM-YYYY").toDate(),e=o()(new Date),i=o()(t.tour.EndAt).add(3,"days"),1==!!e.isAfter(i)&&(t.invalid=!1),t.load=!1;case 14:case"end":return n.stop()}}),n)})))()},toCalendar:function(){var t=this;null==this.$refs.Calendar?setTimeout((function(){return t.$refs.Calendar.ChooseDate(t.start)}),2e3):this.$refs.Calendar.ChooseDate(this.start)},toBalance:function(){this.$router.push("/client/balance/"+this.$route.params.id)},addToArchive:function(t){var n=this,e={id:t.id,UserId:t.UserId,Archive:!0,status:"add"};this.$store.dispatch("updateArchive",e).then((function(){console.log("updateArchive","true"),t.Archive=!0,n.$store.dispatch("sendNotification",{message:"Тур успешно перемещен в архив"})}))},returnFromArchive:function(t){var n=this,e={id:t.id,UserId:t.UserId,Archive:!1,status:"return"};this.$store.dispatch("updateArchive",e).then((function(){t.Archive=!1,n.$store.dispatch("sendNotification",{message:"Тур успешно перемещен из архива"})}))},addReview:function(){var t=this;return l(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,e={review:t.review,date:new Date},t.tour.Comment.length>0||(t.tour.Comment=[]),t.tour.Comment.push(e),n.next=5,t.$store.dispatch("updateReview",t.tour).then((function(){t.$store.dispatch("sendNotification",{message:"Новый отзыв успешно добавлен"}),t.loading=!1}));case 5:t.loading=!1,t.$store.dispatch("closeModal","#reviewModalBox");case 7:case"end":return n.stop()}}),n)})))()},sendMessage:function(t){this.$notify({group:"info",type:"travel",title:"Сообщение от ВПУТЬ",text:t})}}};var d=e(85072),f=e.n(d),u=e(32127),v={insert:"head",singleton:!1};f()(u.A,v);u.A.locals;var p=e(95723),h={insert:"head",singleton:!1};f()(p.A,h);p.A.locals;const m=(0,e(14486).A)(c,(function(){var t=this,n=t._self._c;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],attrs:{id:"tour-info"}},[n("div",{staticClass:"modal fade",attrs:{id:"reviewModalBox",tabindex:"-1",role:"dialog","aria-labelledby":"reviewModalBoxLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable",attrs:{id:"client"}},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"row mb-5 mx-auto"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"row align-items-center justify-content-center mx-auto mt-3",staticStyle:{width:"100%"}},[n("label",{staticClass:"control-label"},[t._v("Напишите Ваши впечатления")]),t._v(" "),n("b-form-textarea",{staticClass:"travel-input",staticStyle:{padding:"5px 15px",border:"1px solid #f08b23","border-radius":"20px !important"},attrs:{rows:"6",cols:"80",placeholder:"Напишите Ваши впечатления..."},model:{value:t.review,callback:function(n){t.review=n},expression:"review"}})],1)])])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12 contact-btn"},[n("button",{staticClass:"btn btn-travel",staticStyle:{width:"100%"},attrs:{type:"submit",disabled:t.loading},on:{click:t.addReview}},[n("div",{staticClass:"row align-items-center m-auto w-100 h-100"},[t.loading?n("span",{staticClass:"spinner-border spinner-border-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\n                                       Отправить\n                                    ")])])])])])])])]),t._v(" "),n("div",{staticClass:"row align-items-center m-auto",staticStyle:{width:"100%",height:"100%"}},[n("button",{staticClass:"btn btn-tour-info",on:{click:t.toBalance}},[n("i",{staticClass:"fas fa-wallet me-2"}),t._v("Баланс")]),t._v(" "),t.tour.Archive?n("button",{staticClass:"btn btn-tour-info",on:{click:function(n){return t.returnFromArchive(t.tour)}}},[n("i",{staticClass:"fas fa-archive me-2"}),t._v("Вернуть из архива")]):n("button",{staticClass:"btn btn-tour-info",on:{click:function(n){return t.addToArchive(t.tour)}}},[n("i",{staticClass:"fas fa-archive me-2"}),t._v("Отправить в архив")]),t._v(" "),n("button",{staticClass:"btn btn-tour-info",attrs:{disabled:t.invalid,"data-bs-toggle":"modal","data-bs-target":"#reviewModalBox"}},[n("i",{staticClass:"fas fa-comment-dots me-2"}),t._v("Написать отзыв")])]),t._v(" "),n("div",{staticClass:"row align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:"col-md-6 p-0"},[t._m(1),t._v(" "),n("div",{staticClass:"row features align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row align-items-center w-100 m-auto"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row align-items-center w-100 m-auto"},[n("b",{staticClass:"me-3",class:"tc-flag-"+t.tour.TourInfo.country.Id,staticStyle:{border:"1px solid #063065"}}),t._v(" "),n("div",{staticClass:"subtitle"},[t._v(t._s(t.tour.TourInfo.country.Name))])])])])])])]),t._v(" "),n("div",{staticClass:"col-md-6 p-0"},[t._m(2),t._v(" "),n("div",{staticClass:"row features align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row align-items-center w-100 m-auto"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"subtitle"},[t._v(t._s(t.tour.TourInfo.resort.Name))])])])])])])]),t._v(" "),t._m(3),t._v(" "),n("div",{staticClass:"row features align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[t._m(4),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"row align-items-center w-100 m-auto"},[n("div",{staticClass:"subtitle"},[t._v(t._s(t.tour.TourInfo.hotel.Name)+" "),n("span",{staticClass:"ml-3",staticStyle:{color:"#0f213d"}},[t._v(t._s(t.tour.TourInfo.hotel.StarName))])]),t._v(" "),n("svg",{staticClass:"icon-star my-auto ml-1",staticStyle:{width:"20px",height:"20px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"}},[n("path",{attrs:{fill:"#ffca00",d:"M9.5 0l3.131 5.97 6.367 1.29-4.432 4.97.804 6.77-5.87-2.9L3.63 19l.804-6.77L.002 7.26l6.367-1.29L9.5 0"}})])])])])]),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"row align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[t._m(5),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"subtitle"},[t._v(t._s(t.tour.TourInfo.room_type))])])])]),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"row align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[t._m(6),t._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"subtitle"},[t._v(t._s(t.tour.TourInfo.meal.Name)),n("span",{staticClass:"my-auto",staticStyle:{color:"#0f213d","font-size":"14px"}},[t._v(" - "+t._s(t.tour.TourInfo.meal.desc))])])])])])]),t._v(" "),t._m(7),t._v(" "),n("div",{staticClass:"row m-auto align-items-center justify-content-center",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:"col-md-5 col-sm-12 m-auto"},[n("div",{staticClass:"row mx-auto mt-5 mb-5 align-items-center justify-content-center",staticStyle:{width:"100%",height:"100%"}},[n("functional-calendar",{ref:"Calendar",attrs:{"marked-date-range":{start:t.tour.TourInfo.date_range.start,end:t.tour.TourInfo.date_range.end}}})],1)]),t._v(" "),n("div",{staticClass:"col-md-5 col-sm-12 m-auto"},[n("add-to-calendar",{attrs:{title:"Тур",location:t.tour.TourInfo.resort.Name+", "+t.tour.TourInfo.country.Name,start:t.start,end:t.end,details:"Тур от ВПУТЬ"},inlineTemplate:{render:function(){var t=this,n=t._self._c;return n("div",{staticClass:"calendars row w-100 m-auto"},[n("div",{staticClass:"col-12 mb-2"},[n("google-calendar",{attrs:{id:"google-calendar"}},[n("i",{staticClass:"icon-google"}),t._v(" Добавить в Google календарь\n                            ")])],1),t._v(" "),n("div",{staticClass:"col-12 mb-2"},[n("microsoft-calendar",{attrs:{id:"microsoft-calendar"}},[n("i",{staticClass:"icon-windows"}),t._v(" Добавить в Microsoft live календарь\n                            ")])],1),t._v(" "),n("div",{staticClass:"col-12 mb-2"},[n("office365-calendar",{attrs:{id:"office365-calendar"}},[n("i",{staticClass:"icon-microsoftoutlook"}),t._v(" Добавить в  Office365 outlook календарь\n                            ")])],1)])},staticRenderFns:[]}})],1)]),t._v(" "),t.tour.TourInfo.avia_tickets.length>0?n("div",{staticClass:"row mx-auto mt-5 mb-5 align-items-center",staticStyle:{width:"100%",height:"100%","border-top":"4px solid #f08b23"}},[n("span",{staticClass:"white--text active-tour ml-5",staticStyle:{background:"#062348","font-size":"18px",position:"absolute"}},[t._v("Авиабилеты")])]):t._e(),t._v(" "),t.tour.TourInfo.avia_tickets.length>0?n("div",{staticClass:"row features align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"lists"},[n("section",{directives:[{name:"show",rawName:"v-show",value:t.tour.TourInfo.avia_tickets.length,expression:"tour.TourInfo.avia_tickets.length"}],staticClass:"main"},[n("ul",{staticClass:"ticket-list"},t._l(t.tour.TourInfo.avia_tickets,(function(e){return n("li",{key:e.id,staticClass:"ticket"},[n("div",{staticClass:"view"},[n("div",{staticClass:"row align-items-center justify-content-center m-auto w-100 h-100"},[n("div",{staticClass:"col-4 p-0"},[n("label",[t._v(t._s(e.date))])]),t._v(" "),n("div",{staticClass:"col-8 p-0",staticStyle:{"border-left":"1px solid #f08b23"}},[n("label",[t._v(t._s(e.description))])])])])])})),0)])])])]):t._e(),t._v(" "),t.tour.TourInfo.passengers.length>0?n("div",{staticClass:"row mx-auto mt-5 mb-5 align-items-center",staticStyle:{width:"100%",height:"100%","border-top":"4px solid #f08b23"}},[n("span",{staticClass:"white--text active-tour ml-5",staticStyle:{background:"#062348","font-size":"18px",position:"absolute"}},[t._v("Пассажиры")])]):t._e(),t._v(" "),t.tour.TourInfo.passengers.length>0?n("div",{staticClass:"row features align-items-center justify-content-center m-auto",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"lists"},[n("section",{directives:[{name:"show",rawName:"v-show",value:t.tour.TourInfo.passengers.length,expression:"tour.TourInfo.passengers.length"}],staticClass:"main"},[n("ul",{staticClass:"passenger-list"},t._l(t.tour.TourInfo.passengers,(function(e){return n("li",{key:e.id,staticClass:"passenger"},[n("div",{staticClass:"view"},[n("div",{staticClass:"row align-items-center justify-content-center m-auto w-100 h-100"},[n("div",{staticClass:"col-4 p-0",staticStyle:{"border-right":"1px solid #f08b23"}},[n("label",[t._v(t._s(e.Name))])]),t._v(" "),n("div",{staticClass:"col-2 p-0",staticStyle:{"border-left":"1px solid #f08b23"}},[n("label",[t._v(t._s(e.DoB))])]),t._v(" "),n("div",{staticClass:"col-2 p-0",staticStyle:{"border-left":"1px solid #f08b23"}},[n("label",[t._v(t._s(e.Passport))])]),t._v(" "),n("div",{staticClass:"col-2 p-0",staticStyle:{"border-left":"1px solid #f08b23"}},[n("label",[t._v(t._s(e.Date))])]),t._v(" "),n("div",{staticClass:"col-2 p-0",staticStyle:{"border-left":"1px solid #f08b23"}},[n("label",[t._v(t._s(e.ExpiryDate))])])])])])})),0)])])])]):t._e(),t._v(" "),""!=t.tour.TourInfo.services.trim()?n("div",{staticClass:"row mx-auto mt-5 mb-5 justify-content-center align-items-center",staticStyle:{width:"100%",height:"100%","border-top":"4px solid #f08b23"}},[n("span",{staticClass:"white--text active-tour ml-5",staticStyle:{background:"#062348","font-size":"18px",width:"330px",position:"absolute"}},[t._v("Дополнительные услуги")])]):t._e(),t._v(" "),""!=t.tour.TourInfo.services.trim()?n("div",{staticClass:"row features align-items-center justify-content-center mx-auto mt-auto mb-5",staticStyle:{width:"100%",height:"100%"}},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row align-items-center w-100 m-auto"},[n("div",{staticClass:"title"},[t._v(t._s(t.tour.TourInfo.services))])])])]):t._e(),t._v(" "),t.tour.TourInfo.files.length>0?n("div",{staticClass:"row mx-auto mt-5 mb-5 justify-content-center align-items-center",staticStyle:{width:"100%",height:"100%","border-top":"4px solid #f08b23"}},[n("span",{staticClass:"white--text active-tour ml-5",staticStyle:{background:"#062348","font-size":"18px",width:"330px",position:"absolute"}},[t._v("Файлы")])]):t._e(),t._v(" "),t.tour.TourInfo.files.length>0?n("div",{staticClass:"file-listing"},t._l(t.tour.TourInfo.files,(function(e,i){return n("div",{key:e.name,staticClass:"list-group-item"},[n("div",{staticClass:"row m-auto w-100 align-items-center justify-content-center"},[n("div",{staticClass:"col-4 text-center"},[/\.(jpe?g|png|svg)$/i.test(e.name)?n("img",{staticClass:"preview",attrs:{src:e.path}}):n("img",{staticClass:"preview",attrs:{src:"/images/LOGO-1.png"}})]),t._v(" "),n("div",{staticClass:"col-8"},["file"==e.type?n("div",[n("a",{staticStyle:{color:"#f08b23"},attrs:{href:e.path}},[n("p",{staticClass:"control-label"},[t._v(t._s(e.name))])])]):t._e(),t._v(" "),"audio"==e.type?n("div",[n("audio-player",{attrs:{audio:e}})],1):t._e()])])])})),0):t._e()])}),[function(){var t=this,n=t._self._c;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"reviewModalBoxLabel"}},[t._v("Оставить отзыв")]),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this._self._c;return t("div",{staticClass:"row mx-auto mt-5 mb-5 align-items-center",staticStyle:{width:"100%",height:"100%","border-top":"4px solid #f08b23"}},[t("span",{staticClass:"white--text active-tour ml-5",staticStyle:{background:"#062348","font-size":"18px",position:"absolute"}},[this._v("Страна")])])},function(){var t=this._self._c;return t("div",{staticClass:"row mx-auto mt-5 mb-5 align-items-center",staticStyle:{width:"100%",height:"100%","border-top":"4px solid #f08b23"}},[t("span",{staticClass:"white--text active-tour ml-5",staticStyle:{background:"#062348","font-size":"18px",position:"absolute"}},[this._v("Курорт")])])},function(){var t=this._self._c;return t("div",{staticClass:"row mx-auto mt-5 mb-5 align-items-center",staticStyle:{width:"100%",height:"100%","border-top":"4px solid #f08b23"}},[t("span",{staticClass:"white--text active-tour ml-5",staticStyle:{background:"#062348","font-size":"18px",position:"absolute"}},[this._v("Отель")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-12"},[t("div",{staticClass:"title"},[t("i",{staticClass:"icon-icon-list me-1",staticStyle:{"font-size":"11px"}},[t("span",{staticClass:"path1"},[t("span",{staticClass:"path2"})])]),this._v("название отеля:\n                        ")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-12"},[t("div",{staticClass:"title"},[t("i",{staticClass:"icon-icon-list me-1",staticStyle:{"font-size":"11px"}},[t("span",{staticClass:"path1"},[t("span",{staticClass:"path2"})])]),this._v("\n                            категория номера:\n                        ")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-12"},[t("div",{staticClass:"title"},[t("i",{staticClass:"icon-icon-list me-1",staticStyle:{"font-size":"11px"}},[t("span",{staticClass:"path1"},[t("span",{staticClass:"path2"})])]),this._v("\n                            питание\n                        ")])])},function(){var t=this._self._c;return t("div",{staticClass:"row mx-auto mt-5 mb-5 align-items-center",staticStyle:{width:"100%",height:"100%","border-top":"4px solid #f08b23"}},[t("span",{staticClass:"white--text active-tour ml-5",staticStyle:{background:"#062348","font-size":"18px",position:"absolute"}},[this._v("Даты")])])}],!1,null,"04f5d7d6",null).exports}}]);
//# sourceMappingURL=7685.js.map