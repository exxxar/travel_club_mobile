{"version":3,"sources":["webpack:///./resources/js/desktop/pages/admin/Branches/Edit.vue?63d9","webpack:///./resources/js/desktop/pages/admin/Branches/Edit.vue?9e3b","webpack:///./resources/js/desktop/pages/admin/Branches/Edit.vue?24f4","webpack:///resources/js/desktop/pages/admin/Branches/Edit.vue","webpack:///./resources/js/desktop/pages/admin/Branches/Edit.vue?640e","webpack:///./resources/js/desktop/pages/admin/Branches/Edit.vue","webpack:///./resources/js/desktop/pages/admin/Branches/Edit.vue?d562"],"names":["content","module","i","options","transform","undefined","locals","exports","push","component","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","model","value","new_department","callback","$$v","$set","expression","_v","directives","name","rawName","on","addDepartment","_l","department","index","$event","save","departments","branch","id","removeDepartment"],"mappings":"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","file":"18.js","sourcesContent":["\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=e63bbf12&scoped=true&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=e63bbf12&scoped=true&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=e63bbf12&scoped=true&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".btn-travel[data-v-e63bbf12]{background:#e17e4e;background-position-x:0;background-position-y:0;background-image:none;background-size:auto;background-image:linear-gradient(to bottom left,#e17e4e,#ffbf00,#e17e4e);background-size:210% 210%;background-position:100% 0;background-color:#e17e4e;transition:all .15s ease;box-shadow:none;color:#fff;max-width:300px;border:none}\", \"\"]);\n\n// exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-2\"},[_c('div',{staticClass:\"row m-auto w-100 align-items-center justify-content-center p-3\",staticStyle:{\"border-radius\":\"5px\",\"border\":\"1px solid #e8e8e8\"}},[_c('div',{staticClass:\"col-12 col-sm-6 col-md-4\"},[_c('b-form-input',{staticClass:\"my-1 travel-input\",attrs:{\"placeholder\":\"Адрес\"},model:{value:(_vm.new_department.address),callback:function ($$v) {_vm.$set(_vm.new_department, \"address\", $$v)},expression:\"new_department.address\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-sm-6 col-md-4\"},[_c('b-form-input',{directives:[{name:\"mask\",rawName:\"v-mask\",value:(['+# (###) ###-##-##','+## (###) ###-##-##']),expression:\"['+# (###) ###-##-##','+## (###) ###-##-##']\"}],staticClass:\"my-1 travel-input\",attrs:{\"placeholder\":\"Телефон\"},model:{value:(_vm.new_department.phone),callback:function ($$v) {_vm.$set(_vm.new_department, \"phone\", $$v)},expression:\"new_department.phone\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-md-4\"},[_c('b-button',{staticClass:\"my-1 mx-auto w-100 btn-travel\",staticStyle:{\"max-width\":\"300px\"},attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.addDepartment}},[_vm._v(\"\\n                Добавить\\n            \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row mt-3 mx-auto w-100 align-items-center justify-content-center\"},[_c('div',{staticClass:\"col-12 p-0\"},_vm._l((_vm.departments),function(department,index){return _c('div',{staticClass:\"row mt-1 mx-auto w-100 align-items-center justify-content-center p-3\",staticStyle:{\"border-radius\":\"5px\",\"border\":\"1px solid #e8e8e8\"}},[_c('div',{staticClass:\"col-12 col-sm-6 col-md-4\"},[_c('b-form-input',{staticClass:\"my-1 travel-input\",attrs:{\"placeholder\":\"Адрес\"},on:{\"blur\":function($event){return _vm.save(_vm.departments, _vm.branch.id, 'departments')}},model:{value:(department.address),callback:function ($$v) {_vm.$set(department, \"address\", $$v)},expression:\"department.address\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-sm-6 col-md-4\"},[_c('b-form-input',{directives:[{name:\"mask\",rawName:\"v-mask\",value:(['+# (###) ###-##-##','+## (###) ###-##-##']),expression:\"['+# (###) ###-##-##','+## (###) ###-##-##']\"}],staticClass:\"my-1 travel-input\",attrs:{\"placeholder\":\"Телефон\"},on:{\"blur\":function($event){return _vm.save(_vm.departments, _vm.branch.id, 'departments')}},model:{value:(department.phone),callback:function ($$v) {_vm.$set(department, \"phone\", $$v)},expression:\"department.phone\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-12 col-md-4\"},[_c('b-button',{staticClass:\"my-1 mx-auto w-100 btn-travel\",staticStyle:{\"max-width\":\"300px\"},attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.removeDepartment(index)}}},[_vm._v(\"\\n                        Удалить\\n                    \")])],1)])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"p-2\">\r\n        <div class=\"row m-auto w-100 align-items-center justify-content-center p-3\"\r\n             style=\"border-radius: 5px; border:1px solid #e8e8e8\">\r\n            <div class=\"col-12 col-sm-6 col-md-4\">\r\n                <b-form-input\r\n                    v-model=\"new_department.address\"\r\n                    placeholder=\"Адрес\"\r\n                    class=\"my-1 travel-input\"\r\n                >\r\n                </b-form-input>\r\n            </div>\r\n            <div class=\"col-12 col-sm-6 col-md-4\">\r\n                <b-form-input\r\n                    placeholder=\"Телефон\"\r\n                    v-model=\"new_department.phone\"\r\n                    v-mask=\"['+# (###) ###-##-##','+## (###) ###-##-##']\"\r\n                    class=\"my-1 travel-input\"\r\n                >\r\n                </b-form-input>\r\n            </div>\r\n            <div class=\"col-12 col-md-4\">\r\n                <b-button variant=\"primary\" class=\"my-1 mx-auto w-100 btn-travel\" style=\"max-width: 300px\" @click=\"addDepartment\">\r\n                    Добавить\r\n                </b-button>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3 mx-auto w-100 align-items-center justify-content-center\">\r\n            <div class=\"col-12 p-0\">\r\n                <div class=\"row mt-1 mx-auto w-100 align-items-center justify-content-center p-3\"\r\n                     style=\"border-radius: 5px; border:1px solid #e8e8e8\" v-for=\"(department, index) in departments\">\r\n                    <div class=\"col-12 col-sm-6 col-md-4\">\r\n                        <b-form-input\r\n                            v-model=\"department.address\"\r\n                            placeholder=\"Адрес\"\r\n                            class=\"my-1 travel-input\"\r\n                            @blur=\"save(departments, branch.id, 'departments')\"\r\n                        >\r\n                        </b-form-input>\r\n                    </div>\r\n                    <div class=\"col-12 col-sm-6 col-md-4\">\r\n                        <b-form-input\r\n                            placeholder=\"Телефон\"\r\n                            v-model=\"department.phone\"\r\n                            class=\"my-1 travel-input\"\r\n                            v-mask=\"['+# (###) ###-##-##','+## (###) ###-##-##']\"\r\n                            @blur=\"save(departments, branch.id, 'departments')\"\r\n                        >\r\n                        </b-form-input>\r\n                    </div>\r\n                    <div class=\"col-12 col-md-4\">\r\n                        <b-button variant=\"primary\" class=\"my-1 mx-auto w-100 btn-travel\" style=\"max-width: 300px\" @click=\"removeDepartment(index)\">\r\n                            Удалить\r\n                        </b-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mask} from 'vue-the-mask'\r\n    export default {\r\n        name: \"Edit\",\r\n        data() {\r\n            return {\r\n                new_department: {\r\n                    address:'',\r\n                    phone:'',\r\n                    schedule:''\r\n                },\r\n                departments:[],\r\n                branch:null,\r\n                loading:false\r\n            }\r\n        },\r\n        computed: {\r\n            branches() {\r\n                return this.$store.getters.branches;\r\n            },\r\n        },\r\n        mounted() {\r\n            this.setBranches();\r\n        },\r\n        methods: {\r\n            async setBranches () {\r\n                this.loading=true;\r\n                if(this.branches.length<=0){\r\n\r\n                    await this.$store.dispatch('setBranches').then(()=>{\r\n                        if (this.$route.params.id !== undefined) {\r\n                            this.branch = this.branches.find((branch) => {\r\n                                if(branch.id == this.$route.params.id)\r\n                                {\r\n                                    return true;\r\n                                }\r\n                            });\r\n                            this.departments=this.branch.departments\r\n                            this.loading=false;\r\n                        }\r\n                    })\r\n                }\r\n                else{\r\n                    if (this.$route.params.id !== undefined) {\r\n                        this.branch = this.branches.find((branch) => {\r\n                            if(branch.id == this.$route.params.id)\r\n                            {\r\n                                return true;\r\n                            }\r\n                        });\r\n                        this.departments=this.branch.departments\r\n                    }\r\n                    this.loading=false;\r\n                }\r\n\r\n            },\r\n            async save(value, id, key) {\r\n                this.$store.dispatch('saveBranch', {\r\n                    id: id,\r\n                    key: key,\r\n                    value: value\r\n                }).then(resp => {\r\n                    this.$store.commit('saveBranch', resp.data.branch);\r\n                    this.sendMessage(resp.data.message)\r\n                });\r\n            },\r\n            addDepartment(){\r\n                this.departments.push(this.new_department);\r\n                this.save(this.departments,this.$route.params.id,'departments')\r\n                this.new_department={\r\n                    address:'',\r\n                    phone:'',\r\n                    schedule:''\r\n                }\r\n            },\r\n            removeDepartment(index){\r\n                // let branch = state.branches.findIndex(x => x.id === payload);\r\n                // if (branch >= 0) {\r\n                //     state.branches.splice(branch, 1);\r\n                // }\r\n                this.departments.splice(index, 1);\r\n                this.save(this.departments,this.$route.params.id,'departments')\r\n            },\r\n            sendMessage(message) {\r\n                this.$notify({\r\n                    group: 'info',\r\n                    type: 'travel',\r\n                    title: 'Отделения',\r\n                    text: message\r\n                });\r\n            },\r\n        },\r\n        directives: {mask}\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .btn-travel{\r\n        background: #e17e4e;\r\n        background-color: rgb(225, 126, 78);\r\n        background-position-x: 0%;\r\n        background-position-y: 0%;\r\n        background-image: none;\r\n        background-size: auto;\r\n        background-image: linear-gradient(to bottom left, #e17e4e, #ffbf00, #e17e4e);\r\n        background-size: 210% 210%;\r\n        background-position: top right;\r\n        background-color: #e17e4e;\r\n        transition: all 0.15s ease;\r\n        box-shadow: none;\r\n        color: #ffffff;\r\n        max-width: 300px;\r\n        border: none;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=e63bbf12&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=e63bbf12&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e63bbf12\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/style-loader/index.js!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=e63bbf12&scoped=true&lang=css&\""],"sourceRoot":""}